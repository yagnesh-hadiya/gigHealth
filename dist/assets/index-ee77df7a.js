import{r as t,b as f,u as k,E as C,c as s,a3 as E,f as P,a4 as p,k as u,l as x,m as h,a5 as j,L as A,a6 as B,H as w,a7 as H,a8 as I,a9 as M,aa as T}from"./index-e391d606.js";import{l as G}from"./AuthServices-97191502.js";import{S as R}from"./SelectedSidebar-192d9a81.js";const U=()=>{var c,d;const[a,o]=t.useState(!0),[b,n]=t.useState(!1),{setSelectedMenu:N}=t.useContext(R),L=f(),{handleSubmit:S,register:i,formState:{errors:r}}=k({resolver:C(B)}),y=()=>o(l=>!l),v=async l=>{var m,g;try{const{email:e,password:F}=l;n(!0),await G(e,F),N(!0),n(!1),w("success","User Logged in successfully!"),L("/")}catch(e){console.error(e),n(!1),w("error",((g=(m=e==null?void 0:e.response)==null?void 0:m.data)==null?void 0:g.message)||"Something went wrong")}};return s.jsx(s.Fragment,{children:s.jsxs(E,{onSubmit:S(v),children:[b&&s.jsx(P,{}),s.jsxs(p,{children:[s.jsxs(u,{for:"email",className:"label-input",children:["Email address",s.jsx("span",{className:"asterisk",children:" *"})]}),s.jsx(x,{type:"email",id:"email",placeholder:"Email Address",invalid:!!r.email,...i("email")}),s.jsx(h,{children:(c=r.email)==null?void 0:c.message})]}),s.jsxs(p,{className:"pass-wrap",children:[s.jsxs(u,{for:"password",className:"label-input",children:["Password",s.jsx("span",{className:"asterisk",children:" *"})]}),s.jsx(x,{type:a?"password":"text",placeholder:"Password",invalid:!!r.password,...i("password")}),s.jsx(h,{children:(d=r.password)==null?void 0:d.message}),s.jsx(j,{type:"button",onClick:y,className:"pass-visible",children:a?"Show":"Hide"})]}),s.jsxs("div",{className:"footer-btn-wrap",children:[s.jsx(j,{className:"login-btn",type:"submit",children:"Login"}),s.jsx(A,{to:"/forgot-password",className:"forgot-pass-btn",children:"Forgot Password"})]})]})})},D=()=>{const a=f(),o=H();return t.useEffect(()=>{a(o?"/":"/login")},[a,o]),s.jsx("div",{className:"card-main-wrapper",children:s.jsx(I,{className:"card-content",children:s.jsxs(M,{className:"card-body-content",children:[s.jsx("img",{src:T,alt:"logo",className:"img-logo"}),s.jsx("h1",{className:"card-title",children:"Login"}),s.jsx(U,{})]})})})};export{D as default};
