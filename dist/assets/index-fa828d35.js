var wa=Object.defineProperty;var Fa=(l,s,t)=>s in l?wa(l,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[s]=t;var ss=(l,s,t)=>(Fa(l,typeof s!="symbol"?s+"":s,t),t);import{r,b as gs,c as e,f as de,b6 as $s,d as z,l as p,B as je,aW as Ns,a_ as is,bD as Ba,ap as nl,L as Us,bE as Ma,a as He,g as ys,e as Ze,R as ge,h as m,k as u,b8 as Fl,s as ps,U as da,H as E,bF as we,bG as Be,bH as Fe,bI as As,n as _e,bo as rs,q as zs,aQ as Hs,C as le,aR as Ps,aU as xs,bJ as ll,bK as Bl,aX as qs,bL as Tl,bM as Il,ak as pe,N as ml,y as ul,z as hl,T as al,A as Ls,bN as oa,bO as fs,bP as Ml,bQ as ls,bw as Ys,bx as ns,bR as es,u as ms,E as us,ay as ds,bS as Ol,bT as xa,bU as ne,bV as Oa,bW as tl,bX as Cl,bY as Dl,aw as il,bZ as Le,b_ as Ie,b$ as ke,c0 as pl,m as fe,c1 as gl,a0 as Ce,c2 as Jl,c3 as Hl,c4 as Te,c5 as yl,c6 as jl,c7 as Nl,c8 as fl,aS as _s,c9 as bl,ag as Ll,ca as Pl,cb as ql,cc as $l,cd as Yl,W as Vs,ce as Ul,cf as Qs,cg as Gl,ch as zl,ci as Wl,X as Vl,cj as Ja,a3 as Gs,M as Ql,S as Xl,o as Zl,p as Kl,D as _l,t as ts,v as Xs,w as Zs,x as Ks,ck as Al,cl as ea,br as ma,ar as dl,as as el,at as sl,au as ol,cm as kl,cn as ua,co as ha,cp as Ha,by as cl,a4 as vl,cq as La,cr as Pa,cs as pa,ct as ga,cu as qa,j as $a,i as Ya,J as Rl,cv as ia,cw as Ua,cx as ya,cy as wl,cz as Ga,cA as za,av as ja,cB as Wa,cC as Va,cD as Qa,cE as Xa,cF as Za,cG as Na,cH as fa,cI as Ka,cJ as _a,aq as Aa,cK as et,cL as as,cM as ba,cN as va,cO as st,cP as lt,cQ as at,cR as tt,cS as it,cT as ct,cU as rt,cV as nt,cW as dt,cX as ot,cY as xt,cZ as rl,c_ as mt,F as ut}from"./index-e391d606.js";import{g as ht,a as pt,b as gt,c as yt,d as jt,e as Nt}from"./ContractTerm-bca6f0b4.js";const ft=({data:l,imageLoading:s,imageURL:t})=>{var c,N,g,i,o,n,b,S,a,x;const h=gs(),y=d=>{h(`/facility/edit/${d}`)};return e.jsx("div",{className:"facility-header-wrap mb-3",children:e.jsxs("div",{className:"content-wrapper align-items-center py-1",style:{padding:"5px 20px !Important;"},children:[e.jsxs("div",{className:"facility-camera-wrapper position-relative header-hospital-img-wrap",children:[s&&e.jsx("div",{className:"facility-camera-wrapper position-relative header-hospital-img-wrap",children:e.jsx(de,{})}),!s&&t&&e.jsx("img",{src:`${t}`,alt:"facilityPicturedd",className:`file-camera-img ${t?"header-file-camera-img":"header-camera"}`}),!s&&!t&&e.jsx("img",{src:$s,alt:"facilityPicturess",className:"header-camera"})]}),e.jsxs("div",{className:"details-wrapper ms-3",children:[e.jsxs("div",{className:"first-section-content",children:[e.jsx("h1",{className:"hospital-name",children:z((l==null?void 0:l.Name)??"--")}),e.jsx(p,{placeholder:"",value:l!=null&&l.Id?`FID-${l==null?void 0:l.Id}`:"",disabled:!0}),e.jsx(je,{submodule:"",module:"facilities",action:["GET","PUT"],children:e.jsx(Ns,{onEdit:()=>y((l==null?void 0:l.Id)??0)})})]}),e.jsxs("div",{className:"second-section-content header-space-text",children:[e.jsxs("span",{children:[e.jsx("span",{className:"main-text",children:"Phone: "}),is((l==null?void 0:l.HospitalPhone)??"")]}),e.jsxs("span",{children:[e.jsx("span",{className:"main-text",children:"Address: "}),(l==null?void 0:l.Address)??""," ",((c=l==null?void 0:l.City)==null?void 0:c.City)??""," ",((N=l==null?void 0:l.State)==null?void 0:N.State)??""," ",((g=l==null?void 0:l.ZipCode)==null?void 0:g.ZipCode)??""]}),e.jsxs("span",{children:[e.jsx("span",{className:"main-text",children:"Health System: "}),l!=null&&l.ParentHealthSystem?z(((i=l==null?void 0:l.ParentHealthSystem)==null?void 0:i.Name)??"--"):z(((o=l==null?void 0:l.FacilityHealthSystem)==null?void 0:o.Name)??"--")]})]}),e.jsxs("div",{className:"second-section-content header-space-text",children:[e.jsxs("span",{children:[e.jsx("span",{className:"main-text",children:"Trauma Level: "}),(n=l==null?void 0:l.TraumaLevel)==null?void 0:n.Level]}),e.jsxs("span",{children:[e.jsx("span",{className:"main-text",children:"Contract Type: "}),(b=l==null?void 0:l.ContractType)==null?void 0:b.Type]}),e.jsxs("span",{children:[e.jsx("span",{className:"main-text",children:"Service Type: "}),(S=l==null?void 0:l.ServiceType)==null?void 0:S.Type]}),e.jsxs("span",{children:[e.jsx("span",{className:"main-text",children:"Program Manager: "}),`${z(((a=l==null?void 0:l.ProgramManager)==null?void 0:a.FirstName)??"-")} ${z(((x=l==null?void 0:l.ProgramManager)==null?void 0:x.LastName)??"-")}`]})]})]})]})})},bt=r.memo(ft),vt=({setActiveComponent:l,activeComponent:s})=>{const t=Ba(),h=[{text:"Facility Details",module:"facilities",submodule:"details"},{text:"Facility Locations",module:"facilities",submodule:"location"},{text:"Contacts",module:"facilities",submodule:"contacts"},{text:"Notes & Activity",module:"facilities",submodule:"notes"},{text:"Onboarding",module:"facilities",submodule:"onboarding"},{text:"Roster",module:"facilities",submodule:"roster"},{text:"Gig History",module:"facilities",submodule:"gighistory"},{text:"Contract Terms",module:"facilities",submodule:"contractterms"},{text:"Jobs",module:"facilities",submodule:"jobs"},{text:"Job Templates",module:"facilities",submodule:"jobtemplates"},{text:"Compliance",module:"facilities",submodule:"compliance"},{text:"Facility Documents",module:"facilities",submodule:"facilitydocuments"},{text:"FAQ's",module:"facilities",submodule:"faqs"}],y=N=>{l(N),Ma(N)},c=r.useMemo(()=>h.filter(g=>{const i=nl(g.module,g.submodule,["GET"]),o=nl(g.module,g.submodule,["GET"]);return i||o}).map(g=>g.text),[]);return r.useEffect(()=>{if(c.length>0&&!t){const N=c[0];l(s||N)}else t&&l(t)},[c,l]),e.jsx("nav",{className:"facility-sidebar",children:e.jsx("ul",{className:"facility__list",children:c.map((N,g)=>e.jsx("li",{className:"facility__li-box",children:e.jsx(Us,{onClick:()=>y(N),hrefLang:N,className:`facility__li-link ${N===s?"active":""}`,to:"",children:e.jsx("span",{className:"facility__li",children:N})})},g))})})},St=()=>{var i,o,n,b,S,a,x,d,C,f,O,M,k,w,F,q;const l=He(),[s,t]=r.useState(),[h,y]=r.useState(!1),[c,N]=r.useState(),g=async()=>{var H,Q,B;try{y(!0);const R=await da(Number(l==null?void 0:l.Id));N((H=R==null?void 0:R.data)==null?void 0:H.data[0]),y(!1)}catch(R){console.error(R),y(!1),E("error",((B=(Q=R==null?void 0:R.response)==null?void 0:Q.data)==null?void 0:B.message)||"Something went wrong")}};return r.useEffect(()=>{g()},[l==null?void 0:l.Id]),r.useEffect(()=>{var H;t((H=c==null?void 0:c.IsTeachingHospital)==null?void 0:H.toString())},[c==null?void 0:c.IsTeachingHospital]),e.jsx(e.Fragment,{children:e.jsx(ys,{children:e.jsxs("div",{className:"facility-listing-loader",children:[e.jsx("h2",{className:"page-content-header",children:"Facility Details"}),e.jsxs(Ze,{children:[h&&e.jsx(de,{}),e.jsxs(ge,{children:[e.jsxs(m,{xxl:"6",xl:"6",lg:"6",md:"12",className:"col-group",children:[e.jsxs(u,{className:"",children:["Total Professionals on Assignment",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"30",disabled:!0,value:(c==null?void 0:c.TalentCountOnAssignment)??0})]}),e.jsxs(m,{xxl:"6",xl:"6",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Total Bed Count"}),e.jsx(p,{placeholder:"Total Bed Count",disabled:!0,value:(c==null?void 0:c.BedCount)??0})]}),e.jsxs(m,{xxl:"6",xl:"6",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Teaching Hospital"}),e.jsx(Fl,{disabled:!0,name:"IsTeachingHospital",options:[{label:"Yes",value:"true"},{label:"No",value:"false"}],selected:s??"",onChange:H=>H})]}),e.jsxs(m,{xxl:"6",xl:"3",lg:"3",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Phone Number"}),e.jsx(p,{placeholder:"Mobile",value:is((c==null?void 0:c.HospitalPhone)??""),disabled:!0})]}),e.jsxs(m,{xxl:"12",className:"col-group",children:[e.jsx(u,{children:"Facility Requirements"}),e.jsx(ps,{disabled:!0,value:(c==null?void 0:c.Requiremnts)??""})]}),e.jsxs(m,{xxl:"12",className:"col-group",children:[e.jsx(u,{children:"Internal Facility Notes"}),e.jsx(ps,{disabled:!0,value:(c==null?void 0:c.InternalNotes)??""})]}),e.jsx("h2",{className:"page-content-header",children:"Primary Point Of Contact"}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"First Name"}),e.jsx(p,{placeholder:"First Name",value:(i=c==null?void 0:c.PrimaryContact)==null?void 0:i.FirstName,disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Last Name"}),e.jsx(p,{placeholder:"Last Name",value:(o=c==null?void 0:c.PrimaryContact)==null?void 0:o.LastName,disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Title"}),e.jsx(p,{placeholder:"Title",value:(n=c==null?void 0:c.PrimaryContact)==null?void 0:n.Title,disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Email Address"}),e.jsx(p,{placeholder:"Email Address",value:(b=c==null?void 0:c.PrimaryContact)==null?void 0:b.Email,disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Mobile"}),e.jsx(p,{placeholder:"Phone Number",value:is(((S=c==null?void 0:c.PrimaryContact)==null?void 0:S.Phone)??""),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Fax"}),e.jsx(p,{placeholder:"Fax",value:(a=c==null?void 0:c.PrimaryContact)==null?void 0:a.Fax,disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Role"}),e.jsx(p,{placeholder:"Primary  Role",value:is(((d=(x=c==null?void 0:c.PrimaryContact)==null?void 0:x.FacilityRole)==null?void 0:d.Role)??""),disabled:!0})]}),e.jsx("h2",{className:"page-content-header",children:"Secondary Point Of Contact"}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"First Name"}),e.jsx(p,{placeholder:"First Name",value:(C=c==null?void 0:c.SecondaryContact)==null?void 0:C.FirstName,disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Last Name"}),e.jsx(p,{placeholder:"Last Name",value:(f=c==null?void 0:c.SecondaryContact)==null?void 0:f.LastName,disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Title"}),e.jsx(p,{placeholder:"Title",value:(O=c==null?void 0:c.SecondaryContact)==null?void 0:O.Title,disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Email Address"}),e.jsx(p,{placeholder:"Email Address",value:(M=c==null?void 0:c.SecondaryContact)==null?void 0:M.Email,disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Mobile"}),e.jsx(p,{placeholder:"Phone Number",value:is(((k=c==null?void 0:c.SecondaryContact)==null?void 0:k.Phone)??""),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Fax"}),e.jsx(p,{placeholder:"Fax",value:(w=c==null?void 0:c.SecondaryContact)==null?void 0:w.Fax,disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Role"}),e.jsx(p,{placeholder:"Secondary  Role",value:((q=(F=c==null?void 0:c.SecondaryContact)==null?void 0:F.FacilityRole)==null?void 0:q.Role)??"",disabled:!0})]})]})]})]})})})},ca=({onStateChange:l,checked:s,allow:t})=>{const h=()=>{l(!s)};return t?e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:s,onChange:h}),e.jsx("span",{className:"slider round"})]}):null},Ct=({Id:l,isOpen:s,toggle:t})=>{var S;const[h,y]=r.useState(!1),[c,N]=r.useState(null),[g,i]=r.useState(null),[o,n]=r.useState([]),b=He();return r.useEffect(()=>{(async()=>{y(!0);try{if(l!==void 0){const x=await await ht(Number(b==null?void 0:b.Id),l);N(x)}y(!1)}catch(x){console.error(x),y(!1),E("error",x.response.message||"Something went wrong")}})()},[]),r.useEffect(()=>{c&&c.PaymentTerm&&i({label:c.PaymentTerm.Term,value:c.PaymentTerm.Id})},[c]),r.useEffect(()=>{(async()=>{var x,d;try{y(!0);const C=await pt(Number(b==null?void 0:b.Id));y(!1),n(C)}catch(C){console.error(C),y(!1),E("error",((d=(x=C==null?void 0:C.response)==null?void 0:x.data)==null?void 0:d.message)||"Something went wrong")}})()},[]),e.jsx("div",{children:e.jsxs(we,{className:"view-contract-modal",isOpen:s,toggle:t,centered:!0,size:"xl",children:[e.jsxs(Be,{toggle:t,children:["Contract ID - ",h?e.jsx(de,{}):`FCON-${l}`]}),e.jsx(Fe,{children:h?e.jsx(de,{}):c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"view-file-wrapper",children:(S=c==null?void 0:c.ContractDocuments)==null?void 0:S.map(a=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"d-flex align-items-center view-file-info-section pb-3 pt-3",children:[e.jsx("div",{className:"file-img d-flex",children:e.jsx("img",{src:As,className:""})}),e.jsxs("div",{children:[e.jsx("p",{className:"file-name",children:a.FileName}),e.jsxs("div",{className:"file-content",children:[e.jsx("span",{className:"info-title",children:"Uploaded On:"})," ",e.jsxs("span",{className:"info-content",children:[" ",new Date(a.CreatedOn).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})]}),e.jsx("span",{className:"info-title",children:"Notes:"})," ",e.jsx("span",{className:"info-content",children:a.Notes})]})]})]})}))}),e.jsxs(ge,{className:"mt-3",children:[e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Accounts Payable(AP) Contact Name"," ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{value:z(c==null?void 0:c.ContactName),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Accounts Payable(AP) Contact Number"," ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{value:is(c==null?void 0:c.ContactNumber),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Contract ID ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"Contract ID",disabled:!0,value:`FCON-${l}`})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Payment Terms",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(_e,{id:"paymentterm",name:"paymentterm",options:o.map(a=>({label:a.Term,value:a.Id})),noOptionsMessage:()=>"No options available",placeholder:"Select Payment Terms",value:g,onChange:a=>i(a),isDisabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Work Week ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{value:rs(c==null?void 0:c.WorkWeek),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Super Admin Fee ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{value:c==null?void 0:c.SuperAdminFee,disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Non-Billable Orientation ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{value:rs(c==null?void 0:c.NonBillableOrientation),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Holiday Multiplier ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{value:c==null?void 0:c.HolidayMultiplier,disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["List of Included Holidays ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{value:rs(c==null?void 0:c.IncludedHolidays),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Holiday Billing Rules ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"",disabled:!0,value:rs(c==null?void 0:c.HolidayBillingRules)})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Overtime Multiplier ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"",disabled:!0,value:c==null?void 0:c.OvertimeMultiplier})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Overtime Threshold ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"",disabled:!0,value:c==null?void 0:c.OvertimeThreshold})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["On-Call Rate ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"$ 0.00",disabled:!0,value:c==null?void 0:c.OnCallRate})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Double Time Pay Rate ",e.jsx("span",{className:"california-text",children:"(California Only)"})]}),e.jsx(p,{placeholder:"$ 0.00",disabled:!0,value:c==null?void 0:c.DoubletimeMultiplier})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Call Back Multiplier ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"",disabled:!0,value:c==null?void 0:c.CallBackMultiplier})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Time Rounding Guidelines ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"",disabled:!0,value:rs(c==null?void 0:c.TimeRoundingGuidelines)})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Special Billing Details ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"",disabled:!0,value:rs(c==null?void 0:c.SpecialBillingDetails)})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Guaranteed Hours ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"",disabled:!0,value:c==null?void 0:c.GauranteedHrs})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"4",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Timekeeping Process ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"",disabled:!0,value:rs(c==null?void 0:c.TimekeepingProcess)})]}),e.jsxs(m,{xxl:"12",xl:"12",lg:"12",className:"col-group",children:[e.jsxs(u,{className:"",children:["Missed Punch/ Payroll Process ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(zs,{content:c.MissedPunchPayrollProcess,readOnly:!0})]}),e.jsxs(m,{xxl:"12",xl:"12",lg:"12",className:"col-group",children:[e.jsxs(u,{className:"",children:["Cost Centers Listed by Unit ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(zs,{content:c.CostCenters,readOnly:!0})]}),e.jsxs(m,{xxl:"12",xl:"12",lg:"12",className:"col-group",children:[e.jsxs(u,{className:"",children:["Kronos Specific Time Codes ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(zs,{content:c.KronosTimeCodes,readOnly:!0})]})]})]}):null})]})})},Dt=()=>{const l=He(),[s,t]=r.useState(!1),[h,y]=r.useState([]),[c,N]=r.useState(!0),[g,i]=r.useState(""),[o,n]=r.useState(),[b,S]=r.useState(!1),a=Number(l==null?void 0:l.Id),x=gs(),[d,C]=r.useState(!1),f=T=>{if(T.ActivationStatus)return e.jsx(je,{submodule:"contractterms",module:"facilities",action:["GET","PUT"],children:e.jsx(ca,{onStateChange:v=>q(T.Id,v),checked:T.ActivationStatus})});{const v=e.jsx(Tl,{id:`tooltip-${T.Id}`,className:"custom-tooltip",children:"This contract has expired or been disabled. You cannot activate this contract as a new contract is already active."});return e.jsx(Il,{placement:"top",overlay:v,children:e.jsx("span",{children:e.jsx(je,{submodule:"contractterms",module:"facilities",action:["GET","PUT"],children:e.jsx(ca,{onStateChange:U=>q(T.Id,U),checked:T.ActivationStatus})})})})}},O=T=>{if(T.ActivationStatus)return e.jsx(Ns,{onEdit:()=>F(T.Id),disabled:!T.ActivationStatus});{const v=e.jsx(Tl,{id:`disabled-tooltip-${T.Id}`,className:"custom-tooltip",children:"You can't edit this contract as the new contract is active."});return e.jsx(Il,{overlay:v,placement:"top",children:e.jsx("span",{className:"d-inline-block",tabIndex:0,children:e.jsx(Ns,{onEdit:()=>{},disabled:!T.ActivationStatus})})})}},M=new AbortController,k=xs(async()=>{try{t(!0);const T=await gt(Number(l==null?void 0:l.Id),g,M);t(!1),y(T),w(T)}catch(T){if(M.signal.aborted){C(!0);return}console.error(T),t(!1),E("error",T.response.message||"Something went wrong")}},300);r.useEffect(()=>(k(),()=>M.abort()),[g,d]);const w=T=>{const v=T.some(U=>U.ActivationStatus);N(v)},F=T=>{h.find(U=>U.Id===T)&&x(`/facility/${Number(l==null?void 0:l.Id)}/contract/edit/${T}`)},q=async(T,v)=>{try{await yt(Number(l==null?void 0:l.Id),T,v),y(U=>{const Y=U.map(J=>J.Id===T?{...J,ActivationStatus:v}:J);return w(Y),Y})}catch{y(Y=>{const J=Y.map(V=>V.Id===T?{...V,ActivationStatus:!v}:V);return w(J),J})}},H=async T=>{var v,U;try{t(!0),await jt(Number(l==null?void 0:l.Id),T),await k(),E("success","Contract term deleted successfully")}catch(Y){console.error("Error deleting contact:",Y),t(!1),E("error",((U=(v=Y==null?void 0:Y.response)==null?void 0:v.data)==null?void 0:U.message)||"Something went wrong")}},Q=async T=>{try{t(!0);const v=await Nt(Number(a),T);if(v.statusText==="OK"&&v.status===200){const U=v.headers["content-disposition"];let Y="download";if(U){const P=U.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/);P&&P[1]&&(Y=P[1].replace(/['"]/g,""))}const J=new Blob([v.data],{type:v.headers["content-type"]}),V=URL.createObjectURL(J),A=document.createElement("a");A.href=V,A.download=Y,A.click(),URL.revokeObjectURL(V),t(!1)}}catch(v){console.error(v),t(!1),v.response&&(v.response.status===404?E("error",v.response.data.message||"No contract term document available for download"):E("error",v.response.data.message||"Something went wrong"))}},B=T=>{const v=h.find(U=>U.Id===T);v&&(n(v.Id),S(!0))},R=()=>{S(!1)},$=[{name:"Sr No",cell:(T,v)=>v+1,width:"10%"},{name:"Contract Date",cell:T=>{const v={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(T.CreatedOn).toLocaleString("en-US",v)},minWidth:"150px"},{name:"Contract ID",cell:T=>`FCON-${T.Id}`,minWidth:"150px"},{name:"Contract Status",cell:T=>e.jsxs(e.Fragment,{children:[e.jsx(je,{submodule:"contractterms",module:"facilities",action:["GET","PUT"],children:f(T)}),e.jsx("span",{className:"p-2",children:T.ActivationStatus?"Active":"Expired/Disabled"})]}),minWidth:"143px"},{name:"Actions",cell:T=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"d-flex align-items-center justify-content-start action-btn",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-end actions",children:[e.jsx(je,{submodule:"contractterms",module:"facilities",action:["GET","GET"],children:e.jsx(ll,{onEye:()=>B(T.Id)})}),O(T)]}),e.jsxs("div",{className:"d-flex align-items-center actions",children:[e.jsx(je,{submodule:"contractterms",module:"facilities",action:["GET","GET"],children:e.jsx(Bl,{onDownload:()=>Q(T.Id)})}),e.jsx(je,{submodule:"contractterms",module:"facilities",action:["GET","DELETE"],children:e.jsx(qs,{onDelete:()=>H(T.Id)})})]})]})}),minWidth:"165px"}],D=T=>{i(T)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"facility-main-card-section",children:e.jsxs(ys,{children:[e.jsxs("div",{children:[e.jsx("h2",{className:"page-content-header",children:"Contract Terms"}),e.jsxs("div",{className:"d-flex mb-3",children:[e.jsxs("div",{className:"search-bar-wrapper flex-grow-1",children:[e.jsx(p,{placeholder:"Search Here",value:g,onChange:T=>{D(T.target.value)}}),e.jsx("img",{src:Hs,alt:"search"})]}),e.jsx("div",{className:"table-navigate",children:c?e.jsx(le,{className:"primary-btn",disabled:!0,children:"Add New"}):e.jsx(Us,{to:`/facility/${a}/contract/create`,className:"link-btn",children:e.jsx(je,{submodule:"contractterms",module:"facilities",action:["GET","POST"],children:e.jsx(le,{className:"primary-btn",children:"Add New"})})})})]})]}),e.jsx("div",{className:"datatable-wrapper facility-datatable-wrapper facility-onboarding-datatable",children:s?e.jsx(de,{}):e.jsx(Ps,{columns:$,data:h})})]})}),b&&o!==void 0&&e.jsx(Ct,{Id:o,isOpen:b,toggle:R})]})},sa="/assets/drag-ee1ae7b4.svg",la=async l=>(await pe.get(`/api/v1/protected/submodules/facilities/${l}/compliance/document-categories`)).data.data,Sa=async l=>(await pe.get(`/api/v1/protected/submodules/facilities/${l}/compliance/documents`)).data.data,Rt=async(l,s,t)=>{await pe.post(`/api/v1/protected/submodules/facilities/${l}/compliance/create`,{name:s,checklist:t})},Et=async(l,s,t,h)=>{await pe.put(`/api/v1/protected/submodules/facilities/${l}/compliance/edit/${h}`,{name:s,checklist:t})},xl=async(l,s,t)=>(await pe.get(`api/v1/protected/submodules/facilities/${l}/compliance/list${s?`?search=${s}`:""}`,{signal:t==null?void 0:t.signal})).data.data,Ca=async(l,s)=>(await pe.get(`/api/v1/protected/submodules/facilities/${l}/compliance/details/${s}`)).data.data,Tt=async(l,s)=>{await pe.delete(`/api/v1/protected/submodules/facilities/${l}/compliance/delete/${s}`)},aa=({columns:l,data:s,onRowDrop:t})=>{const[h,y]=r.useState(null),c=i=>{y(i)},N=()=>{y(null)},g=i=>{h!==null&&(t(h,i),y(null))};return e.jsx(Ps,{columns:l.map(i=>({...i,cell:(o,n)=>e.jsx("div",{draggable:!0,onDragStart:()=>c(n),onDragEnd:N,onDrop:()=>g(n),children:i.cell(o)})})),data:s})},It=({modal:l,toggle:s,setListData:t})=>{const[h,y]=r.useState(0),[c,N]=r.useState([]),[g,i]=r.useState([]),[o,n]=r.useState([]),b=He(),[S,a]=r.useState([]),[x,d]=r.useState(""),[C,f]=r.useState(!1);r.useEffect(()=>{Promise.all([la(b==null?void 0:b.Id),Sa(b==null?void 0:b.Id)]).then(B=>{var R;i(B[0]),n(B[1]),y((R=B[0][0])==null?void 0:R.Id)}).catch(B=>{console.error(B),E("error",B==null?void 0:B.message)})},[]);const O=B=>{h!==B&&y(B)},M=()=>{N([]),a([]),d("")},k=B=>{const R={valid:!0,message:""};if(!x)return R.valid=!1,R.message="Name is required",R;if(!B||!Array.isArray(B)||B.length===0||!B.some(Boolean))return R.valid=!1,R.message="Documents are required",R;for(const $ of B)if($){if($.length===0)return R.valid=!1,R.message="Documents are required",R;for(const D of $){if(!D.expiryDays||!Number.isInteger(D.expiryDays)||D.expiryDays<=0)return R.valid=!1,R.message="Expiry Days must be greater than 0",R;if(D.expiryDays>36500)return R.valid=!1,R.message="Expiry Days must be less than or equal to 36500",R}}return R},w=async()=>{try{f(!0);const B=k(c);if(!B.valid)return f(!1),E("error",B.message);const R=[];c.forEach(($,D)=>{if(!$)return;const T={categoryId:D+1,documents:$.map(v=>({documentMasterId:v.id,expiryDurationDays:v.expiryDays,isInternalUse:v.internalUse})).sort((v,U)=>v.priority-U.priority)};R.push(T)}),await Rt(b==null?void 0:b.Id,x,R),f(!1),xl(b==null?void 0:b.Id).then($=>{t($)}).catch($=>{console.error($),E("error","Something went wrong")}),E("success","Checklist created successfully"),M(),s()}catch(B){console.error(B),E("error","Something went wrong"),f(!1)}},F=()=>{M(),s()},q=B=>{a(R=>{const $=[...R];return $[h-1]=B,$}),N(R=>{const $=[...R];return $[h-1]=B.map((D,T)=>{var U;const v=(U=$[h-1])==null?void 0:U.find(Y=>Y.id===D.value);return{id:D.value,priority:T+1,documentname:rs(D.label),description:D.description,expiryDays:Number(v==null?void 0:v.expiryDays)||365,internalUse:!!(v!=null&&v.internalUse)}}),$})},H=(B,R)=>{N($=>{const D=[...$],T=D[h-1],[v]=T.splice(B,1);T.splice(R,0,v);const U=T.map((Y,J)=>({...Y,priority:J+1}));return D[h-1]=U,D})},Q=[{name:"",selector:()=>"drag",cell:()=>e.jsx("img",{src:sa}),width:"5%"},{name:"Internal Use",selector:()=>"internalUse",cell:B=>e.jsx(Ml,{onChange:R=>{N($=>{const D=[...$];return D[h-1]=D[h-1].map(T=>T.documentname===B.documentname?{...T,internalUse:R.target.checked}:T),D})},checked:B.internalUse,disabled:!1}),width:"10%"},{name:"Priority",selector:()=>"priority",cell:B=>B.priority,width:"10%"},{name:"Document Name",selector:()=>"documentname",cell:B=>B.documentname,width:"18%"},{name:"Description",selector:()=>"description",cell:B=>B.description,width:"27%"},{name:e.jsxs("span",{children:["Expiry Duration ",e.jsx("span",{style:{color:"#717B9E"},children:"(Days)"})]}),selector:()=>"expiry",cell:B=>e.jsx(p,{type:"number",min:0,value:B.expiryDays,onChange:R=>{N($=>{const D=[...$];return D[h-1]=D[h-1].map(T=>T.documentname===B.documentname?{...T,expiryDays:Number(R.target.value)}:T),D})}}),width:"20%"},{name:"Actions",selector:()=>"actions",cell:B=>e.jsx(e.Fragment,{children:e.jsx(qs,{onDelete:function(){a(R=>{const $=[...R];return $[h-1]=$[h-1].filter(D=>D.label!==B.documentname),$}),N(R=>{const $=[...R];return $[h-1]=$[h-1].filter(D=>D.documentname!==B.documentname).map((D,T)=>({...D,priority:T+1})),$[h-1].length===0&&delete $[h-1],$})}})}),width:"10%"}];return e.jsx(e.Fragment,{children:e.jsxs(we,{isOpen:l,toggle:s,centered:!0,size:"xl",onClosed:M,children:[e.jsx(Be,{toggle:s,children:"Create Compliance Checklist"}),e.jsxs(Fe,{children:[C&&e.jsx(de,{}),e.jsx(ge,{children:e.jsxs(m,{md:"12",className:"col-group",children:[e.jsxs(u,{children:["Checklist Name ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{onChange:B=>d(B.target.value),value:x})]})}),e.jsxs("div",{className:"tab-wrapper",children:[e.jsx(ml,{tabs:!0,children:g.map(B=>e.jsx(ul,{children:e.jsx(hl,{className:h===B.Id?"show":"",onClick:()=>O(B.Id),to:"",children:B.Category})},Math.random()))}),e.jsx(al,{activeTab:h,children:g.map(B=>e.jsx(Ls,{tabId:B.Id,children:e.jsx(ge,{children:e.jsxs(m,{md:"12",className:"col-group mt-2 mb-2",children:[e.jsxs(u,{children:["Select Documents ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(oa,{options:o.map(R=>({value:R.Id,label:rs(R.Type),description:rs(R.Description)})),onChange:q,allowSelectAll:!0,value:S[h-1]}),e.jsx("div",{className:"datatable-wrapper facility-datatable-wrapper facility-modal-table mt-3 assignment-history",children:e.jsx(aa,{columns:Q,data:c[h-1],onRowDrop:H})})]})})},B.Id))})]})]}),e.jsx(fs,{className:"mb-3 justify-content-start",children:e.jsxs("div",{className:"btn-wrapper",children:[e.jsx(le,{onClick:w,className:"primary-btn",children:"Save"}),e.jsx(le,{onClick:F,className:"secondary-btn",children:"Cancel"})]})})]})})},kt=({modal:l,toggle:s,checklistId:t,onEdit:h})=>{const[y,c]=r.useState(0),[N,g]=r.useState([]),[i,o]=r.useState([]),n=He(),[b,S]=r.useState(""),[a,x]=r.useState(!0);r.useEffect(()=>{!t||!l||(x(!0),Promise.all([la(n==null?void 0:n.Id),Ca(n==null?void 0:n.Id,t)]).then(k=>{var F,q,H;o(k[0]),c((F=k[0][0])==null?void 0:F.Id),S(rs((q=k[1][0])==null?void 0:q.Name));const w=f((H=k[1][0])==null?void 0:H.ComplianceDocuments);g(w),x(!1)}).catch(k=>{console.error(k),E("error",k==null?void 0:k.message)}))},[t,l]);const d=k=>{y!==k&&c(k)},C=()=>{h(t),s()},f=k=>{try{if(!k)return[];const w=[];return k.forEach(F=>{var H;w[((H=F==null?void 0:F.DocumentCategory)==null?void 0:H.Id)-1]?w[F.DocumentCategory.Id-1].push({id:F.DocumentMaster.Id,documentname:F.DocumentMaster.Type,description:F.DocumentMaster.Type,priority:F.Priority,expiryDays:F.ExpiryDurationDays,internalUse:F.IsInternalUse}):w[F.DocumentCategory.Id-1]=[{id:F.DocumentMaster.Id,documentname:F.DocumentMaster.Type,description:F.DocumentMaster.Type,priority:F.Priority,expiryDays:F.ExpiryDurationDays,internalUse:F.IsInternalUse}]}),w.map(F=>F.sort((q,H)=>q.priority-H.priority))}catch(w){return console.error(w),[]}},O=[{name:"",selector:()=>"drag",cell:()=>e.jsx("img",{src:sa}),width:"5%"},{name:"Internal Use",selector:()=>"internalUse",cell:k=>e.jsx(Ml,{checked:k.internalUse,disabled:!1,onChange:()=>{}}),width:"10%"},{name:"Priority",selector:()=>"priority",cell:k=>k.priority,width:"10%"},{name:"Document Name",selector:()=>"documentname",cell:k=>e.jsx("span",{className:"text-capitalize",children:k.documentname}),width:"18%"},{name:"Description",selector:()=>"description",cell:k=>k.description,width:"27%"},{name:e.jsxs("span",{children:["Expiry Duration ",e.jsx("span",{style:{color:"#717B9E"},children:"(Days)"})]}),selector:()=>"expiry",cell:k=>e.jsx(p,{value:k.expiryDays,disabled:!0}),width:"20%"}],M=()=>{g([]),S("")};return e.jsx(e.Fragment,{children:e.jsxs(we,{isOpen:l,toggle:s,centered:!0,size:"xl",onClosed:M,children:[e.jsx(Be,{toggle:s,children:"Compliance Checklist"}),e.jsxs(Fe,{children:[a&&e.jsx(de,{}),e.jsx(ge,{children:e.jsxs(m,{md:"12",className:"col-group",children:[e.jsxs(u,{children:["Checklist Name ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{disabled:!0,value:b})]})}),e.jsxs("div",{className:"tab-wrapper",children:[e.jsx(ml,{tabs:!0,children:i.map(k=>e.jsx(ul,{children:e.jsx(hl,{className:y===k.Id?"show":"",onClick:()=>d(k.Id),to:"",children:k.Category})},Math.random()))}),e.jsx(al,{activeTab:y,children:i.map(k=>e.jsx(Ls,{tabId:k.Id,children:e.jsx(ge,{children:e.jsx(m,{md:"12",className:"col-group mt-2 mb-2",children:e.jsx("div",{className:"datatable-wrapper facility-datatable-wrapper facility-modal-table",children:e.jsx(aa,{columns:O,data:N[y-1],onRowDrop:()=>{}})})})})},Math.random()))})]})]}),e.jsx(fs,{className:"mb-3 justify-content-start",children:e.jsx("div",{className:"btn-wrapper",children:e.jsx(le,{onClick:C,className:"primary-btn",children:"Edit"})})})]})})},wt=({modal:l,toggle:s,checklistId:t,setListData:h})=>{const[y,c]=r.useState(0),[N,g]=r.useState([]),[i,o]=r.useState([]),[n,b]=r.useState([]),S=He(),[a,x]=r.useState([]),[d,C]=r.useState(""),[f,O]=r.useState(!0);r.useEffect(()=>{!t||!l||Promise.all([la(S==null?void 0:S.Id),Sa(S==null?void 0:S.Id),Ca(S==null?void 0:S.Id,t)]).then(D=>{var U,Y,J;o(D[0]),b(D[1]),c((U=D[0][0])==null?void 0:U.Id),C(rs((Y=D[2][0])==null?void 0:Y.Name));const T=w((J=D[2][0])==null?void 0:J.ComplianceDocuments);g(T);const v=k(T,D[1]);x(v),O(!1)}).catch(D=>{console.error(D),E("error","Something went wrong")})},[t,l]);const M=D=>{y!==D&&c(D)},k=(D,T)=>{try{const v=[];return D.forEach((U,Y)=>{U==null||U.forEach(J=>{const V=J.documentname,A=T.find(P=>P.Type===V);A&&(v[Y]?v[Y].push({value:A.Id,label:A.Type}):v[Y]=[{value:A.Id,label:A.Type}])})}),v}catch(v){return console.error(v),[]}},w=D=>{try{if(!D)return[];const T=[];return D.forEach(v=>{var Y;T[((Y=v==null?void 0:v.DocumentCategory)==null?void 0:Y.Id)-1]?T[v.DocumentCategory.Id-1].push({id:v.DocumentMaster.Id,documentname:v.DocumentMaster.Type,description:v.DocumentMaster.Type,priority:v.Priority,expiryDays:v.ExpiryDurationDays,internalUse:v.IsInternalUse}):T[v.DocumentCategory.Id-1]=[{id:v.DocumentMaster.Id,documentname:v.DocumentMaster.Type,description:v.DocumentMaster.Type,priority:v.Priority,expiryDays:v.ExpiryDurationDays,internalUse:v.IsInternalUse}]}),T.map(v=>v.sort((U,Y)=>U.priority-Y.priority))}catch(T){return console.error(T),[]}},F=()=>{g([]),x([]),C("")},q=D=>{const T={valid:!0,message:""};if(!d)return T.valid=!1,T.message="Name is required",T;if(!D||!Array.isArray(D)||D.length===0||!D.some(Boolean))return T.valid=!1,T.message="Documents are required",T;for(const v of D)if(v){if(v.length===0)return T.valid=!1,T.message="Documents are required",T;for(const U of v){if(!U.expiryDays||!Number.isInteger(U.expiryDays)||U.expiryDays<=0)return T.valid=!1,T.message="Expiry Days must be greater than 0",T;if(U.expiryDays>36500)return T.valid=!1,T.message="Expiry Days must be less than or equal to 36500",T}}return T},H=async()=>{var D,T;try{O(!0);const v=q(N);if(!v.valid)return O(!1),E("error",v.message);const U=[];N.forEach((Y,J)=>{if(!Y)return;const V={categoryId:J+1,documents:Y.map(A=>({documentMasterId:A.id,expiryDurationDays:A.expiryDays,isInternalUse:A.internalUse})).sort((A,P)=>A.priority-P.priority)};U.push(V)}),await Et(S==null?void 0:S.Id,d,U,t),xl(S==null?void 0:S.Id).then(Y=>{h(Y)}).catch(Y=>{console.error(Y),E("error","Something went wrong")}),O(!1),E("success","Checklist edited successfully"),F(),s()}catch(v){console.error(v),E("error",(T=(D=v==null?void 0:v.response)==null?void 0:D.data)==null?void 0:T.message),O(!1)}},Q=()=>{F(),s()},B=D=>{x(T=>{const v=[...T];return v[y-1]=D,v}),g(T=>{const v=[...T];return v[y-1]=D.map((U,Y)=>{var V;const J=(V=v[y-1])==null?void 0:V.find(A=>A.id===U.value);return{id:U.value,priority:Y+1,documentname:U.label,description:(J==null?void 0:J.description)||U.description,expiryDays:Number(J==null?void 0:J.expiryDays)||365,internalUse:!!(J!=null&&J.internalUse)}}),v[y-1].length===0&&delete v[y-1],v})},R=(D,T)=>{g(v=>{const U=[...v],Y=U[y-1],[J]=Y.splice(D,1);Y.splice(T,0,J);const V=Y.map((A,P)=>({...A,priority:P+1}));return U[y-1]=V,U})},$=[{name:"",selector:()=>"drag",cell:()=>e.jsx("img",{src:sa}),width:"5%"},{name:"Internal Use",selector:()=>"internalUse",cell:D=>e.jsx(Ml,{onChange:T=>{g(v=>{const U=[...v];return U[y-1]=U[y-1].map(Y=>Y.documentname===D.documentname?{...Y,internalUse:T.target.checked}:Y),U})},checked:D.internalUse,disabled:!1}),width:"10%"},{name:"Priority",selector:()=>"priority",cell:D=>D.priority,width:"10%"},{name:"Document Name",selector:()=>"documentname",cell:D=>z(D.documentname),width:"18%"},{name:"Description",selector:()=>"description",cell:D=>rs(D.description),width:"27%"},{name:e.jsxs("span",{children:["Expiry Duration ",e.jsx("span",{style:{color:"#717B9E"},children:"(Days)"})]}),selector:()=>"expiry",cell:D=>e.jsx(p,{type:"number",min:0,value:D.expiryDays,onChange:T=>{g(v=>{const U=[...v];return U[y-1]=U[y-1].map(Y=>Y.documentname===D.documentname?{...Y,expiryDays:Number(T.target.value)}:Y),U})}}),width:"20%"},{name:"Actions",selector:()=>"actions",cell:D=>e.jsx(e.Fragment,{children:e.jsx(qs,{onDelete:function(){x(T=>{const v=[...T];return v[y-1]=v[y-1].filter(U=>U.label!==D.documentname),v}),g(T=>{const v=[...T];return v[y-1]=v[y-1].filter(U=>U.documentname!==D.documentname).map((U,Y)=>({...U,priority:Y+1})),v[y-1].length===0&&delete v[y-1],v})}})}),width:"10%"}];return e.jsx(e.Fragment,{children:e.jsxs(we,{isOpen:l,toggle:s,centered:!0,size:"xl",onClosed:F,children:[e.jsx(Be,{toggle:s,children:"Edit Compliance Checklist"}),e.jsxs(Fe,{children:[f&&e.jsx(de,{}),e.jsx(ge,{children:e.jsxs(m,{md:"12",className:"col-group",children:[e.jsxs(u,{children:["Checklist Name ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{onChange:D=>C(D.target.value),value:d})]})}),e.jsxs("div",{className:"tab-wrapper",children:[e.jsx(ml,{tabs:!0,children:i.map(D=>e.jsx(ul,{children:e.jsx(hl,{className:y===D.Id?"show":"",onClick:()=>M(D.Id),to:"",children:D.Category})},Math.random()))}),e.jsx(al,{activeTab:y,children:i.map(D=>e.jsx(Ls,{tabId:D.Id,children:e.jsx(ge,{children:e.jsxs(m,{md:"12",className:"col-group mt-2 mb-2",children:[e.jsxs(u,{children:["Select Documents ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(oa,{options:n.map(T=>({value:T.Id,label:rs(T.Type),description:T.Description})),onChange:B,allowSelectAll:!0,value:a[y-1]}),e.jsx("div",{className:"datatable-wrapper facility-datatable-wrapper facility-modal-table mt-3 assignment-history",children:e.jsx(aa,{columns:$,data:N[y-1],onRowDrop:R})})]})})},Math.random()))})]})]}),e.jsx(fs,{className:"mb-3 justify-content-start",children:e.jsxs("div",{className:"btn-wrapper",children:[e.jsx(le,{onClick:H,className:"primary-btn",children:"Save"}),e.jsx(le,{onClick:Q,className:"secondary-btn",children:"Cancel"})]})})]})})},Ft=()=>{const[l,s]=r.useState(!1),t=()=>s(!l),[h,y]=r.useState(!1),c=()=>y(!h),[N,g]=r.useState(!1),[i,o]=r.useState(0),n=()=>g(!N),[b,S]=r.useState([]),[a,x]=r.useState(""),d=He(),[C,f]=r.useState(!0),[O,M]=r.useState(!1);r.useEffect(()=>{const H=new AbortController;return xs(()=>{xl(d==null?void 0:d.Id,a,H).then(B=>{S(B),f(!1)}).catch(B=>{if(H.signal.aborted){M(!0);return}console.error(B),E("error","Something went wrong")})},300)(),()=>H.abort()},[a,O]);const k=H=>{n(),o(H)},w=H=>{c(),o(H)},F=async H=>{var Q,B;try{f(!0),await Tt(d==null?void 0:d.Id,H),f(!1),E("success","Checklist deleted successfully");const R=await xl(d==null?void 0:d.Id,a);S(R)}catch(R){console.error(R),(R==null?void 0:R.response.status)===409?E("error",(B=(Q=R==null?void 0:R.response)==null?void 0:Q.data)==null?void 0:B.message):E("error","Something went wrong"),f(!1)}},q=[{name:"Sr No",cell:(H,Q)=>Q+1,width:"10%"},{name:"Checklist Name",cell:H=>z(H.Name),width:"65%"},{name:"Actions",cell:H=>e.jsxs(e.Fragment,{children:[e.jsx(je,{submodule:"compliance",module:"facilities",action:["GET","GET"],children:e.jsx(ll,{onEye:()=>k(H.Id)})}),e.jsx(je,{submodule:"compliance",module:"facilities",action:["GET","PUT"],children:e.jsx(Ns,{onEdit:()=>w(H.Id)})}),e.jsx(je,{submodule:"compliance",module:"facilities",action:["GET","DELETE"],children:e.jsx(qs,{onDelete:function(){F(H.Id)}})})]}),minWidth:"180px"}];return e.jsx(e.Fragment,{children:e.jsx("div",{className:"facility-main-card-section",children:e.jsxs(ys,{children:[e.jsxs("div",{children:[e.jsx("h2",{className:"page-content-header",children:"Compliance Checklist"}),e.jsxs("div",{className:"d-flex mb-3",children:[e.jsxs("div",{className:"search-bar-wrapper flex-grow-1",children:[e.jsx(p,{value:a,onChange:H=>x(H.target.value),placeholder:"Search Here"}),e.jsx("img",{src:Hs,alt:"search"})]}),e.jsx("div",{className:"table-navigate",children:e.jsx(je,{submodule:"compliance",module:"facilities",action:["GET","POST"],children:e.jsx(le,{className:"primary-btn ms-2",onClick:t,children:"Add New"})})})]}),e.jsx(It,{setListData:S,modal:l,toggle:t}),e.jsx(kt,{modal:N,toggle:n,checklistId:i,onEdit:w}),e.jsx(wt,{setListData:S,modal:h,toggle:c,checklistId:i})]}),e.jsxs("div",{className:"datatable-wrapper facility-datatable-wrapper facility-onboarding-datatable",children:[C&&e.jsx(de,{styles:{position:"absolute"}}),e.jsx(Ps,{columns:q,data:b})]})]})})})},Bt=({professional:l,currentStatus:s,professionalId:t,jobId:h})=>e.jsx("div",{className:"facility-header-wrap p-2 mb-3",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"View-profile-section",children:[e.jsxs("div",{className:"d-flex",children:[e.jsx("img",{src:l.ProfileImage?l.ProfileImage:$s,alt:"facilityPicture",style:{borderRadius:"50%"}}),e.jsxs("div",{className:"first-section-content",children:[e.jsxs("h1",{className:"hospital-name text-nowrap",children:[z(l==null?void 0:l.FirstName)," ",z(l==null?void 0:l.LastName)]}),e.jsx(p,{placeholder:"",disabled:!0,value:`PID: ${t}`,className:"in-width input",style:{marginRight:"10px"}}),e.jsx(p,{placeholder:"",disabled:!0,value:`Job ID: JID-0${h}`,className:"in-width input",style:{marginRight:"10px"}})]})]}),e.jsxs("div",{className:"application-wrapper d-flex align-items-center select-view",children:[e.jsx("span",{style:{marginRight:"5px"},className:"text-nowrap",children:"Application Status:"}),e.jsx("span",{style:{color:ls(s),borderColor:ls(s),marginLeft:"10px",border:"1px solid",padding:"0.4rem 0.5rem",borderRadius:"5px",backgroundColor:"#fafafa"},children:s})]})]})})}),Mt=Ys({costCenter:ns().optional().matches(/.{2,}/,{excludeEmptyString:!0,message:"Must be 2 characters"}).test("is-optional","Cost Center can be of type string.",l=>l!=null&&typeof l=="string"),totalHrsWeekly:es().typeError("Total Hours is required and it can be of type number").min(0,"Total Hours must be greater than or equal to 0").test("is-decimal","Invalid Total Hours, enter only number and decimal values",l=>{if(l!=null&&typeof l=="number"){const s=l.toString();return/^(?!^\+)[0-9]+(?:\.[0-9]+)?$/.test(s)}return!1}),regularHrs:es().typeError("Regular Hours is required and it can be of type number").min(0,"Regular Hours must be greater than or equal to 0").test("is-decimal","Invalid Regular Hours, enter only number and decimal values",l=>{if(l!=null&&typeof l=="number"){const s=l.toString();return/^(?!^\+)[0-9]+(?:\.[0-9]+)?$/.test(s)}return!1}),overtimeHrs:es().typeError("Overtime Hours is required and it can be of type number").min(0,"Overtime Hours must be greater than or equal to 0").test("is-decimal","Invalid Overtime Hours, enter only number and decimal values",l=>{if(l!=null&&typeof l=="number"){const s=l.toString();return/^(?!^\+)[0-9]+(?:\.[0-9]+)?$/.test(s)}return!1}),gauranteedHours:es().typeError("Guaranteed Hours is required and it can be of type number").min(0,"Guaranteed Hours must be greater than or equal to 0").test("is-decimal","Invalid Guaranteed Hours, enter only number and decimal values",l=>{if(l!=null&&typeof l=="number"){const s=l.toString();return/^(?!^\+)[0-9]+(?:\.[0-9]+)?$/.test(s)}return!1}),notes:ns().optional().test("is-optional","Notes can be of type string",l=>l!=null&&typeof l=="string"),totalDaysOnAssignment:es().typeError("Total Days On Assignment is required and it can be of type number").min(0,"Total Days On Assignment must be greater than or equal to 0").test("is-decimal","Invalid Total Days On Assignment, enter only number and decimal values",l=>{if(l!=null&&typeof l=="number"){const s=l.toString();return/^(?!^\+)[0-9]+(?:\.[0-9]+)?$/.test(s)}return!1}),payDetails:Ys({regularRate:es().typeError("Regular Rate is required and it can be of type number").min(0,"Regular Rate must be greater than or equal to 0").test("is-decimal","Invalid Regular Rate, enter only number and decimal values",l=>{if(l!=null&&typeof l=="number"){const s=l.toString();return/^(?!^\+)[0-9]+(?:\.[0-9]+)?$/.test(s)}return!1}),overTimeRate:es().typeError("Overtime Rate is required and it can be of type number").min(0,"Overtime Rate must be greater than or equal to 0").test("is-decimal","Invalid Overtime Rate, enter only number and decimal values",l=>{if(l!=null&&typeof l=="number"){const s=l.toString();return/^(?!^\+)[0-9]+(?:\.[0-9]+)?$/.test(s)}return!1}),doubleTimeRate:ns().required("Double time rate is required").matches(/^\d+(\.\d+)?$/,"Enter only number and decimal values").min(0,"Double time rate must be greater than or equal to 0"),holidayRate:es().typeError("Holiday Rate is required and it can be of type number").min(0,"Holiday Rate must be greater than or equal to 0").test("is-decimal","Invalid Holiday Rate, enter only number and decimal values",l=>{if(l!=null&&typeof l=="number"){const s=l.toString();return/^(?!-)[0-9]+(?:\.[0-9]+)?$/.test(s)}return!1}),chargeRate:es().typeError("Charge Rate is required and it can be of type number").min(0,"Charge Rate must be greater than or equal to 0").test("is-decimal","Invalid Charge Rate, enter only number and decimal values",l=>{if(l!=null&&typeof l=="number"){const s=l.toString();return/^(?!^\+)[0-9]+(?:\.[0-9]+)?$/.test(s)}return!1}),onCallRate:es().typeError("On Call Rate is required and it can be of type number").min(0,"On Call Rate must be greater than or equal to 0").test("is-decimal","Invalid On Call Rate, enter only number and decimal values",l=>{if(l!=null&&typeof l=="number"){const s=l.toString();return/^(?!^\+)[0-9]+(?:\.[0-9]+)?$/.test(s)}return!1}),housingStipend:es().typeError("Housing Stipend is required and it can be of type number").min(0,"Housing Stipend must be greater than or equal to 0").test("is-decimal","Invalid Housing Stipend, enter only number and decimal values",l=>{if(l!=null&&typeof l=="number"){const s=l.toString();return/^(?!^\+)[0-9]+(?:\.[0-9]+)?$/.test(s)}return!1}),mealsAndIncidentals:es().typeError("Meals and Incidentals is required and it can be of type number").min(0,"Meals and Incidentals must be greater than or equal to 0").test("is-decimal","Invalid Meals and Incidentals, enter only number and decimal values",l=>{if(l!=null&&typeof l=="number"){const s=l.toString();return/^(?!^\+)[0-9]+(?:\.[0-9]+)?$/.test(s)}return!1}),callBackRate:es().typeError("Call Back Rate is required and it can be of type number").min(0,"Call Back Rate must be greater than or equal to 0").test("is-decimal","Invalid Call Back Rate, enter only number and decimal values",l=>{if(l!=null&&typeof l=="number"){const s=l.toString();return/^(?!^\+)[0-9]+(?:\.[0-9]+)?$/.test(s)}return!1})}),billingDetails:Ys({billRate:es().typeError("Bill Rate is required and it can be of type number").min(0,"Bill Rate must be greater than or equal to 0").test("is-decimal","Invalid Bill Rate, enter only number and decimal values",l=>{if(l!=null&&typeof l=="number"){const s=l.toString();return/^(?!^\+)[0-9]+(?:\.[0-9]+)?$/.test(s)}return!1}),overTimeBillRate:es().typeError("Overtime Bill Rate is required and it can be of type number").min(0,"Overtime Bill Rate must be greater than or equal to 0").test("is-decimal","Invalid Overtime Bill Rate, enter only number and decimal values",l=>{if(l!=null&&typeof l=="number"){const s=l.toString();return/^(?!^\+)[0-9]+(?:\.[0-9]+)?$/.test(s)}return!1}),doubleTimeBillRate:ns().required("Double time bill rate is required").matches(/^\d+(\.\d+)?$/,"Enter only number and decimal values").min(0,"Double time bill rate must be greater than or equal to 0"),holidayBillRate:es().typeError("Holiday Bill Rate is required and it can be of type number").min(0,"Holiday Bill Rate must be greater than or equal to 0").test("is-decimal","Invalid Holiday Bill Rate, enter only number and decimal values",l=>{if(l!=null&&typeof l=="number"){const s=l.toString();return/^(?!-)[0-9]+(?:\.[0-9]+)?$/.test(s)}return!1}),chargeBillRate:es().typeError("Charge Bill Rate is required and it can be of type number").min(0,"Charge Bill Rate must be greater than or equal to 0").test("is-decimal","Invalid Charge Bill Rate, enter only number and decimal values",l=>{if(l!=null&&typeof l=="number"){const s=l.toString();return/^(?!^\+)[0-9]+(?:\.[0-9]+)?$/.test(s)}return!1}),onCallBillRate:es().typeError("On Call Bill Rate is required and it can be of type number").min(0,"On Call Bill Rate must be greater than or equal to 0").test("is-decimal","Invalid On Call Bill Rate, enter only number and decimal values",l=>{if(l!=null&&typeof l=="number"){const s=l.toString();return/^(?!^\+)[0-9]+(?:\.[0-9]+)?$/.test(s)}return!1}),callBackBillRate:es().typeError("Call Back Bill Rate is required and it can be of type number").min(0,"Call Back Bill Rate must be greater than or equal to 0").test("is-decimal","Invalid Call Back Bill Rate, enter only number and decimal values",l=>{if(l!=null&&typeof l=="number"){const s=l.toString();return/^(?!^\+)[0-9]+(?:\.[0-9]+)?$/.test(s)}return!1})})}),Ot=Ys().shape({subject:ns().required()}),Jt=({isOpen:l,toggle:s,professionalId:t,currentApplicantId:h,jobAssignment:y,facilityId:c,jobAssignmentId:N,currentProfessional:g,job:i,formData:o,toggleParent:n,toggleParentParent:b,fetchRosterData:S})=>{var V;const[a,x]=r.useState("idle"),{register:d,handleSubmit:C,setValue:f,formState:{errors:O}}=ms({resolver:us(Ot)}),M=ds(Ol),k=ds(xa);r.useEffect(()=>{f("subject",`Gig Extension Request: ${z(g&&(g==null?void 0:g.FirstName)+" "+(g==null?void 0:g.LastName))}, ${g!=null&&g.JobProfession?z(g==null?void 0:g.JobProfession.Profession):""}, ${z(i&&(i==null?void 0:i.Title))} Required, Extension Start Date ${o&&(o==null?void 0:o.startDate.replace(/-/g,"/"))}`)},[g,o,i,y,f]);const w=`
  <p >Hi,</p>
 <p style="margin-bottom:20px;color:"red">The following healthcare professional would like to extend:</p>
   <p ><strong>Professional Name:</strong>${g&&z(g==null?void 0:g.FirstName)+" "+z(g==null?void 0:g.LastName)}</p>
    <p ><strong>Profession:</strong>
    ${g!=null&&g.JobProfession?z(g==null?void 0:g.JobProfession.Profession):""}</p>
    </p>
    <p ><strong>Unit: </strong>${y!=null&&y.Unit?y.Unit:""}</p>
   <p><strong>Hospital Name:</strong>
    ${i!=null&&i.Facility?z(i==null?void 0:i.Facility.Name):""}
   </p>
   <p><strong>Extension Start Date:</strong> ${o&&ne(o==null?void 0:o.startDate).format("MM-DD-YYYY")}</p>
   <p><strong>Extension End Date:</strong> ${o&&ne(o==null?void 0:o.endDate).format("MM-DD-YYYY")}</p>
   <p><strong>Requested Time Off:</strong> ${o&&((V=o==null?void 0:o.approvedTimeOff)==null?void 0:V.map(A=>ne(A).format("MM-DD-YYYY")))}</p>
   <p><strong>Additional Notes:</strong>${y!=null&&y.Notes?y.Notes:""}</li>
   <br /><br />
 <p>Thanks,</p>
<b>${z(M)}</b>
 <p>gig Healthcare</p>
 <b>Email:</b>
 <p>${k}</p>
<p> <img src = "data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAO8AAAAuCAYAAADAxE6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABfiSURBVHgB7V0JfBRFuv+qumeScAYRJYcyIEcyiRxei8gx4bkrKjnwQlmOsCoL7vN86u4qShCvt5e4b9llPSCKuKyoJEEfQVYTlUN3gQRJhiuso+QAdCEosCQzXfW+6pkJMz3dPZNJAPH1//dLuruurq6uf9VX3/dVD4AFCxbOShA4g7jiJx8P69Ga2KubDyDxhOxZUTLCAxYsWIgJFM4Qht758UoJ5GpCoIKCXJFI5c/vydtVBBYsWIgJZ4S8g2ZXFDICN3FtBOfzfjFhjwssWLAQFWeEvEhcV+i1IDEPCvCUucCCBQtRcUbISznU68cgjTndAxYsWIiKM0JemzfhdzjR7m0LCMy6HEjJs2sGLQcLFixExRnTNl86a7PN3tp6fZIiJ/fwStDTJzW+8ubw98CCBQsWLFj4PiPqzHvlzRuTkhL5TRRsE2RGR9k46SczQmwMDTyMVNtAqqNceWfpW8NeuW/CDocs0QUSk2Q7aqAoO1kOp7DrifKLioLXmbMrspN89p9390rp3Xx26Om11fVo9T21OAZb75ipm1PA5iuUFTpeAsiWFdJXxhvg32GZwTaJ02rSyp4XduM7J22fiNc32jBeYuKPgP+cCM3Z0qfeG/ARWLBwFsKUvJcXbrzXTqAISZscIKva8dWjuEaC2lnbtccGdKPsI1OQ4Gq8xEOLJzvnrx2QKc4cs9c47JBU3c1n69ndK4P464F/PVttnoQjLSMWVo5o1q9PRV8uJzxpYzAD6ySL+4o6SOrRXw9xLQeu8f6vYf1GSwwcfnIH4gLxRGFzFqwbvDj0HllpBavRZJWtaab62saSMfA9RXZq/jpUFQ7UhnN64ofu+rV1weustPyVeDg3LA3jW9xNZQ+GhmG6ClRgOMIKI+CpbSjNAQudBlkvcHhhhYPa7MVEgXHAzSfnEFutAxh3xLKMZtR+H5bbM5g/WAbmdMhJSYV4ulCbJ/vOjycpHP4ocd43Wp3UKmChhMNUrpZOdOP1gOnPJUTT8ThPhO8x8JnTgRCHNlxSbHJ4OpiITRfWFoQSvQIdoG1DC52OCPJmzK5wMGaroDESMS4QkqxahYziNMj8acXtSMSXeAhpOYQT34KF/2+IMBXhSnUdUsIBcaCjRNLLL9bGOAe8ABYsWAhDGHmHzPlwATIoZO1z6uY1tWRiXr7zropuPkJWq+ouCxYshKFNbHYIcRn4XGogKmtotheTbQcG/fB8BHQIPOR/OE5QeFBSYlg7EXIMS9gFlBziDOvDoXe0LDor4ZjgdDrt7NDgVJmxf9ccLDsAccKRXJCcmAjqEuHi/bZ9K2GlAh2Ay+WS9+9MTlcvpG+/3dnw/r/gNIBHVUBEwuFwJSaeSO7LiO/o7qZ3voY4MeTcvFQiU7sXzR17G0v3QZwIfRcnEpv3ezyVJ+A0IzPlhn6cM9KeNmkjL6VkXpBBoUQKJxVb1sKOP7p6xbi2hiosqHIA2H+Pp7kQI7Tlc50ZuP+9fzufe8lDenlDUiNp4dkTR6U/VJac1FDfdkvVDOxSC/D0Ar288cgTg1Kuz7RTeRE0w2WSxLtziUBWen4TFrZWUcj8nftLPNHKyOhb4JCo8lNs7dtQ6ugXDHentUIWz9+ICvqlpMeeV91udyvEBpKVljcdD4Vf7YErsF5d/MHdIDst/wAHUq4oUITh92A9J2nynugz+MjFlZWVPrMbZKfm3s6Bzg1cRijuCJBxWan5n4tzpvhydxx4t8aorIzz8kdJNngKvOQqNAXYJJCEZtqDUZWxt+FElyTRu/G+4/E9Jou3ieZCcKbl41gP6xmw5e6G1cXRyrnwwim9uvmO3oMD/xQCfHAwvKu3p6hTNefwEWPkOYnyCm1e7FuV7obSmRlpk3pLnG2OjGfzGeONEpWn4JWY3A7padozUvJukCj8DJ/lEg6KOniINsF3dxBPP2hldNHuplXrjZ7BT96b38Dn57eazUXYKM+ULx/5iDa82G+XzZuTV/s+5h8PMYObhvi85FoZRGc0lARQr0bH/O3ly6u0cX95Y8Qr03K3fQQ2shUAkqGjINDXTmzb8K62sOpwSMH/hbLEJyOJnq5tKHvSqAhnWsF/YQYcUGiSwT1GUQ6j4MigR50pA+eg+aUcTOC8MDcLFLIKMw7Si8f2OR//z5AkmIFVbsYOF9EOHo/6/k3JyzjtQ2gU6SeoWZZpN5NUDiTuhrbahYTjX6Ek8x9lp+f/Z0196Sq9zIJsPZSjr+KANDGiBLUKkIhhV6PO5mok3zwcDHKMBoPslPx7QDk2n+soRwMYjhaH4RJlhUjuHhB5L4d6ovDuyDWHNp4CfQ7bLDmklp7QeDGIyxIUo9QyTu9Z8Po8PNxqo+xWJPJSlCzm7tpX1hh5H0S/PueM5TqjalthBNwVyyKJGwpFJlPx8A20A/51r34cNt71uunbErC5H+kQN4hlq4eJ2eB56DQgcY1iAJCQZAF2Pu3sporZOCuswNH9N0RNFxUONL+scabmzTNKkJWeeyPx0U3EgLg69ev4AHaqwSEVZ7sVQ9NyR2qjRGfvrhzbGiRuDBDk+DsOmMO1EVkpeU+gBuX5mNpEh7ixQFs2Xh8Nnjv75jtREtoaJG4MZc2UGdkg2kAb51cEUXKpWQEK509DFLzwtrMJTX4l8VqXgkRuc8oiZKBhYgIHD+xv/h1EA/Mt5GLWgdMD7HxLhuP6KTSMHBn0HD7WZGgnCCFFTjFDaKC+REaXYht0h+8f7ArQNwaec20baQYMuLondnYhujqgHUBy9CHAPhicNnFYMCw7tWAe9vXH4DQDB1l1SSfeHZFAiMG9oH1wiDbQ9i2VvLhO7mOWkyZ4P4AYgCSP2dUwglAkGNpG3wyjvNgYW+vWXNcCUVDsXwf/3V/yaaFwckuSUhi8cKblivO7DFNzFKd4uEgVChS95g89f9J5oWFqR/5+EjeICxISpFuCF0ktXcXE4YC4QHrZgS4RZ1kX5F6OupUiOCPg6tJElpngkT5xOf9G9AWxxDEoxNHaFcImUf/MS8T6yBgfvzC2CWKAxGhsYrNmdtajlakYD7AfYgSugWJOa16O2qgP4IyYg+LbTDBoZIwfG3JvXdEXO9ESnGHOrW0s7S/+WpTW8zglD+okTfZJrC08MBg4wLiSr2Pb3CzqiDrAh8wGhljBOFmhlod/WJ7O+ph/Foz3JvmqTAvj8C/G2c/Usgidhdff6iaj0lXiGBAVdQc/dR3PQShZ81BFew3meiXyduRDVDrdp14odKFRtfxlsXk4U+dyQq/VKysObER2TcAb4/qZ34vr8Omck/769+b5PDmhj+gLNQ2lvZiPXoxRVZFp+ZwhqXlDgtcBbTPfb6asGjVlQ7+Nr1/1BUQBpzG4LobUWs0Tmj+8NDR1kN5h2uGg2yPwFIgRHNiFYgHd0YlXYWz+jqbVbR0ARdq+ODM+o01HCFX9ojNSJv4IdInGX3HXl90eGlK3f81XePgtinXdkdjzwsuDO1GMfLLu0JpvCKcP6r0mDDqigDRhR/3bn4QEV2LnfxO1pWsxwWCIEwGlj/gTGl0fifDKI4dq6ksqIQag9PPwjsbVS4L1w+dNw7CIAQ4lK3XJRCmba9Av63zf0JE7v10Vag57Lzst7xMk7J/UgZawB2vrV78sIjLTbxyEk98ovYJwkNtJjvlGuY+8ezgkuNyZPmkF4WwNxAlUmP14Z8NJhRmSV3fwUIBdi23yCYSoo3YcWFUz3FEw3utF86dfedUGNHLMwIOqf1JfBHbCejCxMkoJRJiB/gBRQUZCDGBmkQF3DBydhQ21zV6r4d4PXIVVyZXFI5rNipo2aRs+OLlEP7Z9bOYSrw67pqyS6H7LwK/YopRep1cOdqx/Z6ZMLNCLQyvffhLZWZMTbfJYZ8rEzzAqSzcfsId3NJR+og0XxMtOL/gpjuwV8B0Ao+yfoddE8lVzJkWkQ0L713aEXKGNw9Y57lPIDzXEVVHTULYYlYYHjh4lFZ7m1c0n87ROMPruhI+Ra3eGE1eFu35VOQ5WT5MAUdoFDvtDNd0ucMk4OufopDyOok1fvf7Q0uLDPiS5QUNe7B9CMXySvDidm4o7hEv3I1leMyPLbLT3coVPgTg1VlrNM2cgOqPTIG1yKznxSzz9OZgAVfZoA+U94q2TGRTGm6mJ3xc28jC9cJwZZuNLmQ3tAJPpSCRgi8FTHEO7pqH7qJgVnan5u3AGHwJnGISTMOcH7pWb0d4bmQ775aUwy3YCDlysjcPUb5jZg/VMTZTTEXpDNd7nr2ZlyT76F0Vm7ScvgbDnPJDW/TKDrtIF+8IqaB8ucPa45hz3N2sPqWV++YecjaBZw4U9LOcDJMX7EhjIxD/JW48KFHuJTs4o4CEukpp8xFcakTYEaBN9eOyMjdPBAD/O3+pEG9wCMMOpdbrsCZ2HNFw3pelF4BvZGi0zEd5wZxmO9T2o/7zAP4V2gnH9ZZYCvMYs32cHhrmhEyApUqfuSuNdu6oKy6CQivZq/qeIRKEXBG6cMG3LP/Ombs0LBhUVFdGpN213UbnXRkw8DOKtjOYokEB8ldxY86aCcumVq6f948/jJ2++KBhWUFCVfMstn80lNmkDFngmt/J12nSP49txkzhTS0EgzXffzhsjUCJLgHaCGCoX9bfEBuFwVNrhO4y2yhPFuxBIwt0gfOuMwLmDMVY66datio2Tfbtr6bky591QpIN4+irXOQui7n+u+8bxs4pnMepZwwJUBRafZbfBrIlTthyWODkiNt6jokGIp4b35NBh/VUsEJvYh+tU4Ato5+1xYK3hjNcZSAoZwv5X3VxiONAxXCt3/sLh1EKIs8LlUbt/mFIi1oftdL4hh3RDORlnlquLt/so6ASgit4j6UVwfgxr8RW0E9lNUv0OCCHv3sXXHBw4pwIN2OS5aJmx50mcx2t7aytD9xgKz6Kc/x50V6V4WTEowngvXGe21/h9yoBa7ipUaN2kDaec3Li9qWSLXp5Bfa4bTrn34K6v10W4wqH2MRm1j0LXF0FhtP8V4dxyn16ZzrSCWe3Rzn+3IETkCIK5MtInunbWv1OplyMrPa+EK+wNd9M7r7eVAspmArr0MS0L398c6ASIgQi1zWJwDfe8IrDZ3VDq0ssjNkskJSgZpPferVpf99rAMawj1P0pB9XZvAROCXjETo22FbTJtCAxfhuKN4ehc+oApws4Q+h+CZNR/qaeq1tWav5ddrutSk7o0pCdln9YfEomKy3vuYy0XNUlsNqjzqy6TjBIznv13CkzU/InEc5/A6cWw0M9ojoTFMg6vXCJS29mp+VOCw0TdUDN+svYqfIJlZZnp+ctC7az3S6vwjevu1NI5tJfsy7IvyY0TOzQykzNFxLfTdBJwLX6G9owsakDpYuntOHO9JvP6dqVV1CZbiJHBrVgX6jC91uSmZb3WKiXVYTMz7zydHwi4QlyGcRVyVgoojuBhPtXBbBzcY7HeVfFeLTVfIAJekXmIKdTFI4ZNfvKNmOjVwKE/zoE+F3dPse4VxlXalCTL6Gp7prQdAHfWLwmLtSYbwuGo/lsPi5RXHr3E+6UWGYhSkTi958E0YVtt1PEvihITkiybxO7g7Bub7kby2IwKcYG2UYWobQhnFS0a/beHOir2PEfxnOUcEDBvwK8f1s6tKBMRRv3JOzwv8OB73Hs/MuxkW7X3kPdBMCgPCutQGw8EW3Nvt4DBZR0rp4Al3PLGYVZ2nBhisK2m4L1WE7w1hjSj/DWQh7+zMPx/Q5HxlzGEsifg4ERDNq1ZPS3218YLexrxmvNeEBOeufQEDdKLelQM/imNqv7jznVMlEuwdHrc+gAInei0A7toY0GQvlDYDymTKdE+lXA0cOlm4KDx92wqs3bR3WG4PA+GMOBxBXLjEI4BcQNDAq698U/F+/kDq9KGxTmGsVjx8/GPzEDazt7MEFXnL3VbaG8VRY+zSYKUC4UrtMNy+ogtjeViT7/R4NoBz7Ho8gMXLKS+4zurxD+688OrDoYvDYwlhBe9dLoX0qUop2VbAqGms5shFTiqP+MYTwnbTsr9i364RKkza/DooH7vER5/PfvOnXV99U4A297ccwATPkAXkb19sIX14xqqyfwUUyWAfyUbroWsy9W5AGIA0JDqjCSA5rPjdjsRIhye+FMgBNz0wmjpqaXeFC7r3QRNsBiiA97jx0j94uTHV+/3aQQJga2Myag2WzkUeRIXOYnnJWX7qgvC1PUmVo6P3npyh0bl44cxSlkoRzyc9TOCaf4GvEZTyRrHUdiIOnm+jgfuLjEKTxIDH/xgHMWtm7d82fXw7SLrxfj0J/4fP29rdCn+O2h5nZZxOaXRz834cL3BqA2+XpsiGWoSd2AdfGgrQvrxN1Y11dxnTfzmJf1X/bW0HnY9Y+CfmsILWzcX1+IFbUNJQux3YqgfWhEjeB4PQcCMRspCrm6M/yW2wvGmbk0RpVO8SPXApU6c/Adt0scx/6xVfLRUZ4QLfzO+tUfYn+d7Nfynn6Id9eiUOEjvrs9+cR6mfVMjHDsMbVzjRSfgKWJj7f4jj708bKrf4VBvzJLTylqV5nBZ20E6TWoXpgjGtbUlqvF5XdsmLnmS+mcT4tH/hYv/zdaehTlRglLlu5wy5ToM3gnoKaxZP6g825YZpeV96N+EpXDe16u/LjW5FMogtQOhyuzi7fnXOyIj+B6yFjlx/l+7PhiABsIHcSOxrJ1qBQS6+55evGkNbHTZ94gautL7nam5m/FB33crA2Fnzc+78LE8/c9tWXLFq823t1QthIVWf+glC3DZhsN5qgEoyVNnNjrF3uHYDsWMcbnEgM1uICQvnAZ+ZiqR2iIjDck76Wz1ucwH11JOfROJN1yXLduyqlccaXHKL3fPZJNM1IdM8Jj2lZohhF3rH8CifgYihAwunBTt/XFV843Sz/9htp5OGoN0IvDF/fFk+9lRK6hZX4XUWiEd9SJo3KYbzPx0gaSSCL8VXHs0h2M9hx8W/j19s9Izx2H67BpOKo4if9LHGKAqaOEbGA+ZaV7/+paiAGB7yzNxY74EpXAhWq7qWJDO4Yl4UB1HBUuWxjQ4vMGH/6oYVevQQkSP19T0dbgt5pQ63k7NkiEQ8KNTZft3g7vhIXhursI71ksUeVKzuk4lHZkvPfXwGmd+6uVqpRDqLrrKgLexPBdR3IiVPt8sbehu7F0KR6WoiZ4skThVrR9p+PdzvXfE6oZI+8fOw6vqbOtwe9QCgQkmjHZKddnMiLPRgINxQGpH/HvYKlHKe5D1CKu216/6kMkmUubn6ibZgC6Et/BFiLHXP9QiHYcckHeCxKjP0I7/m2oYEtFibGbqhviYhsrX330OC33NJcalqXLtKGz1j+C2rGnQn8hQeaU4/kC4vUuLQ8hcWFBVbJEbPdg/P12RpKDv6YQ/EWFADzz117UH+LEhXM+7tWdQamNwRg5UK7/VxKIR1bI/e+/9oOwde3kyZ8OtildHkXRc7oUrH/brykEfzmBFj9dPnAmWLBwliKCvJmzP3oRO/odwQ5vC/kZET8pibCz1doVOIyETcdrRzA89KdQNOQtRvLGRRTxEXgUyCuwXEco+aRwMh6X1TUOkW1A0zFO1MufzoC8dh8boDvzWrBwliBMbL5IfOCc8zuiuTqi2JAV6x5ZFA2P4GJ4PsQJtOX8QoKo3lxdhCStVilgKBbjBjfYSoLriFct4lo42xGmbd67OKcGO33cRNODQvnjReX9PRAnJL+92QOdBQ5fyIzNAwsWznJEmIp2Lh5XxBX+CM5QXuggUFm0YEH5wN9DByA8rBj4RuMs+mZHvahQSdXMiHLDs+WZHrBg4SyHrp235uWxz3CvdzDo+GPGBCSJQuDuJ9YOfBw6AbsX/0dD7Ytjb0ZxXaybPUYENiO2+HytwsiVC99xRt3/asHC2YCoO8XGzNx0Ca5bH5WZlItKIJst8Nu26jGoqAocZS41y4w/n9jsff7Z9UM7aTOBBqhTv+L2TT9B5dgDMgPnSe0xUX8PuO06EIYKrGpcOL/80qqsRTjzfpfcny1Y6BBi3ubpKvw8MdH39Ug0zVwiE+q0KVRCcxKgeeiIrEjVeNy2uCyrCk4jRs3YfFEiV4baOLkKB5feMle/YIlab/KlpPDdia1JFUvKMhrBggULFixYsGDBgoUO4f8AlhBCQA8gJp0AAAAASUVORK5CYII=" height='15%' width='15%' alt="logo"/></p>
`,[F,q]=r.useState([]),[H,Q]=r.useState([]),[B,R]=r.useState([]),$=r.useRef(null),[D,T]=r.useState(a==="loading"?"":w),v=A=>{q(A)},U=A=>{Q(A)},Y=A=>{R(A)};r.useEffect(()=>{var P;const A=(P=$.current)==null?void 0:P.scrollWidth;$.current&&($.current.style.width=`${A}px`)},[]);const J=async A=>{if(F.length===0){il.error("Please select atleast one email");return}if(!D){il.error("Please enter email content");return}x("loading");try{const P=await Le.requestExtension({facilityId:c,jobId:i.Id,professionalId:t,jobApplicationId:h,jobAssignmentId:N,data:{...o,emailSubmission:{toEmails:F.map(se=>se.value),ccEmails:H.length>0?H.map(se=>se.value):void 0,bccEmails:B.length>0?B.map(se=>se.value):void 0,subject:A.subject,body:D}}});P.status===200&&(il.success(P.data.message),x("idle"),S(),s(),n(),b())}catch(P){x("error"),il.error(P.response.data.message)}};return e.jsxs(e.Fragment,{children:[a==="loading"&&e.jsx(de,{}),e.jsxs(we,{isOpen:l,toggle:s,centered:!0,size:"lg",children:[e.jsx(Be,{toggle:s,children:"Service Extension Request"}),e.jsx(Fe,{style:{marginLeft:"10px",marginRight:"20px",height:"800px",overflow:"auto"},children:e.jsxs(Ze,{children:[e.jsxs(Oa,{children:[e.jsx(tl,{className:"from-input-style",children:e.jsxs("div",{className:"d-flex justify-content-space-between",children:["From",e.jsx(p,{placeholder:"",value:k,onChange:()=>{},className:"from-style",disabled:!0,ref:$})]})}),e.jsx(tl,{children:e.jsxs("div",{className:"d-flex justify-content-space-between",children:[e.jsx("span",{className:"to-style",children:"To"}),e.jsx("div",{className:"dropdown-wrapper",children:e.jsx(Cl,{isMulti:!0,name:"emails",classNamePrefix:"select",value:F,styles:Dl,onChange:v,placeholder:"",formatCreateLabel:A=>`Use this address: ${A}`})})]})}),e.jsx(tl,{children:e.jsxs("div",{className:"d-flex",children:[e.jsx("span",{className:"to-style",children:"Cc"}),e.jsx("div",{className:"dropdown-wrapper",children:e.jsx(Cl,{isMulti:!0,name:"cc",classNamePrefix:"select",value:H,styles:Dl,onChange:U,placeholder:"",formatCreateLabel:A=>`Use this address: ${A}`})})]})}),e.jsx(tl,{children:e.jsxs("div",{className:" d-flex ",children:[e.jsx("span",{className:"to-style",children:"Bcc"}),e.jsx("div",{className:"dropdown-wrapper",children:e.jsx(Cl,{isMulti:!0,name:"bccc",styles:Dl,classNamePrefix:"select",value:B,onChange:Y,placeholder:"",formatCreateLabel:A=>`Use this address: ${A}`})})]})})]}),e.jsxs("div",{className:"subject-style",children:[e.jsx("p",{children:"Subject"}),e.jsx(p,{placeholder:"Subject",...d("subject")}),O.subject&&e.jsx("p",{style:{color:"red"},children:O.subject.message})]}),e.jsx("p",{children:"Email"}),e.jsx("div",{className:"email-wrapper",children:e.jsx(zs,{content:D,readOnly:!1,className:"editor-container",handleChange:A=>T(A)})}),e.jsxs("div",{className:"btn-wrapper",children:[e.jsx(le,{className:"primary-btn",onClick:C(J),disabled:a==="loading",children:"Submit"}),e.jsx(le,{className:"secondary-btn",onClick:s,children:"Cancel"})]})]})})]})]})},Da=({isOpen:l,toggle:s,jobId:t,jobApplicationId:h,jobAssignmentId:y,professionalId:c,facilityId:N,currentStatus:g,isEmail:i,toggleParent:o,fetchRoster:n})=>{var xe,Ne,_,re,cs,Je,be,Ae,he,ae,me,Xe,Pe,qe,I,W,L,Z,Ee,Me,$e,Ge,hs,os,j,G,oe,Re,De,ze,Ye,We,bs,vs,Ss,Cs,Ds,Rs,Es,Ts,Is,ks,ws,Fs,Bs,Ms,Os,Js,te,Ue,Ve;const[b,S]=r.useState(!1),[a,x]=r.useState("idle"),[d,C]=r.useState(null),[f,O]=r.useState(null),[M,k]=r.useState(null),[w,F]=r.useState([]),[q,H]=r.useState(null),[Q,B]=r.useState(null),[R,$]=r.useState(null),[D,T]=r.useState([]),[v,U]=r.useState(null),[Y,J]=r.useState(null),{register:V,handleSubmit:A,formState:{errors:P}}=ms({resolver:us(Mt)}),se=(X,Ke)=>{if(Ke.isTyping)T([]);else if((X==null?void 0:X.length)<=10){const ee=X==null?void 0:X.map(K=>{var ie;return ne(`${K==null?void 0:K.year}-${(ie=K==null?void 0:K.month)==null?void 0:ie.number}-${K==null?void 0:K.day}`).format("MM-DD-YYYY")});T(ee)}else{const ee=X.slice(0,10);T(ee),E("error","Maximum 10 days can be selected")}},ve=r.useCallback(async()=>{x("loading");const X=async(ie,ue,Se=!1)=>{try{const Qe=await ie();ue(Se?Qe.data.data[0]:Qe.data.data)}catch(Qe){const js=Qe.response?Qe.response.data.message:Qe.message;E("Error fetching data",js),console.error("Error fetching data:",Qe)}},Ke=[()=>gl(),()=>Le.getJobDetails({facilityId:N,jobId:t}),()=>Le.fetchProfessionalDetails({facilityId:N,professionalId:c,jobId:t}),()=>Le.fetchJobAssignment({facilityId:N,jobId:t,professionalId:c,jobApplicationId:h,jobAssignmentId:y})],ee=[F,k,O,C],K=[!1,!0,!0,!0];(async()=>{await Promise.allSettled(Ke.map((ie,ue)=>X(ie,ee[ue],K[ue]))),x("idle")})().catch(ie=>{E("error","Error fetching data"),console.error("Error fetching data:",ie),x("error")})},[N,t,h,y,c]);r.useEffect(()=>{ve()},[ve]);const ye=async X=>{var ee,K;if(!q){E("error","Please select a shift");return}if(!Q||!R){E("error","Please select extension start and end dates");return}if(!v){E("error","Please select compliance due date");return}if(Q>R){E("error","Extension start date cannot be after end date");return}if(!(d!=null&&d.ShiftStartTime)&&!(d!=null&&d.ShiftEndTime)){E("error","Shift start and end times are required");return}if(!((ee=f==null?void 0:f.JobSpeciality)!=null&&ee.Id)||!((K=f==null?void 0:f.JobProfession)!=null&&K.Id)){E("error","Professional speciality and profession are required");return}if(Object.keys(P).filter(ie=>P[ie]).length>0){E("error","Please fill in all required fields");return}x("loading");try{const ie={startDate:Ce(Q.toString()),endDate:Ce(R.toString()),shiftStartTime:d==null?void 0:d.ShiftStartTime,shiftEndTime:d==null?void 0:d.ShiftEndTime,specialityId:f==null?void 0:f.JobSpeciality.Id,professionId:f==null?void 0:f.JobProfession.Id,unit:d==null?void 0:d.Unit,shiftId:q==null?void 0:q.value,regularHrs:X.regularHrs,overtimeHrs:X.overtimeHrs,totalHrsWeekly:X.totalHrsWeekly,totalDaysOnAssignment:X.totalDaysOnAssignment,gauranteedHours:X.gauranteedHours,complianceDueDate:Ce(v.toString()),notes:X.notes,costCenter:X.costCenter,reqId:X.reqId,payDetails:{regularRate:X.payDetails.regularRate,overTimeRate:X.payDetails.overTimeRate,doubleTimeRate:X.payDetails.doubleTimeRate,holidayRate:X.payDetails.holidayRate,chargeRate:X.payDetails.chargeRate,onCallRate:X.payDetails.onCallRate,callBackRate:X.payDetails.callBackRate,travelReimbursement:X.payDetails.travelReimbursement,mealsAndIncidentals:X.payDetails.mealsAndIncidentals,housingStipend:X.payDetails.housingStipend},billingDetails:{billRate:X.billingDetails.billRate,overTimeBillRate:X.billingDetails.overTimeBillRate,doubleTimeBillRate:X.billingDetails.doubleTimeBillRate,holidayBillRate:X.billingDetails.holidayBillRate,chargeBillRate:X.billingDetails.chargeBillRate,onCallBillRate:X.billingDetails.onCallBillRate,callBackBillRate:X.billingDetails.callBackBillRate}};D.length>0?ie.approvedTimeOff=D==null?void 0:D.map(Se=>ne(Se).format("YYYY-MM-DD")):ie.approvedTimeOff=[];const ue=await Le.offerExtension({facilityId:N,jobId:t,professionalId:c,jobApplicationId:h,jobAssignmentId:y,data:ie});ue.status===200&&(E("success",ue.data.message||"Assignment extension request sent successfully"),x("idle"),n(),s(),o())}catch(ie){const ue=ie.response?ie.response.data.message:ie.message;E("error",ue),console.error("Error sending service extension request:",ie),x("idle")}},ce=async X=>{var ee,K;if(!q){E("error","Please select a shift");return}if(!Q||!R){E("error","Please select extension start and end dates");return}if(!v){E("error","Please select compliance due date");return}if(Q>R){E("error","Extension start date cannot be after end date");return}if(!(d!=null&&d.ShiftStartTime)&&!(d!=null&&d.ShiftEndTime)){E("error","Shift start and end times are required");return}if(!((ee=f==null?void 0:f.JobSpeciality)!=null&&ee.Id)||!((K=f==null?void 0:f.JobProfession)!=null&&K.Id)){E("error","Professional speciality and profession are required");return}const Ke=Object.keys(P).filter(ie=>P[ie]);if(Ke.length>0){E("error","Please fill in all required fields");return}if(D&&D.length>0&&D.some(ie=>ne(ie)<ne(Q)))return E("error","Time off request dates cannot be before the start date");if(i===!0&&Ke.length===0){const ie={startDate:Ce(Q.toString()),endDate:Ce(R.toString()),shiftStartTime:d==null?void 0:d.ShiftStartTime,shiftEndTime:d==null?void 0:d.ShiftEndTime,specialityId:f==null?void 0:f.JobSpeciality.Id,professionId:f==null?void 0:f.JobProfession.Id,unit:d==null?void 0:d.Unit,shiftId:q==null?void 0:q.value,regularHrs:X.regularHrs,overtimeHrs:X.overtimeHrs,totalHrsWeekly:X.totalHrsWeekly,totalDaysOnAssignment:X.totalDaysOnAssignment,gauranteedHours:X.gauranteedHours,complianceDueDate:Ce(v.toString()),notes:X.notes,costCenter:X.costCenter,reqId:X.reqId,payDetails:{regularRate:X.payDetails.regularRate,overTimeRate:X.payDetails.overTimeRate,doubleTimeRate:X.payDetails.doubleTimeRate,holidayRate:X.payDetails.holidayRate,chargeRate:X.payDetails.chargeRate,onCallRate:X.payDetails.onCallRate,callBackRate:X.payDetails.callBackRate,travelReimbursement:X.payDetails.travelReimbursement,mealsAndIncidentals:X.payDetails.mealsAndIncidentals,housingStipend:X.payDetails.housingStipend},billingDetails:{billRate:X.billingDetails.billRate,overTimeBillRate:X.billingDetails.overTimeBillRate,doubleTimeBillRate:X.billingDetails.doubleTimeBillRate,holidayBillRate:X.billingDetails.holidayBillRate,chargeBillRate:X.billingDetails.chargeBillRate,onCallBillRate:X.billingDetails.onCallBillRate,callBackBillRate:X.billingDetails.callBackBillRate}};D?ie.approvedTimeOff=D==null?void 0:D.map(ue=>ne(ue).format("YYYY-MM-DD")):ie.approvedTimeOff=[],J(ie),S(!0);return}};return e.jsxs(e.Fragment,{children:[a==="loading"&&e.jsx(de,{}),e.jsxs(we,{isOpen:l,toggle:s,centered:!0,size:"xl",children:[e.jsx(Be,{toggle:s,style:{position:"sticky",top:"0px",zIndex:"9999",background:"#FFF"},children:"Service Extension Offer to Client"}),e.jsx(Fe,{style:{height:"auto",overflow:"auto"},children:e.jsx("div",{className:"view-file-wrapper",children:e.jsxs("div",{children:[e.jsx("div",{className:"mt-3",children:f&&e.jsx(Bt,{professionalId:c,jobId:t,professional:f,currentStatus:g})}),e.jsx("div",{className:"offer-wrapper p-3",style:{boxShadow:"0px 2px 2px 0px #00000026"},children:e.jsxs(Ze,{onSubmit:A(i?ce:ye),children:[e.jsxs(ge,{children:[e.jsx("h6",{className:"mb-3",children:"Candidate Information"}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Professional Name"}),e.jsx(p,{value:`${z(f!=null&&f.FirstName?f==null?void 0:f.FirstName:"")} ${z(f!=null&&f.LastName?f==null?void 0:f.LastName:"")}`,disabled:!0})]}),e.jsxs(m,{xxl:"8",xl:"8",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Job Title"}),e.jsx(p,{value:z(M!=null&&M.Title?M==null?void 0:M.Title:""),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Specialty"}),e.jsx(p,{disabled:!0,value:`${f!=null&&f.JobSpeciality?f==null?void 0:f.JobSpeciality.Speciality:""}`})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Profession"}),e.jsx(p,{disabled:!0,value:`${f!=null&&f.JobProfession?f==null?void 0:f.JobProfession.Profession:""}`})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Unit"}),e.jsx(p,{className:"text-capitalize",value:`${d!=null&&d.Unit?d==null?void 0:d.Unit:""}`,disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Shift",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(_e,{id:"selectedShift",name:"selectedShift",options:w.map(X=>({label:X.Shift,value:X.Id})),noOptionsMessage:()=>"No options available",placeholder:"Select Shift",value:q,onChange:X=>{H(X)},isDisabled:!1})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Service Start Date"}),e.jsx("div",{className:"date-range",style:{backgroundColor:"#F7F8F3"},children:e.jsx(Ie,{dateFormat:"MM/dd/yyyy",isClearable:!0,disabled:!0,onChange:()=>{},placeholderText:"----",customInput:e.jsxs("div",{className:"calendar-wrapper",children:[e.jsx(p,{value:d!=null&&d.StartDate?ne(d==null?void 0:d.StartDate).format("MM-DD-YYYY"):"-",disabled:!0}),e.jsx("img",{src:ke,className:"calendar-icon"})]})})})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Service End Date"}),e.jsx("div",{className:"date-range",style:{backgroundColor:"#F7F8F3"},children:e.jsx(Ie,{dateFormat:"MM/dd/yyyy",isClearable:!0,disabled:!0,onChange:()=>{},placeholderText:"----",customInput:e.jsxs("div",{className:"calendar-wrapper",children:[e.jsx(p,{value:d!=null&&d.EndDate?ne(d==null?void 0:d.EndDate).format("MM-DD-YYYY"):"-",disabled:!0}),e.jsx("img",{src:ke,className:"calendar-icon"})]})})})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Extension Start Date",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx("div",{className:"date-range",children:e.jsx(Ie,{dateFormat:"MM/dd/yyyy",isClearable:!0,disabled:!1,selected:Q,onChange:X=>{B(X)},minDate:new Date,maxDate:new Date(new Date().getFullYear()+10,11,31),placeholderText:"----",customInput:e.jsxs("div",{className:"calendar-wrapper",children:[e.jsx(p,{value:Q?ne(Q.toString()).format("MM-DD-YYYY"):"",disabled:!1}),!Q&&e.jsx("img",{src:ke,className:"calendar-icon"})]})})})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Extension End Date",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx("div",{className:"date-range",children:e.jsx(Ie,{dateFormat:"MM/dd/yyyy",isClearable:!0,disabled:!1,selected:R,onChange:X=>{$(X)},minDate:Q?new Date(Q.getTime()+24*60*60*1e3):new Date(new Date().getTime()+24*60*60*1e3),maxDate:new Date(new Date().getFullYear()+10,11,31),placeholderText:"----",customInput:e.jsxs("div",{className:"calendar-wrapper",children:[e.jsx(p,{value:R?ne(R.toString()).format("MM-DD-YYYY"):"",disabled:!1}),!R&&e.jsx("img",{src:ke,className:"calendar-icon"})]})})})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Approved Time Off"}),e.jsx(pl,{maxDate:new Date(new Date().getFullYear()+4,11,31),value:D?D==null?void 0:D.map(X=>ne(X).format("MM-DD-YYYY")):"-",onChangeDate:se})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Regular Hours",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"Regular Hours",invalid:P.regularHrs,...V("regularHrs")}),P.regularHrs&&e.jsx(fe,{style:{color:"red"},children:P.regularHrs.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Overtime Hours",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"Overtime Hours",invalid:P.overtimeHrs,...V("overtimeHrs")}),P.overtimeHrs&&e.jsx(fe,{style:{color:"red"},children:P.overtimeHrs.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Total Hours (weekly)",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"Total Hours (weekly)",invalid:P.totalHrsWeekly,...V("totalHrsWeekly")}),P.totalHrsWeekly&&e.jsx(fe,{style:{color:"red"},children:P.totalHrsWeekly.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Total Days on Assignment",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{invalid:P.totalDaysOnAssignment,...V("totalDaysOnAssignment"),placeholder:"Total Days on Assignment",type:"number"}),P.totalDaysOnAssignment&&e.jsx(fe,{style:{color:"red"},children:P.totalDaysOnAssignment.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Guaranteed Hours",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"Guaranteed Hours",...V("gauranteedHours"),invalid:P.gauranteedHours}),P.gauranteedHours&&e.jsx(fe,{style:{color:"red"},children:P.gauranteedHours.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Compliance Due Date",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx("div",{className:"date-range",children:e.jsx(Ie,{isClearable:!0,disabled:!1,selected:v,maxDate:new Date(new Date().getFullYear()+10,11,31),onChange:X=>{U(X)},placeholderText:"----",customInput:e.jsxs("div",{className:"calendar-wrapper",children:[e.jsx(p,{value:v?ne(v.toString()).format("MM-DD-YYYY"):"",disabled:!1}),!v&&e.jsx("img",{src:ke,className:"calendar-icon"})]})})})]}),e.jsxs(m,{xxl:"12",xl:"12",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Additional Notes"}),e.jsx(p,{...V("notes"),invalid:P.notes}),P.notes&&e.jsx(fe,{style:{color:"red"},children:P.notes.message})]}),e.jsx("h6",{children:"Pay Details"}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Regular Rate",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"$0",invalid:(xe=P.payDetails)==null?void 0:xe.regularRate,...V("payDetails.regularRate")}),((Ne=P.payDetails)==null?void 0:Ne.regularRate)&&e.jsx(fe,{style:{color:"red"},children:(_=P.payDetails)==null?void 0:_.regularRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Overtime Rate",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"$0",invalid:(re=P.payDetails)==null?void 0:re.overTimeRate,...V("payDetails.overTimeRate")}),((cs=P.payDetails)==null?void 0:cs.overTimeRate)&&e.jsx(fe,{style:{color:"red"},children:(Je=P.payDetails)==null?void 0:Je.overTimeRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Double Time Rate"," ",e.jsxs("span",{className:"california-text",children:["(California Only)",e.jsx("span",{className:"asterisk",children:"*"})]})]}),e.jsx(p,{placeholder:"$0",invalid:(be=P.payDetails)==null?void 0:be.doubleTimeRate,...V("payDetails.doubleTimeRate")}),((Ae=P.payDetails)==null?void 0:Ae.doubleTimeRate)&&e.jsx(fe,{style:{color:"red"},children:(he=P.payDetails)==null?void 0:he.doubleTimeRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Holiday Rate",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"$0",...V("payDetails.holidayRate"),invalid:(ae=P.payDetails)==null?void 0:ae.holidayRate}),((me=P.payDetails)==null?void 0:me.holidayRate)&&e.jsx(fe,{style:{color:"red"},children:(Xe=P.payDetails)==null?void 0:Xe.holidayRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Charge Rate",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"$0",...V("payDetails.chargeRate"),invalid:(Pe=P.payDetails)==null?void 0:Pe.chargeRate}),((qe=P.payDetails)==null?void 0:qe.chargeRate)&&e.jsx(fe,{style:{color:"red"},children:(I=P.payDetails)==null?void 0:I.chargeRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["On-Call Rate",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"$0",invalid:(W=P.payDetails)==null?void 0:W.onCallRate,...V("payDetails.onCallRate")}),((L=P.payDetails)==null?void 0:L.onCallRate)&&e.jsx(fe,{style:{color:"red"},children:(Z=P.payDetails)==null?void 0:Z.onCallRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Callback Rate",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"$0",...V("payDetails.callBackRate"),invalid:(Ee=P.payDetails)==null?void 0:Ee.callBackRate}),((Me=P.payDetails)==null?void 0:Me.callBackRate)&&e.jsx(fe,{style:{color:"red"},children:($e=P.payDetails)==null?void 0:$e.callBackRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Travel Reimbursement",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"$0",...V("payDetails.travelReimbursement"),invalid:(Ge=P.payDetails)==null?void 0:Ge.travelReimbursement}),((hs=P.payDetails)==null?void 0:hs.travelReimbursement)&&e.jsx(fe,{style:{color:"red"},children:(os=P.payDetails)==null?void 0:os.travelReimbursement.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Lodging Stipend (Daily)",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"$0",invalid:(j=P.payDetails)==null?void 0:j.housingStipend,...V("payDetails.housingStipend")}),((G=P.payDetails)==null?void 0:G.housingStipend)&&e.jsx(fe,{style:{color:"red"},children:(oe=P.payDetails)==null?void 0:oe.housingStipend.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Meals & Incidentals Stipend"," ",e.jsx("span",{className:"california-text",children:" (Daily)"}),e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"$0",...V("payDetails.mealsAndIncidentals"),invalid:(Re=P.payDetails)==null?void 0:Re.mealsAndIncidentals}),((De=P.payDetails)==null?void 0:De.mealsAndIncidentals)&&e.jsx(fe,{style:{color:"red"},children:(ze=P.payDetails)==null?void 0:ze.mealsAndIncidentals.message})]}),e.jsx("h6",{children:"Billing Details"}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Bill Rate",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"$0",invalid:(Ye=P.billingDetails)==null?void 0:Ye.billRate,...V("billingDetails.billRate")}),((We=P.billingDetails)==null?void 0:We.billRate)&&e.jsx(fe,{style:{color:"red"},children:(bs=P.billingDetails)==null?void 0:bs.billRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Overtime Rate",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"$0",...V("billingDetails.overTimeBillRate"),invalid:(vs=P.billingDetails)==null?void 0:vs.overTimeBillRate}),((Ss=P.billingDetails)==null?void 0:Ss.overTimeBillRate)&&e.jsx(fe,{style:{color:"red"},children:(Cs=P.billingDetails)==null?void 0:Cs.overTimeBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Double Time Bill Rate"," ",e.jsxs("span",{className:"california-text",children:["(California Only)",e.jsx("span",{className:"asterisk",children:"*"})]})]}),e.jsx(p,{placeholder:"$0",invalid:(Ds=P.billingDetails)==null?void 0:Ds.doubleTimeBillRate,...V("billingDetails.doubleTimeBillRate")}),((Rs=P.billingDetails)==null?void 0:Rs.doubleTimeBillRate)&&e.jsx(fe,{style:{color:"red"},children:(Es=P.billingDetails)==null?void 0:Es.doubleTimeBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Holiday Bill Rate",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"$0",...V("billingDetails.holidayBillRate"),invalid:(Ts=P.billingDetails)==null?void 0:Ts.holidayBillRate}),((Is=P.billingDetails)==null?void 0:Is.holidayBillRate)&&e.jsx(fe,{style:{color:"red"},children:(ks=P.billingDetails)==null?void 0:ks.holidayBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Charge Bill Rate",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"$0",...V("billingDetails.chargeBillRate"),invalid:(ws=P.billingDetails)==null?void 0:ws.chargeBillRate}),((Fs=P.billingDetails)==null?void 0:Fs.chargeBillRate)&&e.jsx(fe,{style:{color:"red"},children:(Bs=P.billingDetails)==null?void 0:Bs.chargeBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["On-Call Bill Rate",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"$0",...V("billingDetails.onCallBillRate"),invalid:(Ms=P.billingDetails)==null?void 0:Ms.onCallBillRate}),((Os=P.billingDetails)==null?void 0:Os.onCallBillRate)&&e.jsx(fe,{style:{color:"red"},children:(Js=P.billingDetails)==null?void 0:Js.onCallBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Callback Rate",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"$0",...V("billingDetails.callBackBillRate"),invalid:(te=P.billingDetails)==null?void 0:te.callBackBillRate}),((Ue=P.billingDetails)==null?void 0:Ue.callBackBillRate)&&e.jsx(fe,{style:{color:"red"},children:(Ve=P.billingDetails)==null?void 0:Ve.callBackBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Cost Center"," ",e.jsx("span",{className:"california-text",children:"(If applicable)"})]}),e.jsx(p,{...V("costCenter"),invalid:P.costCenter}),P.costCenter&&e.jsx(fe,{style:{color:"red"},children:P.costCenter.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Req Id"}),e.jsx(p,{...V("reqId"),invalid:P.reqId}),P.reqId&&e.jsx(fe,{style:{color:"red"},children:P.reqId.message})]})]}),e.jsxs("div",{className:"btn-wrapper",children:[e.jsx(le,{className:"primary-btn",type:"submit",children:"Submit"}),e.jsx(le,{className:"secondary-btn",onClick:s,children:"Cancel"})]})]})})]})})})]}),b&&f&&M&&d&&Y&&e.jsx(Jt,{isOpen:b,toggle:()=>S(!b),toggleParent:s,toggleParentParent:o,fetchRosterData:n,currentProfessional:f,facilityId:N,professionalId:c,job:M,currentApplicantId:h,jobAssignment:d,jobAssignmentId:y,formData:Y})]})},Ht=({isOpen:l,toggle:s,facilityId:t,professionalId:h,jobApplicationId:y,jobAssignmentId:c,jobId:N,currentStatus:g,fetchRosterData:i})=>{const[o,n]=r.useState(!1),[b,S]=r.useState(!0);return e.jsxs(e.Fragment,{children:[e.jsxs(we,{isOpen:l,toggle:s,centered:!0,className:"extension-modal",children:[e.jsx(Be,{toggle:s,children:" Service Extension Request "}),e.jsx(Fe,{style:{width:"75%"},children:e.jsx(Ze,{children:e.jsxs(ge,{className:"d-flex justify-content-center purple-radio-extension",children:[e.jsx("span",{className:"extension-radio",children:e.jsx(Fl,{name:"extensionradio",disabled:!1,options:[{label:"Request Extension with Client",value:"true"},{label:"Send Extension Offer to Professional",value:"false"}],selected:b?"true":"false",onChange:()=>{S(!b)},className:"custom-radio-style"})}),e.jsx(m,{md:"12",className:"col-group",children:e.jsxs("div",{className:" extension-btn-wrapper",style:{marginLeft:"48px"},children:[e.jsx(le,{className:"primary-btn",style:{marginLeft:"0px!important"},onClick:()=>{n(!0)},children:"Proceed"}),e.jsx(le,{className:"secondary-btn",onClick:s,children:"Cancel"})]})})]})})})]}),o&&e.jsx(Da,{isEmail:b,facilityId:t,professionalId:h,jobId:N,jobApplicationId:y,jobAssignmentId:c,currentStatus:g,isOpen:o,toggle:()=>{n(!1)},toggleParent:s,fetchRoster:i})]})},Lt=({professionalId:l,currentProfessional:s,isReadOnly:t,status:h})=>{const y=gs(),c=xs(async g=>{var i,o;try{const n=await Hl(l,g);E("success","Professional activation changed successfully")}catch(n){console.error(n),E("error",((o=(i=n==null?void 0:n.response)==null?void 0:i.data)==null?void 0:o.message)||"Something went wrong")}},200),N=()=>{y(`/professionals/edit/${l}`)};return e.jsxs("div",{className:"facility-header-wrap professional-header mt-3",style:{paddingTop:"12px",paddingBottom:"12px",pointerEvents:t?"none":"auto"},children:[s===null&&e.jsx(de,{}),e.jsx("div",{className:"content-wrapper align-items-center",children:e.jsx("img",{src:s!=null&&s.ProfileImage?s==null?void 0:s.ProfileImage:$s,style:{borderRadius:"50%",height:"8rem",width:"8rem",position:"relative",backgroundColor:"#f4f4f4"}})}),e.jsx("div",{className:"details-wrapper",children:e.jsxs("div",{className:"header-wrapper",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"first-section-content",children:[e.jsxs("h1",{className:"hospital-name",children:[z(s!=null&&s.FirstName?s==null?void 0:s.FirstName:"")," ",z(s!=null&&s.LastName?s==null?void 0:s.LastName:"")]}),e.jsx(p,{placeholder:"",disabled:!0,value:`PID-${l}`,className:"in-width",style:{marginRight:"10px"}}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("span",{className:"text-nowrap",children:"Account Status:"}),e.jsx("span",{className:"toggle-position",style:{marginLeft:"5px"},children:e.jsx(Jl,{onStateChange:g=>c(g),checked:s==null?void 0:s.ActivationStatus,allow:!0})}),e.jsx("span",{style:{marginLeft:"10px"},children:e.jsx(Ns,{onEdit:()=>N()})})]})]}),e.jsxs("div",{className:"application-wrapper d-flex align-items-center select-view",children:[e.jsx("span",{style:{marginRight:"5px"},className:"text-nowrap",children:"Application Status:"}),e.jsx("span",{style:{color:h?ls(h):"#000",borderColor:h?ls(h):"#000",marginLeft:"10px",border:"1px solid",padding:"0.8rem 0.5rem",borderRadius:"5px",backgroundColor:"#fafafa"},children:h})]})]}),e.jsxs("div",{className:"second-section-content d-flex align-items-center",children:[e.jsxs("div",{children:[e.jsx("span",{className:"main-text",children:"Phone:"}),e.jsx("span",{children:is(s!=null&&s.Phone?s==null?void 0:s.Phone:"")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"main-text",children:"Email:"}),e.jsx("span",{children:s!=null&&s.Email?s==null?void 0:s.Email:""})]})]}),e.jsx("div",{className:"second-section-content",children:e.jsxs("span",{children:[e.jsx("span",{className:"main-text",children:"Address:"}),s!=null&&s.Address?s==null?void 0:s.Address:""]})}),e.jsxs("div",{className:"second-section-content",children:[e.jsx("span",{className:"main-text",children:"Preferred Job Location:"}),s==null?void 0:s.PreferredLocations.map((g,i)=>e.jsxs("span",{children:[g.State.State,i<(s==null?void 0:s.PreferredLocations.length)-1?", ":""]},i))]}),e.jsxs("div",{className:"second-section-content",children:[e.jsxs("span",{children:[e.jsx("span",{className:"main-text",children:"Profession:"}),s!=null&&s.JobProfession.Profession?s==null?void 0:s.JobProfession.Profession:e.jsx("span",{children:"None"})]}),e.jsx("span",{className:"main-text",children:"Speciality:"}),e.jsx("span",{children:s!=null&&s.JobSpeciality.Speciality?s==null?void 0:s.JobSpeciality.Speciality:e.jsx("span",{children:"None"})}),e.jsx("span",{className:"main-text",children:"Experience:"}),e.jsxs("span",{children:[s!=null&&s.Experience?s==null?void 0:s.Experience:"None"," ","Years"]})]})]})})]})},Ra=({certificate:l})=>{var s;return e.jsxs("div",{className:"prof-wrapper",children:[e.jsx("div",{className:"prof-card-subheading",style:{marginTop:"10px",marginBottom:"0px"},children:z(l.Name)||"--"}),e.jsx("div",{className:"d-flex align-items-center view-file-info-section pb-3 pt-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"file-img d-flex",children:e.jsx("img",{src:As,className:""})}),e.jsxs("div",{className:"file-content",children:[e.jsx("span",{className:"info-title",children:"Expiration Date:"})," ",e.jsx("span",{className:"info-content",children:l.Expiry?Te((s=l.Expiry)==null?void 0:s.toString()):"--"})]})]})})]})},Ea=({license:l})=>{var s,t;return e.jsxs("div",{className:"prof-wrapper",style:{marginBottom:"20px",backgroundColor:"none"},children:[e.jsx("p",{className:"prof-card-subheading",style:{marginTop:"10px",marginBottom:"0px"},children:z(l.Name)||"--"}),e.jsx("div",{className:"d-flex align-items-center view-file-info-section pb-3 pt-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"file-img d-flex",children:e.jsx("img",{src:As,className:""})}),e.jsxs("div",{className:"file-content",children:[e.jsxs("p",{style:{marginBottom:"0px"},children:[e.jsx("span",{className:"info-title",children:"License Number: "}),e.jsx("span",{className:"info-content",children:l.LicenseNumber})]}),e.jsx("span",{className:"info-title",children:"State: "}),e.jsx("span",{className:"info-content",children:z((s=l.State)==null?void 0:s.State)||"--"}),e.jsx("span",{className:"info-title",children:"Expiration Date:"})," ",e.jsx("span",{className:"info-content",children:l.Expiry?Te((t=l.Expiry)==null?void 0:t.toString()):"--"})]})]})})]})},Pt=({professionalId:l,jobId:s,facilityId:t})=>{const[h,y]=r.useState([]),[c,N]=r.useState([]),[g,i]=r.useState([]),[o,n]=r.useState([]),[b,S]=r.useState([]),[a,x]=r.useState([]),[d,C]=r.useState(1),[f,O]=r.useState(10),[M,k]=r.useState(0),[w,F]=r.useState(0),[q,H]=r.useState("idle"),Q=async R=>{C(R)},B=r.useCallback(async()=>{var R,$;H("loading");try{const D=await Le.fetchProfessionalDocuments({facilityId:t,jobId:s,professionalId:l,size:f,page:d});D.status===200&&(k((R=D.data.data[0])==null?void 0:R.count),F(Math.ceil((($=D.data.data[0])==null?void 0:$.count)/f)),x(D.data.data[0].rows),H("idle"))}catch(D){E("Error fetching documents",D),console.error("Error fetching documents:",D)}},[t,s,d,l,f]);return r.useEffect(()=>{B()},[B]),r.useEffect(()=>{H("loading");const R=async(T,v)=>{try{const U=await T();v(U.data.data)}catch(U){E("Error fetching data",U),console.error("Error fetching data:",U)}},$=[Le.fetchProfessionalWorkHistory,Le.fetchProfessionalReferences,Le.fetchProfessionalEducation,Le.fetchProfessionalLicenses,Le.fetchProfessionalCertifications],D=[y,N,i,n,S];Promise.allSettled($.map((T,v)=>R(()=>T({jobId:s,professionalId:l,facilityId:t}),D[v]))).then(()=>H("idle"))},[t,s,l]),e.jsxs(e.Fragment,{children:[q==="loading"&&e.jsx(de,{}),e.jsxs("div",{style:{marginTop:"10px",marginBottom:"20px"},children:[e.jsxs("div",{className:"facility-header-wrap",children:[h.length>0&&e.jsx("div",{style:{borderRadius:"4px",background:"#fff",boxShadow:"0px 2px 2px 0px rgba(0, 0, 0, 0.25)",marginTop:"10px",marginBottom:"10px"},children:e.jsxs("div",{className:"facility-header-wrap",style:{padding:"10px 0px"},children:[e.jsx("span",{className:"section-header",style:{marginLeft:"20px"},children:"Work History"}),e.jsx("div",{style:{padding:"0px 20px"},children:h.map(R=>e.jsx(yl,{fetch:()=>{},workHistory:R,professionalId:1,isReadOnly:!0}))})]})}),c.length>0&&e.jsx("div",{style:{borderRadius:"4px",background:"#fff",boxShadow:"0px 2px 2px 0px rgba(0, 0, 0, 0.25)",marginTop:"10px",marginBottom:"10px"},children:e.jsxs("div",{className:"details-header section-header",style:{padding:"10px 5px"},children:[e.jsx("span",{className:"section-header",style:{marginLeft:"20px"},children:"References"}),c.map(R=>e.jsx(jl,{reference:R}))]})})]}),g.length>0&&e.jsx("div",{style:{borderRadius:"4px",background:"#fff",boxShadow:"0px 2px 2px 0px rgba(0, 0, 0, 0.25)",marginTop:"10px",marginBottom:"10px"},children:e.jsxs("div",{className:"facility-header-wrap",style:{padding:"0px 0px"},children:[e.jsx("div",{className:"pt-3",children:e.jsx("span",{className:"section-header pt-3",style:{marginLeft:"20px"},children:"Education"})}),g.map(R=>e.jsx(Nl,{education:R}))]})}),(o.length>0||b.length>0)&&e.jsx("div",{style:{borderRadius:"4px",background:"#fff",boxShadow:"0px 2px 2px 0px rgba(0, 0, 0, 0.25)",marginTop:"10px",marginBottom:"10px"},children:e.jsxs("div",{className:"facility-header-wrap",style:{padding:"10px 0px"},children:[e.jsx("div",{className:"mt-1",children:e.jsx("span",{className:"section-header",style:{padding:"12px 21px"},children:"Professional Information"})}),e.jsx("div",{className:"wrapper",children:e.jsxs("div",{className:"details-wrapper",children:[o.length>0&&e.jsx("span",{className:"prof-card-header",children:"Licenses"}),o.map(R=>e.jsx(Ea,{license:R})),b.length>0&&e.jsx("span",{className:"prof-card-header",style:{marginTop:"10px",marginBottom:"0px"},children:"Certifications"}),b.map(R=>e.jsx(Ra,{certificate:R}))]})})]})}),a.length>0&&e.jsx("div",{style:{borderRadius:"4px",background:"#fff",boxShadow:"0px 2px 2px 0px rgba(0, 0, 0, 0.25)",marginTop:"10px",marginBottom:"10px"},children:e.jsxs("div",{className:"facility-header-wrap",style:{padding:"10px 10px"},children:[e.jsx("span",{className:"section-header",style:{padding:"10px"},children:"Documents"}),a.map(R=>e.jsx(fl,{doc:R,facilityId:t,jobId:s,professionalId:l})),e.jsx("div",{style:{marginTop:"auto",margin:"0px 10px"},children:e.jsx(_s,{currentPage:d,totalPages:w,onPageChange:Q,onPageSizeChange:O,entriesPerPage:f,totalRows:M,setPage:C})})]})})]})]})},qt=({isOpen:l,toggle:s,currentJobId:t,currentProfessionalId:h,currentStatus:y})=>{const[c,N]=r.useState("idle"),[g,i]=r.useState(null),o=He(),n=r.useCallback(async()=>{N("loading");const[b,S]=await Promise.all([Le.fetchProfessionalDetails({facilityId:Number(o.Id),jobId:t,professionalId:h}),Le.fetchProfessionalWorkHistory({facilityId:Number(o.Id),jobId:t,professionalId:h})]);b.status===200&&S.status===200&&(N("idle"),i(b.data.data[0]))},[o.Id,t,h]);return r.useEffect(()=>{n()},[n]),e.jsxs(e.Fragment,{children:[c==="loading"&&e.jsx(de,{}),e.jsxs(we,{isOpen:l,toggle:s,centered:!0,size:"xl",className:"onboard-modal",children:[e.jsxs(Be,{toggle:s,style:{position:"sticky",top:"0px",zIndex:"9999",background:"#FFF"},children:[g?`${z(g.FirstName)} ${z(g.LastName)}`:"","’s Profile"]}),e.jsx(Fe,{children:e.jsx("div",{className:"view-file-wrapper",children:e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(Lt,{professionalId:h,currentProfessional:g,status:y})}),e.jsx(Pt,{facilityId:Number(o.Id),jobId:t,professionalId:h})]})})})]})]})},$t=({isOpen:l,toggle:s,facilityId:t,jobId:h,jobApplicationId:y,jobAssignmentId:c,professionalId:N,fetchRoster:g})=>{const[i,o]=r.useState("idle"),[n,b]=r.useState(null),S=f=>{b(f)},[a,x]=r.useState(""),d=[{value:1,label:"Facility Termination"},{value:2,label:"Professional Termination"},{value:3,label:"Gig Termination"}],C=async()=>{if(n){if(a.length===0){E("error","Notes is required");return}o("loading");try{(await Le.terminateJobAssignment({facilityId:t,jobId:h,professionalId:N,jobApplicationId:y,jobAssignmentId:c,data:{status:n==null?void 0:n.label,notes:a}})).status===200&&(o("idle"),g(),s())}catch(f){o("error"),console.error(f)}}};return e.jsxs(e.Fragment,{children:[i==="loading"&&e.jsx(de,{}),e.jsxs(we,{isOpen:l,toggle:s,centered:!0,size:"md",onClosed:s,children:[e.jsx(Be,{toggle:s,children:"Termination"}),e.jsx(Fe,{children:e.jsxs(Ze,{children:[e.jsx(ge,{children:e.jsxs(m,{md:"12",className:"col-group",children:[e.jsx(u,{children:"Select Termination By"}),e.jsx(_e,{id:"termination",styles:bl,name:"termination",placeholder:"Select",noOptionsMessage:()=>"No Category Found",isClearable:!0,isSearchable:!0,options:d,onChange:S,value:n})]})}),e.jsx(ge,{children:e.jsxs(m,{md:"12",className:"col-group mb-0",children:[e.jsx(u,{children:"Notes"}),e.jsx(ps,{value:a,onChange:f=>x(f.target.value),id:"notesTextArea",placeholder:"Notes"})]})})]})}),e.jsx(fs,{className:"justify-content-start",children:e.jsxs("div",{className:"btn-wrapper mb-2",children:[e.jsx(le,{className:"primary-btn ms-0",onClick:C,children:"Save"}),e.jsx(le,{className:"secondary-btn",onClick:s,children:"Cancel"})]})})]})]})},Yt=({isOpen:l,toggle:s,professionalId:t,jobApplicationId:h,row:y,fetchRoster:c,jobAssignmentId:N,reqId:g})=>{var Me,$e,Ge,hs,os,j,G,oe,Re,De,ze,Ye,We,bs,vs,Ss,Cs,Ds,Rs,Es,Ts,Is,ks,ws,Fs,Bs,Ms,Os,Js,te,Ue,Ve,X,Ke,ee;const[i,o]=r.useState(!1),[n,b]=r.useState(null),[S,a]=r.useState(null),[x,d]=r.useState(null),C=Ll(),[f,O]=r.useState(!1),[M,k]=r.useState(null),[w,F]=r.useState(null),[q,H]=r.useState([]),[Q,B]=r.useState(null),[R,$]=r.useState(null),[D,T]=r.useState(null),v=ds(Pl),U=ds(ql),Y=ds($l),[J,V]=r.useState(null),[A,P]=r.useState(null),[se,ve]=r.useState(null),[ye,ce]=r.useState(),[xe,Ne]=r.useState(null),[_,re]=r.useState([]),cs=(K,ie)=>{if(ie.isTyping)H([]);else if(K.length<=10){const ue=K==null?void 0:K.map(Se=>ne(`${Se.year}-${Se.month.number}-${Se.day}`).format("MM-DD-YYYY"));H(ue)}else{const ue=q.slice(0,10);H(ue),E("error","Maximum 10 days can be selected")}},Je=r.useCallback(async()=>{var K,ie,ue,Se,Qe;try{if(o(!0),(x==null?void 0:x.JobProfession.Id)===void 0){o(!1);return}const[js,Sl,ka]=await Promise.all([Yl(),Vs(x.JobProfession.Id),gl()]);C(Ul((K=js.data)==null?void 0:K.data)),C(Qs((ie=Sl.data)==null?void 0:ie.data)),C(Gl((ue=ka.data)==null?void 0:ue.data)),o(!1)}catch(js){console.error(js),o(!1),E("error",((Qe=(Se=js==null?void 0:js.response)==null?void 0:Se.data)==null?void 0:Qe.message)||"Something went wrong")}},[x==null?void 0:x.JobProfession.Id,C]),{register:be,handleSubmit:Ae,setValue:he,formState:{errors:ae}}=ms({resolver:us(zl)}),me=K=>{$(K)},Xe=K=>{T(K)},Pe=K=>{ve(K)},qe=r.useCallback(async()=>{o(!0);const[K,ie,ue]=await Promise.all([Le.fetchProfessionalDetails({facilityId:y.FacilityId,jobId:y.JobId,professionalId:t}),Wl(y.FacilityId,y.JobId),Le.fetchJobAssignment({facilityId:y.FacilityId,jobId:y.JobId,professionalId:t,jobApplicationId:h,jobAssignmentId:N})]);a(K.data.data[0]),b(ie.data.data[0]),d(ue.data.data[0]),o(!1)},[y.FacilityId,y.JobId,t,h,N]);r.useEffect(()=>{qe(),Je()},[qe,Je]),r.useEffect(()=>{g&&he("reqId",g),x&&(V({value:x==null?void 0:x.JobSpeciality.Id,label:x==null?void 0:x.JobSpeciality.Speciality}),P({value:x==null?void 0:x.JobProfession.Id,label:x==null?void 0:x.JobProfession.Profession}),Ne({value:x==null?void 0:x.JobProfession.JobProfessionCategory.Id,label:x==null?void 0:x.JobProfession.JobProfessionCategory.Category}),ve({value:x==null?void 0:x.JobShift.Id,label:x==null?void 0:x.JobShift.Shift}),k(new Date(x==null?void 0:x.StartDate)),F(new Date(x==null?void 0:x.EndDate)),$({value:x==null?void 0:x.ShiftStartTime,label:x==null?void 0:x.ShiftStartTime}),T({value:x==null?void 0:x.ShiftEndTime,label:x==null?void 0:x.ShiftEndTime}),x!=null&&x.JobRequestingTimeOffs&&H(x==null?void 0:x.JobRequestingTimeOffs.map(K=>ne(K.Date).format("MM-DD-YYYY"))),B(new Date(x==null?void 0:x.ComplianceDueDate)),F(new Date(x==null?void 0:x.EndDate)),he("unit",x!=null&&x.Unit?x==null?void 0:x.Unit:""),he("regularHrs",x==null?void 0:x.RegularHrs),he("overtimeHrs",x==null?void 0:x.OverTimeHrs),he("totalHrsWeekly",x==null?void 0:x.TotalHrs),he("totalDaysOnAssignment",x==null?void 0:x.TotalDaysOnAssignment),he("gauranteedHours",x==null?void 0:x.GauranteedHrs),he("notes",x==null?void 0:x.Notes),he("payDetails.regularRate",x==null?void 0:x.RegularRate),he("payDetails.overTimeRate",x==null?void 0:x.OvertimeRate),he("payDetails.doubleTimeRate",x==null?void 0:x.DoubleTimeRate),he("payDetails.holidayRate",x==null?void 0:x.HolidayRate),he("payDetails.chargeRate",x==null?void 0:x.ChargeRate),he("payDetails.onCallRate",x==null?void 0:x.OnCallRate),he("payDetails.callBackRate",x==null?void 0:x.CallbackRate),he("payDetails.travelReimbursement",x==null?void 0:x.TravelReimbursement),he("payDetails.mealsAndIncidentals",x==null?void 0:x.MealsAndIncidentials),he("payDetails.housingStipend",x==null?void 0:x.HousingStipend),he("costCenter",x==null?void 0:x.CostCenter),he("billingDetails.billRate",x==null?void 0:x.BillRate),he("billingDetails.overTimeBillRate",x==null?void 0:x.OvertimeBillRate),he("billingDetails.doubleTimeBillRate",x==null?void 0:x.DoubleTimeBillRate),he("billingDetails.holidayBillRate",x==null?void 0:x.HolidayBillRate),he("billingDetails.chargeBillRate",x==null?void 0:x.ChargeBillRate),he("billingDetails.onCallBillRate",x==null?void 0:x.OnCallBillRate),he("billingDetails.callBackBillRate",x==null?void 0:x.CallbackBillRate))},[x,he,y,g]);const I=async K=>{var ie,ue;if(!M){E("error","Please select start date");return}if(!w){E("error","Please select end date");return}if(!R){E("error","Please select shift start time");return}if(!D){E("error","Please select shift end time");return}if(R&&D&&R.value>D.value){E("error","Shift end time cannot be less than shift start time");return}if(!Q){E("error","Please select compliance due date");return}if(!J){E("error","Please select speciality");return}if(!A){E("error","Please select profession");return}if(!xe){E("error","Please select profession");return}if(!se){E("error","Please select shift");return}if(q&&q.length>0&&q.some(Se=>ne(Se)<ne(M)))return E("error","Time off request dates cannot be before the start date");try{const Se={facilityId:y.FacilityId,jobId:y.JobId,professionalId:t,jobAssignmentId:N,jobApplicationId:h,data:{...K,startDate:Ce(M==null?void 0:M.toDateString()),endDate:Ce(w==null?void 0:w.toDateString()),shiftStartTime:R==null?void 0:R.label,shiftEndTime:D==null?void 0:D.label,shiftId:se==null?void 0:se.value,specialityId:J==null?void 0:J.value,professionId:A==null?void 0:A.value,complianceDueDate:Ce(Q==null?void 0:Q.toDateString()),reqId:K.reqId}};q.length>0?Se.data.approvedTimeOff=q==null?void 0:q.map(js=>ne(js).format("YYYY-MM-DD")):Se.data.approvedTimeOff=[];const Qe=await Le.editAssignment(Se);Qe.status===200&&(E("success",Qe.data.message||"Offer made successfully"),qe(),c(),s())}catch(Se){console.error(Se),E("error",((ue=(ie=Se==null?void 0:Se.response)==null?void 0:ie.data)==null?void 0:ue.message)||"Something went wrong")}},W=K=>{P({value:K.Id,label:K.Profession}),V(null),ce(K.Id)},L=r.useCallback(async()=>{var K;try{const ie=v==null?void 0:v.length;if(ie>0){const ue=[];for(let Se=1;Se<=ie;Se++){const Qe=await Vl(Se);ue.push((K=Qe.data)==null?void 0:K.data)}re(ue)}}catch(ie){console.error(ie)}},[v]),Z=r.useCallback(async()=>{var K;try{if(ye){const ie=await Vs(ye);C(Qs((K=ie.data)==null?void 0:K.data))}}catch(ie){console.error(ie)}},[C,ye]),Ee=K=>{V(K)};return r.useEffect(()=>{L()},[L,v.length]),r.useEffect(()=>{Z()},[Z,ye]),e.jsxs(e.Fragment,{children:[i&&e.jsx(de,{}),e.jsxs(we,{isOpen:l,toggle:s,centered:!0,size:"xl",onClosed:s,children:[e.jsx(Be,{toggle:s,children:"View Offer"}),e.jsxs(Fe,{className:"RosterViewAssignment",style:{height:"800px",overflow:"auto",backgroundColor:"#f7f8f3"},children:[e.jsx("div",{className:"facility-header-wrap p-2 mb-3",children:e.jsx("div",{className:"",children:e.jsx("div",{className:"View-profile-section",children:e.jsxs("div",{className:"d-flex",children:[e.jsx("img",{src:S!=null&&S.ProfileImage?S==null?void 0:S.ProfileImage:$s,style:{borderRadius:"50%",height:"4rem",width:"4rem",backgroundColor:"#f4f4f4"}}),e.jsxs("div",{className:"first-section-content",children:[e.jsxs("h1",{className:"hospital-name text-nowrap",children:[z(S!=null&&S.FirstName?S==null?void 0:S.FirstName:"")," ",z(S!=null&&S.LastName?S==null?void 0:S.LastName:"")]}),e.jsx(p,{placeholder:"",disabled:!0,value:`PID-${t.toString()}`,className:"in-width input",style:{marginRight:"10px"}}),e.jsx(p,{placeholder:"",disabled:!0,value:`Job ID: ${y.JobId}`,className:"in-width input",style:{marginRight:"10px"}}),g&&e.jsx(p,{placeholder:"",disabled:!0,value:`Req ID: ${g.toUpperCase()}`,className:"in-width input",style:{marginRight:"10px"}}),e.jsx(Ns,{onEdit:()=>O(!0),disabled:(x==null?void 0:x.JobApplicationStatus.Status)==="Declined by Professional"||(x==null?void 0:x.JobApplicationStatus.Status)==="Declined by Facility"||(x==null?void 0:x.JobApplicationStatus.Status)==="Declined by Gig"||(x==null?void 0:x.JobApplicationStatus.Status)==="Facility Termination"||(x==null?void 0:x.JobApplicationStatus.Status)==="Professional Termination"||(x==null?void 0:x.JobApplicationStatus.Status)==="Gig Termination"||(x==null?void 0:x.JobApplicationStatus.Status)==="Past Placement"}),f&&e.jsx(Ja,{onEdit:()=>{O(!1)}})]})]})})})}),e.jsx("div",{className:"facility-header-wrap p-3",children:e.jsxs(Gs,{children:[e.jsx("div",{children:e.jsx("h6",{children:"Job Shared Details"})}),e.jsxs(ge,{children:[e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Facility Name"}),e.jsx(p,{disabled:!0,value:z(n!=null&&n.Facility.Name?n.Facility.Name:"Facility Name")})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Facility Location"}),e.jsx(p,{disabled:!0,value:z(n!=null&&n.Facility.State.State?n.Facility.State.State:"Facility Location")})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Facility Address"}),e.jsx(p,{value:z(n!=null&&n.Facility.Address?n.Facility.Address:"Facility Address"),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Program Manager"}),e.jsx(p,{disabled:!0,value:S!=null&&S.ProgramManager?z((S==null?void 0:S.ProgramManager.FirstName)+" "+(S==null?void 0:S.ProgramManager.LastName)):"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Employment Expert"}),e.jsx(p,{value:S!=null&&S.EmploymentExpert?z((S==null?void 0:S.EmploymentExpert.FirstName)+" "+(S==null?void 0:S.EmploymentExpert.LastName)):"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Professional Name"}),e.jsx(p,{value:z(S!=null&&S.FirstName?(S==null?void 0:S.FirstName)+" "+(S==null?void 0:S.LastName):""),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Professional Phone Number"}),e.jsx(p,{value:S!=null&&S.Phone?is(S==null?void 0:S.Phone):"",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Professional Email Address"}),e.jsx(p,{value:S!=null&&S.Email?S==null?void 0:S.Email:"",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Job Title"}),e.jsx(p,{value:z(n!=null&&n.Title?n==null?void 0:n.Title:""),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"col-label",children:["Select Profession"," ",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),f?e.jsxs(e.Fragment,{children:[e.jsx(Ql,{menuButton:e.jsx(p,{style:{cursor:"pointer",caretColor:"transparent"},type:"text",value:A!=null&&A.label?A==null?void 0:A.label:"Select Profession"}),children:v==null?void 0:v.map((K,ie)=>{var ue;return e.jsx(Xl,{label:K.Category,className:"sub-menu",children:_&&((ue=_[ie])==null?void 0:ue.map(Se=>e.jsx(Zl,{dir:"top",onClick:()=>W(Se),children:e.jsx(Kl,{value:Se.Profession,className:"sub-menu-item",children:Se.Profession})},Se.Id)))},K.Id)})}),e.jsx("img",{src:_l,alt:"DropdownImage",className:"submenu-dropdown"})]}):e.jsx(p,{value:A==null?void 0:A.label,disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Speciality",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),f?e.jsx(_e,{id:"specialities",name:"specialities",options:U==null?void 0:U.map(K=>({value:K==null?void 0:K.Id,label:K==null?void 0:K.Speciality})),value:J,placeholder:"Select Speciality",noOptionsMessage:()=>"No Speciality Found",onChange:K=>Ee(K),isClearable:!0,isSearchable:!0,isDisabled:!xe}):e.jsx(p,{value:J==null?void 0:J.label,disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Unit"}),e.jsx(p,{disabled:!f,...be("unit")})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Shift",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(_e,{options:Y.map(K=>({value:K.Id,label:K.Shift})),value:se||null,isClearable:!0,isSearchable:!0,noOptionsMessage:()=>"No Shift Found",placeholder:"Select Shift",id:"shift",name:"shift",onChange:Pe,isDisabled:!f})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Start Date",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),f?e.jsx(Ie,{selected:M,minDate:ne(M).subtract(7,"days").toDate(),maxDate:ne(M).add(7,"days").toDate(),onChange:K=>k(K),timeIntervals:15,dateFormat:"h:mm aa",className:"custom-select-picker-all contract-select",customInput:e.jsxs("div",{className:"custom-calendar-wrapper",children:[e.jsx(p,{value:M?Ce(M.toDateString()):"",placeholder:"Start Date"}),e.jsx("img",{src:ke,className:"calendar-icon"})]})}):e.jsx(ts,{value:x!=null&&x.StartDate?x==null?void 0:x.StartDate:"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["End Date",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),f?e.jsx(Ie,{selected:w,minDate:ne(M).add(1,"days").toDate(),maxDate:ne(M).add(7,"days").toDate(),onChange:K=>F(K),className:"custom-select-picker-all contract-select",customInput:e.jsxs("div",{className:"custom-calendar-wrapper",children:[e.jsx(p,{value:w?Ce(w.toDateString()):"",placeholder:"Select Date"}),e.jsx("img",{src:ke,className:"calendar-icon"})]})}):e.jsx(ts,{value:x!=null&&x.EndDate?x==null?void 0:x.EndDate:"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Start Time",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(Xs,{styles:Zs,className:"custom-select-picker-all contract-select",placeholder:"Shift Start Time",options:Ks,value:R||null,onChange:K=>me(K),isClearable:!0,isSearchable:!0,noOptionsMessage:()=>"No Start Time Found",isDisabled:!f})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["End Time",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(Xs,{styles:Zs,className:"custom-select-picker-all contract-select",placeholder:"Shift End Time",options:Ks,value:D||null,onChange:K=>Xe(K),isClearable:!0,isSearchable:!0,noOptionsMessage:()=>"No Start Time Found",isDisabled:!f})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{children:["Approved Time Off",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),f?e.jsx(pl,{onChangeDate:cs,value:q?q==null?void 0:q.map(K=>K):"-",minDate:M}):e.jsx(ts,{value:x!=null&&x.JobRequestingTimeOffs?(Me=x==null?void 0:x.JobRequestingTimeOffs)==null?void 0:Me.map(K=>ne(K.Date).format("MM-DD-YYYY")):"--",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Regular Hours",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{...be("regularHrs"),placeholder:"Regular Hours",type:"number",step:"0.1",disabled:!f}),ae.regularHrs&&e.jsx("label",{style:{color:"red"},children:ae.regularHrs.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Overtime Hours",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{...be("overtimeHrs"),placeholder:"Overtime Hours",type:"number",step:"0.1",disabled:!f}),ae.overtimeHrs&&e.jsx("label",{style:{color:"red"},children:ae.overtimeHrs.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Total Hours (weekly)",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{...be("totalHrsWeekly"),placeholder:"Total Hours (weekly)",type:"number",disabled:!f}),ae.totalHrsWeekly&&e.jsx("label",{style:{color:"red"},children:ae.totalHrsWeekly.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Total Days on Assignment",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{...be("totalDaysOnAssignment"),placeholder:"Total Days on Assignment",type:"number",disabled:!f}),ae.totalDaysOnAssignment&&e.jsx("label",{style:{color:"red"},children:ae.totalDaysOnAssignment.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Guaranteed Hours",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{...be("gauranteedHours"),placeholder:"Guaranteed Hours",type:"number",disabled:!f}),ae.gauranteedHours&&e.jsx("label",{style:{color:"red"},children:ae.gauranteedHours.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{children:["Compliance Due Date",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),f?e.jsx(Ie,{selected:Q,onChange:K=>B(K),className:"custom-select-picker-all contract-select",customInput:e.jsxs("div",{className:"custom-calendar-wrapper",children:[e.jsx(p,{value:Q?Ce(Q.toDateString()):"",placeholder:"Select Date"}),e.jsx("img",{src:ke,className:"calendar-icon"})]}),disabled:!0}):e.jsx(ts,{value:x!=null&&x.ComplianceDueDate?x==null?void 0:x.ComplianceDueDate:"-",disabled:!0})]}),e.jsxs(m,{className:"col-group",children:[e.jsx(u,{className:"",children:"Notes"}),e.jsx(p,{...be("notes"),placeholder:"Notes",type:"textarea",disabled:!f}),ae.notes&&e.jsx("label",{style:{color:"red"},children:ae.notes.message})]})]}),e.jsx("div",{children:e.jsx("h6",{children:"Pay Details"})}),e.jsxs(ge,{children:[e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Regular Rate",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{...be("payDetails.regularRate"),placeholder:"Regular Rate",type:"number",step:"0.1",disabled:!f}),(($e=ae.payDetails)==null?void 0:$e.regularRate)&&e.jsx("label",{style:{color:"red"},children:(Ge=ae.payDetails)==null?void 0:Ge.regularRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Overtime Rate",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{...be("payDetails.overTimeRate"),placeholder:"Overtime Rate",type:"number",step:"0.1",disabled:!f}),((hs=ae.payDetails)==null?void 0:hs.overTimeRate)&&e.jsx("label",{style:{color:"red"},children:(os=ae.payDetails)==null?void 0:os.overTimeRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Double Time Rate(california only)"}),e.jsx(p,{...be("payDetails.doubleTimeRate"),placeholder:"Double Time Rate",type:"number",step:"0.1",disabled:!f}),((j=ae.payDetails)==null?void 0:j.doubleTimeRate)&&e.jsx("label",{style:{color:"red"},children:(G=ae.payDetails)==null?void 0:G.doubleTimeRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Holiday Rate",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{...be("payDetails.holidayRate"),placeholder:"Holiday Rate",type:"number",step:"0.1",disabled:!f}),((oe=ae.payDetails)==null?void 0:oe.holidayRate)&&e.jsx("label",{style:{color:"red"},children:(Re=ae.payDetails)==null?void 0:Re.holidayRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Charge Rate",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{...be("payDetails.chargeRate"),placeholder:"Charge Rate",type:"number",step:"0.1",disabled:!f}),((De=ae.payDetails)==null?void 0:De.chargeRate)&&e.jsx("label",{style:{color:"red"},children:(ze=ae.payDetails)==null?void 0:ze.chargeRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["On-Call Rate",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{...be("payDetails.onCallRate"),placeholder:"On-Call Rate",type:"number",step:"0.1",disabled:!f}),((Ye=ae.payDetails)==null?void 0:Ye.onCallRate)&&e.jsx("label",{style:{color:"red"},children:(We=ae.payDetails)==null?void 0:We.onCallRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["CallBack Rate",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{...be("payDetails.callBackRate"),placeholder:"CallBack Rate",type:"number",step:"0.1",disabled:!f}),((bs=ae.payDetails)==null?void 0:bs.callBackRate)&&e.jsx("label",{style:{color:"red"},children:(vs=ae.payDetails)==null?void 0:vs.callBackRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Travel Reimbursement",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{...be("payDetails.travelReimbursement"),placeholder:"Travel Reimbursement",type:"number",step:"0.1",disabled:!f}),((Ss=ae.payDetails)==null?void 0:Ss.travelReimbursement)&&e.jsx("label",{style:{color:"red"},children:(Cs=ae.payDetails)==null?void 0:Cs.travelReimbursement.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Meals & Incidentals Stipend(Daily)",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{...be("payDetails.mealsAndIncidentals"),placeholder:"Meals & Incidentals Stipend",type:"number",step:"0.1",disabled:!f}),((Ds=ae.payDetails)==null?void 0:Ds.mealsAndIncidentals)&&e.jsx("label",{style:{color:"red"},children:(Rs=ae.payDetails)==null?void 0:Rs.mealsAndIncidentals.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Housing Stipend(Daily)",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{...be("payDetails.housingStipend"),placeholder:"Housing Stipend",type:"number",step:"0.1",disabled:!f}),((Es=ae.payDetails)==null?void 0:Es.housingStipend)&&e.jsx("label",{style:{color:"red"},children:(Ts=ae.payDetails)==null?void 0:Ts.housingStipend.message})]})]}),e.jsx("div",{children:e.jsx("h6",{children:"Billing Details"})}),e.jsxs(ge,{children:[e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Bill Rate",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{...be("billingDetails.billRate"),placeholder:"Bill Rate",type:"number",step:"0.1",disabled:!f}),((Is=ae.billingDetails)==null?void 0:Is.billRate)&&e.jsx("label",{style:{color:"red"},children:(ks=ae.billingDetails)==null?void 0:ks.billRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Overtime Bill Rate",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{...be("billingDetails.overTimeBillRate"),placeholder:"Overtime Bill Rate",type:"number",step:"0.1",disabled:!f}),((ws=ae.billingDetails)==null?void 0:ws.overTimeBillRate)&&e.jsx("label",{style:{color:"red"},children:(Fs=ae.billingDetails)==null?void 0:Fs.overTimeBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Double Time Bill Rate(California only)"}),e.jsx(p,{...be("billingDetails.doubleTimeBillRate"),placeholder:"Double Time Rate",type:"number",step:"0.1",disabled:!f}),((Bs=ae.billingDetails)==null?void 0:Bs.doubleTimeBillRate)&&e.jsx("label",{style:{color:"red"},children:(Ms=ae.billingDetails)==null?void 0:Ms.doubleTimeBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Holiday Bill Rate",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{...be("billingDetails.holidayBillRate"),placeholder:"Holiday Bill Rate",type:"number",step:"0.1",disabled:!f}),((Os=ae.billingDetails)==null?void 0:Os.holidayBillRate)&&e.jsx("label",{style:{color:"red"},children:(Js=ae.billingDetails)==null?void 0:Js.holidayBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Charge Bill Rate",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{...be("billingDetails.chargeBillRate"),placeholder:"Charge Bill Rate",type:"number",step:"0.1",disabled:!f}),((te=ae.billingDetails)==null?void 0:te.chargeBillRate)&&e.jsx("label",{style:{color:"red"},children:(Ue=ae.billingDetails)==null?void 0:Ue.chargeBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["On-Call Bill Rate",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{...be("billingDetails.onCallBillRate"),placeholder:"On-Call Bill Rate",type:"number",step:"0.1",disabled:!f}),((Ve=ae.billingDetails)==null?void 0:Ve.onCallBillRate)&&e.jsx("label",{style:{color:"red"},children:(X=ae.billingDetails)==null?void 0:X.onCallBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["CallBack Rate",f&&e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{...be("billingDetails.callBackBillRate"),placeholder:"CallBack Bill Rate",type:"number",step:"0.1",disabled:!f}),((Ke=ae.billingDetails)==null?void 0:Ke.callBackBillRate)&&e.jsx("label",{style:{color:"red"},children:(ee=ae.billingDetails)==null?void 0:ee.callBackBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Cost Center(If applicable)"}),e.jsx(p,{...be("costCenter"),placeholder:"Cost Center",type:"text",disabled:!f}),ae.costCenter&&e.jsx("label",{style:{color:"red"},children:ae.costCenter.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Client Req ID #(If applicable)"}),e.jsx(p,{placeholder:"Client Req ID",type:"text",disabled:!f,...be("reqId")})]})]}),f&&e.jsxs("div",{style:{marginLeft:"0px"},children:[e.jsx(le,{className:"primary-btn ms-0",type:"submit",onClick:Ae(I),disabled:i===!0,children:"Update"}),e.jsx(le,{className:"secondary-btn",onClick:s,children:"Cancel"})]})]})})]})]})]})},Ut=({isExapndedData:l,toggle:s,facilityId:t,professionalId:h,jobApplicationId:y,jobAssignmentId:c,jobId:N,fetchRosterData:g,professional:i,jobDetails:o,jobAssignment:n,row:b,isReadOnly:S})=>{var C,f,O,M,k;const[a,x]=r.useState("idle"),d=async()=>{x("loading");try{const w=await Le.approveExtension({facilityId:t,jobId:N,professionalId:h,jobApplicationId:y,jobAssignmentId:c});w.status===200&&(E(w.data.message||"Extension Approved Successfully","success"),x("idle"),g(),s())}catch(w){console.error(w),x("error"),E("error",w.response.data.message||"Something went wrong")}};return e.jsxs(e.Fragment,{children:[a==="loading"&&e.jsx(de,{}),e.jsx("div",{className:"offer-wrapper",children:e.jsxs(Ze,{children:[e.jsxs(ge,{children:[e.jsx("h5",{children:"Candidate Information"}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Professional Name"}),e.jsx(p,{value:`${z(i!=null&&i.FirstName?i==null?void 0:i.FirstName:"")} ${z(i!=null&&i.LastName?i==null?void 0:i.LastName:"")}`,disabled:!0})]}),e.jsxs(m,{xxl:"8",xl:"8",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Job Title"}),e.jsx(p,{value:o!=null&&o.Title?z(o==null?void 0:o.Title):"",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Specialty"}),e.jsx(p,{disabled:!0,value:i!=null&&i.JobSpeciality?i==null?void 0:i.JobSpeciality.Speciality:""})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Profession"}),e.jsx(p,{disabled:!0,value:i!=null&&i.JobProfession?i==null?void 0:i.JobProfession.Profession:""})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Unit"}),e.jsx(p,{className:"text-capitalize",value:z(n!=null&&n.Unit?n==null?void 0:n.Unit:"-"),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Shift"}),e.jsx(p,{value:z(n.JobShift.Shift?n.JobShift.Shift:"-"),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Service Start Date"}),e.jsx("div",{className:"date-range",style:{backgroundColor:"#F7F8F3"},children:e.jsx(Ie,{dateFormat:"MM/dd/yyyy",isClearable:!0,disabled:!0,onChange:()=>{},placeholderText:"----",customInput:e.jsxs("div",{className:"calendar-wrapper",children:[e.jsx(p,{value:(C=b.JobApplication.JobAssignments[0])!=null&&C.StartDate?Te((f=b.JobApplication.JobAssignments[0])==null?void 0:f.StartDate).replace(/-/g,"/"):"-",disabled:!0}),e.jsx("img",{src:ke,className:"calendar-icon"})]})})})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Service End Date"}),e.jsx("div",{className:"date-range",style:{backgroundColor:"#F7F8F3"},children:e.jsx(Ie,{dateFormat:"MM/dd/yyyy",isClearable:!0,disabled:!0,onChange:()=>{},placeholderText:"----",customInput:e.jsxs("div",{className:"calendar-wrapper",children:[e.jsx(p,{value:(O=b.JobApplication.JobAssignments[0])!=null&&O.EndDate?Te((M=b.JobApplication.JobAssignments[0])==null?void 0:M.EndDate).replace(/-/g,"/"):"-",disabled:!0}),e.jsx("img",{src:ke,className:"calendar-icon"})]})})})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Extension Start Date",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx("div",{className:"date-range",style:{backgroundColor:"#F7F8F3"},children:e.jsx(Ie,{dateFormat:"MM/dd/yyyy",isClearable:!0,disabled:!0,onChange:()=>{},placeholderText:"----",customInput:e.jsxs("div",{className:"calendar-wrapper",children:[e.jsx(p,{value:n!=null&&n.StartDate?Te(n==null?void 0:n.StartDate).replace(/-/g,"/"):"-",disabled:!0}),e.jsx("img",{src:ke,className:"calendar-icon"})]})})})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Extension End Date",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx("div",{className:"date-range",style:{backgroundColor:"#F7F8F3"},children:e.jsx(Ie,{dateFormat:"MM/dd/yyyy",isClearable:!0,disabled:!0,onChange:()=>{},placeholderText:"----",customInput:e.jsxs("div",{className:"calendar-wrapper",children:[e.jsx(p,{value:n!=null&&n.EndDate?Te(n==null?void 0:n.EndDate).replace(/-/g,"/"):"-",disabled:!0}),e.jsx("img",{src:ke,className:"calendar-icon"})]})})})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Approved Time Off"}),e.jsx("div",{className:"date-range",style:{backgroundColor:"#F7F8F3"},children:e.jsx(Ie,{dateFormat:"MM/dd/yyyy",isClearable:!0,disabled:!0,onChange:()=>{},placeholderText:"----",customInput:e.jsxs("div",{className:"calendar-wrapper",children:[e.jsx(p,{value:n!=null&&n.JobRequestingTimeOffs?(k=n==null?void 0:n.JobRequestingTimeOffs)==null?void 0:k.map(w=>w.Date):"-",disabled:!0}),e.jsx("img",{src:ke,className:"calendar-icon"})]})})})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Total Hours (weekly)"}),e.jsx(p,{placeholder:"",disabled:!0,value:n!=null&&n.TotalHrs?n==null?void 0:n.TotalHrs:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Guaranteed Hours"}),e.jsx(p,{value:n!=null&&n.GauranteedHrs?n==null?void 0:n.GauranteedHrs:"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Compliance Due Date"}),e.jsx("div",{className:"date-range",style:{backgroundColor:"#F7F8F3"},children:e.jsx(Ie,{dateFormat:"MM/dd/yyyy",isClearable:!0,disabled:!0,onChange:()=>{},placeholderText:"----",customInput:e.jsxs("div",{className:"calendar-wrapper",children:[e.jsx(p,{value:n!=null&&n.ComplianceDueDate?Te(n==null?void 0:n.ComplianceDueDate).replace(/-/g,"/"):"-",disabled:!0}),e.jsx("img",{src:ke,className:"calendar-icon"})]})})})]}),e.jsxs(m,{xxl:"12",xl:"12",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Additional Notes"}),e.jsx(p,{disabled:!0,className:"text-capitalize",value:n!=null&&n.Notes?n==null?void 0:n.Notes:"-"})]}),e.jsx("h6",{children:"Pay Details"}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Regular Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:n!=null&&n.RegularRate?`${n==null?void 0:n.RegularRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Overtime Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:n.OvertimeRate?`${n==null?void 0:n.OvertimeRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Double Time Rate"," ",e.jsx("span",{className:"california-text",children:"(California Only)"})]}),e.jsx(p,{placeholder:"",disabled:!0,value:n!=null&&n.DoubleTimeRate?`${n==null?void 0:n.DoubleTimeRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Holiday Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:n!=null&&n.HolidayRate?`${n==null?void 0:n.HolidayRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Charge Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:n!=null&&n.ChargeRate?`${n==null?void 0:n.ChargeRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"On-Call Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:n!=null&&n.OnCallRate?`${n==null?void 0:n.OnCallRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Callback Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:n!=null&&n.CallbackRate?`${n==null?void 0:n.CallbackRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Meals & Incidentals Stipend (weekly)"}),e.jsx(p,{placeholder:"",disabled:!0,value:n!=null&&n.MealsAndIncidentials?`${n==null?void 0:n.MealsAndIncidentials}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Housing Stipend (weekly)"}),e.jsx(p,{placeholder:"",disabled:!0,value:n!=null&&n.HousingStipend?`${n==null?void 0:n.HousingStipend}`:"-"})]}),e.jsx("h6",{children:"Billing Details"}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Bill Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:n!=null&&n.BillRate?`${n==null?void 0:n.BillRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Overtime Bill Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:n!=null&&n.OvertimeBillRate?`${n==null?void 0:n.OvertimeBillRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Double Time Bill Rate"," ",e.jsx("span",{className:"california-text",children:"(California Only)"})]}),e.jsx(p,{placeholder:"",disabled:!0,value:n!=null&&n.DoubleTimeBillRate?`${n==null?void 0:n.DoubleTimeBillRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Holiday Bill Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:n!=null&&n.HolidayBillRate?`${n==null?void 0:n.HolidayBillRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Charge Bill Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:n!=null&&n.ChargeBillRate?`${n==null?void 0:n.ChargeBillRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"On-Call Bill Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:n!=null&&n.OnCallBillRate?`${n==null?void 0:n.OnCallBillRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Callback Bill Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:n!=null&&n.CallbackBillRate?`${n==null?void 0:n.CallbackBillRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Cost Center"," ",e.jsx("span",{className:"california-text",children:"(If applicable)"})]}),e.jsx(p,{placeholder:"",disabled:!0,className:"text-capitalize",value:n!=null&&n.CostCenter?`${n==null?void 0:n.CostCenter}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Client Req ID #"," ",e.jsx("span",{className:"california-text",children:"(If applicable)"})]}),e.jsx(p,{placeholder:"",disabled:!0,value:l?b.ReqId?b.ReqId.toUpperCase():"-":b.JobApplication.JobAssignments[0].ReqId?b.JobApplication.JobAssignments[0].ReqId.toUpperCase():"-"})]})]}),S===!1&&e.jsxs("div",{className:"btn-wrapper",children:[e.jsx(le,{className:"primary-btn",onClick:d,children:"Approve Extension"}),e.jsx(le,{className:"secondary-btn",children:"Cancel"})]})]})})]})},Gt=({isExapndedData:l,row:s,isOpen:t,toggle:h,jobApplicationId:y,jobAssignmentId:c,jobId:N,professionalId:g,facilityId:i,fetchRosterData:o,currentStatus:n,isReadOnly:b})=>{const[S,a]=r.useState("idle"),[x,d]=r.useState(!1),[C,f]=r.useState(null),[O,M]=r.useState(null),[k,w]=r.useState(null),F=r.useCallback(async()=>{a("loading");const q=async(R,$,D=!1)=>{try{const T=await R();$(D?T.data.data[0]:T.data.data)}catch(T){const v=T.response?T.response.data.message:T.message;E("Error fetching data",v),console.error("Error fetching data:",T)}},H=[()=>Le.getJobDetails({facilityId:i,jobId:N}),()=>Le.fetchProfessionalDetails({facilityId:i,professionalId:g,jobId:N}),()=>Le.fetchJobAssignment({facilityId:i,jobId:N,professionalId:g,jobApplicationId:y,jobAssignmentId:c})],Q=[w,M,f],B=[!0,!0,!0];(async()=>{await Promise.allSettled(H.map((R,$)=>q(R,Q[$],B[$]))),a("idle")})().catch(R=>{E("error","Error fetching data"),console.error("Error fetching data:",R),a("error")})},[i,N,y,c,g]);return r.useEffect(()=>{F()},[F]),e.jsxs(e.Fragment,{children:[S==="loading"&&e.jsx(de,{}),e.jsxs(we,{isOpen:t,toggle:h,centered:!0,size:"xl",children:[e.jsx(Be,{toggle:h,style:{position:"sticky",top:"0px",zIndex:"9999",background:"#FFF"},children:"Service Extension Details"}),e.jsx(Fe,{style:{height:"780px",overflow:"auto",pointerEvents:b?"none":"auto"},children:e.jsxs("div",{className:"view-file-wrapper",children:[O&&C&&k&&e.jsx(Al,{professional:O,professionalId:g,jobDetails:k,currentStatus:n,edit:x,setEdit:d}),O&&k&&C&&e.jsx(Ut,{isExapndedData:l,row:s,toggle:h,professional:O,professionalId:g,jobDetails:k,jobAssignment:C,jobApplicationId:y,jobAssignmentId:c,jobId:N,facilityId:i,fetchRosterData:o,isReadOnly:b})]})})]})]})},zt=()=>{const l=gs(),s=({facilityId:I,jobId:W})=>{l(`/view/facility/${I}/job/${W}`)},[t,h]=r.useState(null),[y,c]=r.useState(!1),[N,g]=r.useState(!1),[i,o]=r.useState(!1),[n,b]=r.useState(!1),[S,a]=r.useState(!1),x=He(),[d,C]=r.useState([]),[f,O]=r.useState(null),[M,k]=r.useState(null),[w,F]=r.useState(null),[q,H]=r.useState(null),[Q,B]=r.useState(null),[R,$]=r.useState("idle"),[D,T]=r.useState(""),[v,U]=r.useState(null),[Y,J]=r.useState(null),[V,A]=r.useState(!1),[P,se]=r.useState(null),[ve,ye]=r.useState(!1),[ce,xe]=r.useState(null),Ne=()=>ye(!0),_=()=>ye(!1),re=[{label:"Terminate",style:{color:"red"},onClick:({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})=>{W&&I&&L&&Z&&(k(I),B(W),O(L),H(Z),g(!0))}}],cs=()=>{c(!y)},Je=async({value:I,professionalId:W,jobApplicationId:L,jobId:Z,jobAssignmentId:Ee})=>{var Me,$e;$("loading");try{(await Le.declineApplication({facilityId:Number(x.Id),jobId:Z,professionalId:W,currentApplicationId:L,jobAssignmentId:Ee,value:I})).status===200&&(ae(),$("idle"))}catch(Ge){console.error("error",Ge),$("error"),E("error",(($e=(Me=Ge==null?void 0:Ge.response)==null?void 0:Me.data)==null?void 0:$e.message)||"Something went wrong")}},be=async({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})=>{var Ee,Me;$("loading");try{(await Le.placement({facilityId:Number(x.Id),professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})).status===200&&(ae(),$("idle"))}catch($e){console.error("error",$e),$("error"),E("error",((Me=(Ee=$e==null?void 0:$e.response)==null?void 0:Ee.data)==null?void 0:Me.message)||"Something went wrong")}},Ae=async({facilityId:I,professionalId:W,jobApplicationId:L,jobId:Z,jobAssignmentId:Ee})=>{var Me,$e;$("loading");try{(await Le.extensionPlacement({facilityId:I,professionalId:W,jobApplicationId:L,jobId:Z,jobAssignmentId:Ee})).status===200&&(ae(),$("idle"))}catch(Ge){console.error("error",Ge),$("error"),E("error",(($e=(Me=Ge==null?void 0:Ge.response)==null?void 0:Me.data)==null?void 0:$e.message)||"Something went wrong")}},he=[{"Extension Placement":[{label:"Terminate",style:{color:"red"},onClick:({jobAssignmentId:I,professionalId:W,jobApplicationId:L,jobId:Z})=>{I&&W&&L&&Z&&(O(Z),k(W),B(L),H(I),g(!0))}}]},{"Pending Extension Placement":[{label:"Extension Placement",style:{color:"#5E9B2D"},onClick:({facilityId:I,professionalId:W,jobApplicationId:L,jobId:Z,jobAssignmentId:Ee})=>{I&&W&&L&&Z&&Ee&&Ae({facilityId:I,professionalId:W,jobApplicationId:L,jobId:Z,jobAssignmentId:Ee})}},{label:"Decline By Gig",style:{color:"#717B9E"},onClick:({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})=>{I&&W&&L&&Z&&Je({value:"Declined by Gig",professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})}},{label:"Decline By Client",style:{color:"#717B9E"},onClick:({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})=>{I&&W&&L&&Z&&Je({value:"Declined by Facility",professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})}},{label:"Decline By Professional",style:{color:"#717B9E"},onClick:({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})=>{I&&W&&L&&Z&&Je({value:"Declined by Professional",professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})}}]},{"Extension Requested":[{label:"Approve",style:{color:"#5E9B2D"},onClick:({jobAssignmentId:I,currentStatus:W,currentRow:L})=>{I&&W&&L&&(H(I),F(W),se(L),o(!0))}},{label:"Decline By Gig",onClick:({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})=>{I&&W&&L&&Z&&Je({value:"Declined by Gig",professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})}},{label:"Decline By Client",onClick:({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})=>{I&&W&&L&&Z&&Je({value:"Declined by Facility",professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})}},{label:"Decline By Professional",onClick:({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})=>{I&&W&&L&&Z&&Je({value:"Declined by Professional",professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})}}]},{"Extension Offered":[{label:"Extension Placement",style:{color:"#5E9B2D"},onClick:({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})=>{I&&W&&L&&Z&&Ae({facilityId:Number(x.Id),professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})}},{label:"Decline By Gig",onClick:({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})=>{I&&W&&L&&Z&&Je({value:"Declined by Gig",professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})}},{label:"Decline By Client",onClick:({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})=>{I&&W&&L&&Z&&Je({value:"Declined by Facility",professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})}},{label:"Decline By Professional",onClick:({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})=>{I&&W&&L&&Z&&Je({value:"Declined by Professional",professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})}}]},{"Pending Updated Extension Placement":[{label:"Extension Placement",style:{color:"#5E9B2D"},onClick:({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})=>{I&&W&&L&&Z&&Ae({facilityId:Number(x.Id),professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})}},{label:"Terminate",style:{color:"red"},onClick:({jobAssignmentId:I,professionalId:W,jobApplicationId:L,jobId:Z})=>{I&&W&&L&&Z&&(O(Z),k(W),B(L),H(I),g(!0))}}]},{"Pending Declination":[{label:"Placement",style:{color:"#5E9B2D"},onClick:({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})=>{I&&W&&L&&Z&&be({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})}},{label:"Decline By Gig",style:{color:"#717B9E"},onClick:({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})=>{I&&W&&L&&Z&&Je({value:"Declined by Gig",professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})}},{label:"Decline By Client",style:{color:"#717B9E"},onClick:({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})=>{I&&W&&L&&Z&&Je({value:"Declined by Facility",professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})}},{label:"Decline By Professional",style:{color:"#717B9E"},onClick:({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})=>{I&&W&&L&&Z&&Je({value:"Declined by Professional",professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})}}]},{"Pending Extension Declination":[{label:"Extension Placement",style:{color:"#5E9B2D"},onClick:({facilityId:I,professionalId:W,jobApplicationId:L,jobId:Z,jobAssignmentId:Ee})=>{I&&W&&L&&Z&&Ee&&Ae({facilityId:I,professionalId:W,jobApplicationId:L,jobId:Z,jobAssignmentId:Ee})}},{label:"Decline By Gig",style:{color:"#717B9E"},onClick:({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})=>{I&&W&&L&&Z&&Je({value:"Declined by Gig",professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})}},{label:"Decline By Client",style:{color:"#717B9E"},onClick:({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})=>{I&&W&&L&&Z&&Je({value:"Declined by Facility",professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})}},{label:"Decline By Professional",style:{color:"#717B9E"},onClick:({professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})=>{I&&W&&L&&Z&&Je({value:"Declined by Professional",professionalId:I,jobApplicationId:W,jobId:L,jobAssignmentId:Z})}}]}],ae=r.useCallback(async()=>{var I,W;$("loading");try{const L=await Le.getRoster({facilityId:Number(x.Id),search:D.length>0?D:void 0,startDate:v?Ce(v.toString()):void 0,endDate:Y?Ce(Y.toString()):void 0});L.status===200&&(C(L==null?void 0:L.data.data),$("idle"),xe(null))}catch(L){console.error(L),$("error"),E("error",((W=(I=L==null?void 0:L.response)==null?void 0:I.data)==null?void 0:W.message)||"Something went wrong")}},[Y,x.Id,D,v]);r.useEffect(()=>{ae()},[ae]);const me=()=>{a(!0)},Xe=()=>{a(!1)},Pe=I=>{xe(W=>W===I.Id?null:I.Id)},qe=[{name:"",cell:I=>e.jsx("div",{className:"d-flex",children:I.UpcomingAssignments.length>0&&e.jsx("div",{className:"d-flex align-items-center",onClick:()=>Pe(I),children:ce===I.Id?e.jsx(ua,{}):e.jsx(ha,{})})})},{name:"Job ID",cell:I=>e.jsxs("div",{className:"center-align roster-jobid",onClick:()=>{s({facilityId:Number(x.Id),jobId:I.JobId})},children:["JID-",I.JobId]})},{name:"Client Req ID",cell:I=>{var W;return e.jsx("span",{children:I.JobApplication.JobAssignments[0].ReqId?(W=I.JobApplication.JobAssignments[0].ReqId)==null?void 0:W.toUpperCase():"-"})}},{name:"Professional Name",cell:I=>e.jsxs("div",{className:"table-username justify-content-start",onClick:()=>{k(I==null?void 0:I.JobApplication.Professional.Id),O(I.JobId),F(I==null?void 0:I.JobApplication.JobAssignments[0].JobApplicationStatus.Status),c(!0)},children:[e.jsxs("p",{style:{marginRight:"5px"},className:"name-logo",children:[z(I==null?void 0:I.JobApplication.Professional.FirstName[0]),z(I==null?void 0:I.JobApplication.Professional.LastName[0])]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsxs("span",{className:"center-align text-align",children:[z(I==null?void 0:I.JobApplication.Professional.FirstName)," ",z(I==null?void 0:I.JobApplication.Professional.LastName)]}),e.jsx("span",{className:"text-color",children:I==null?void 0:I.JobApplication.Professional.Email})]})]})},{name:"Start Date & End Date",cell:I=>{var W,L;return e.jsxs("div",{className:"center-align",children:[(W=I==null?void 0:I.JobApplication)!=null&&W.JobAssignments?Te(I==null?void 0:I.JobApplication.JobAssignments[0].StartDate).replace(/-/g,"/"):"-","-",(L=I==null?void 0:I.JobApplication)!=null&&L.JobAssignments?Te(I==null?void 0:I.JobApplication.JobAssignments[0].EndDate).replace(/-/g,"/"):"-"]})}},{name:"Profession",cell:I=>e.jsx("div",{className:"center-align align-self-center",children:I==null?void 0:I.JobApplication.JobAssignments[0].JobProfession.Profession})},{name:"Unit",cell:I=>e.jsx("div",{className:"center-align text-capitalize",children:I==null?void 0:I.JobApplication.JobAssignments[0].Unit})},{name:"Application Status",cell:I=>{var W,L;return e.jsx("div",{className:"opening-assignment-select ms-2",children:e.jsxs(dl,{children:[e.jsx(el,{caret:!0,style:{color:ls(I.JobApplication.JobAssignments[0].JobApplicationStatus.Status)},children:I.JobApplication.JobAssignments[0].JobApplicationStatus.Status?I.JobApplication.JobAssignments[0].JobApplicationStatus.Status:((L=(W=I.UpcomingAssignments[0])==null?void 0:W.JobApplicationStatus)==null?void 0:L.Status)==="Placement"?"Placement":"Submitted"}),e.jsx(sl,{children:re.map((Z,Ee)=>e.jsx(ol,{style:Z.style,onClick:()=>{Z.onClick({professionalId:I.JobApplication.Professional.Id,jobApplicationId:I.JobApplicationId,jobId:I.JobId,jobAssignmentId:I.JobApplication.JobAssignments[0].Id})},children:Z.label},Ee))})]})})}},{name:"",cell:I=>e.jsxs("div",{className:"d-flex center-align custom-article-btn justify-content-center",children:[e.jsx("div",{children:e.jsx(kl,{onEye:()=>{H(I.JobApplication.JobAssignments[0].Id),B(I.JobApplication.Id),O(I.JobId),k(I.JobApplication.Professional.Id),se(I),h(I.ReqId?I.ReqId:null),A(!0)}})}),e.jsx("div",{className:" note-wrapper ms-1",children:e.jsx("button",{className:"note-right-button  document-btn roster-btn",onMouseEnter:me,onMouseLeave:Xe,color:S?"#FFF":"",onClick:()=>{b(!0),O(I.JobId),k(I.JobApplication.Professional.Id),B(I.JobApplicationId),H(I.JobApplication.JobAssignments[0].Id),F(I.JobApplication.JobAssignments[0].JobApplicationStatus.Status)},children:"Extension Request"})})]})}];return e.jsxs(e.Fragment,{children:[R==="loading"&&e.jsx(de,{}),e.jsx("div",{className:"facility-main-card-section",children:e.jsxs(ys,{children:[e.jsx("h2",{className:"page-content-header",children:"Roster"}),e.jsxs("div",{className:"d-flex",children:[e.jsxs("div",{className:"search-bar-wrapper w-100 mb-3",children:[e.jsx(p,{placeholder:"Search Here",value:D,onChange:I=>T(I.target.value)}),e.jsx("img",{src:Hs,alt:"search"})]}),e.jsxs("div",{className:"date-range-input search-date-margin roaster-datepicker",children:[e.jsx(Ie,{dateFormat:"dd-MM-yyyy",isClearable:!0,placeholderText:"--",onChange:I=>{U(I)},selected:v,customInput:e.jsxs("div",{className:"custom-calendar-wrapper",children:[e.jsx(p,{placeholder:v?Te(v.toDateString()):"Start Date",value:null}),!v&&e.jsx("img",{src:ke,className:"calendar-icon"})]})}),e.jsx(Ie,{dateFormat:"dd-MM-yyyy",isClearable:!0,onChange:I=>{J(I)},placeholderText:"----",minDate:v?new Date(v.getTime()+24*60*60*1e3):new Date,selected:Y,customInput:e.jsxs("div",{className:"custom-calendar-wrapper",children:[e.jsx(p,{placeholder:Y?Te(Y.toDateString()):"End Date",value:null}),!Y&&e.jsx("img",{src:ke,className:"calendar-icon"})]})}),e.jsx("div",{onMouseEnter:Ne,onMouseLeave:_,className:"header-search-icon",children:e.jsx(ea,{color:ve?"#FFF":"#717B9E"})})]})]}),e.jsx("div",{className:"roaster-main-table w-100",children:d.length===0?e.jsx("div",{className:"no-data-found text-center",children:"There are no records to display."}):e.jsxs(ma,{children:[e.jsx("thead",{children:e.jsx("tr",{children:qe.map((I,W)=>e.jsx("th",{style:{fontWeight:"600",fontSize:"14px"},children:I.name},W))})}),e.jsx("tbody",{children:d.map((I,W)=>e.jsxs(e.Fragment,{children:[e.jsx("tr",{children:qe.map((L,Z)=>e.jsx(e.Fragment,{children:e.jsx("td",{style:{fontSize:"14px"},children:L.cell&&L.cell(I,W,L,Z)},Z)}))},W),ce===I.Id&&e.jsx(e.Fragment,{children:I.UpcomingAssignments.map(L=>{var Z,Ee;return e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{children:L.ReqId?z(L.ReqId):"-"}),e.jsx("td",{}),e.jsx("td",{children:e.jsxs("div",{className:"center-align",children:[L.StartDate?Te(L.StartDate).replace(/-/g,"/"):"-","-",L.EndDate?Te(L.EndDate).replace(/-/g,"/"):"-"]})}),e.jsx("td",{children:e.jsx("div",{className:"center-align align-self-center",children:I!=null&&I.JobApplication.JobAssignments[0].JobProfession.Profession?I==null?void 0:I.JobApplication.JobAssignments[0].JobProfession.Profession:"-"})}),e.jsx("td",{children:e.jsx("div",{className:"center-align align-self-center",children:L.Unit?L.Unit.toUpperCase():"-"})}),e.jsx("td",{children:e.jsx("div",{className:"opening-assignment-select",children:e.jsxs(dl,{children:[e.jsx(el,{caret:!0,style:{color:ls(L.JobApplicationStatus.Status)},children:L.JobApplicationStatus.Status?L.JobApplicationStatus.Status:"Submitted"}),e.jsx(sl,{children:(Ee=(Z=he.find(Me=>Me[L.JobApplicationStatus.Status]))==null?void 0:Z[L.JobApplicationStatus.Status])==null?void 0:Ee.map((Me,$e)=>e.jsx(ol,{style:Me.style,onClick:()=>{Me.onClick({facilityId:I.FacilityId,professionalId:I.JobApplication.Professional.Id,jobApplicationId:I.JobApplicationId,jobId:I.JobId,jobAssignmentId:L.Id,currentStatus:L.JobApplicationStatus.Status})},children:Me.label},$e))})]})})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex center-align custom-article-btn justify-content-center py-3",style:{gap:"3px"},children:[e.jsx(kl,{onEye:()=>{H(L.Id),B(I.JobApplicationId),O(I.JobId),k(I.JobApplication.Professional.Id),se(I),F(L.JobApplicationStatus.Status),h(L.ReqId?L.ReqId:null),A(!0)}}),e.jsx("div",{className:" note-wrapper",children:e.jsx("button",{className:"note-right-button  document-btn roster-btn",onMouseEnter:me,onMouseLeave:Xe,color:S?"#FFF":"",onClick:()=>{H(L.Id),F(L.JobApplicationStatus.Status),o(!0)},style:{pointerEvents:L.JobApplicationStatus.Status==="Extension Requested"||L.JobApplicationStatus.Status==="Extension Offered"||L.JobApplicationStatus.Status==="Extension Placement"||new Date(L.StartDate)<=new Date&&new Date(L.EndDate)>=new Date?"none":"auto",opacity:L.JobApplicationStatus.Status==="Extension Requested"||L.JobApplicationStatus.Status==="Extension Offered"||L.JobApplicationStatus.Status==="Extension Placement"||new Date(L.StartDate)<=new Date&&new Date(L.EndDate)>=new Date?.5:1},disabled:!(L.JobApplicationStatus.Status==="Extension Requested"||L.JobApplicationStatus.Status==="Extension Offered"||L.JobApplicationStatus.Status==="Extension Placement"||new Date(L.StartDate)<=new Date&&new Date(L.EndDate)>=new Date),children:"Extension Request"})})]})})]})})})]}))})]})})]})}),N&&M&&f&&Q&&q&&e.jsx($t,{jobId:f,professionalId:M,facilityId:Number(x.Id),jobApplicationId:Q,jobAssignmentId:q,isOpen:N,toggle:()=>g(!1),fetchRoster:ae}),V&&P&&Q&&q&&M&&e.jsx(Yt,{fetchRoster:ae,isOpen:V,toggle:()=>{A(!1),B(null),H(null),k(null),h(null),se(null),F(null)},row:P,jobApplicationId:Q,professionalId:M,jobAssignmentId:q,reqId:t}),n&&M&&f&&Q&&q&&w&&e.jsx(Ht,{isOpen:n,facilityId:Number(x.Id),professionalId:M,jobId:f,jobApplicationId:Q,jobAssignmentId:q,currentStatus:w,toggle:()=>b(!1),fetchRosterData:ae}),y&&M&&f&&w&&e.jsx(qt,{isOpen:y,toggle:cs,currentJobId:f,currentProfessionalId:M,currentStatus:w}),i&&q&&w&&P&&e.jsx(Gt,{row:P,fetchRosterData:ae,isOpen:i,toggle:()=>{o(!1)},facilityId:Number(x.Id),professionalId:P.JobApplication.Professional.Id,jobId:P.JobId,jobApplicationId:P.JobApplicationId,jobAssignmentId:q,currentStatus:w,isReadOnly:!1})]})},ra=async l=>(await pe.get(`/api/v1/protected/submodules/facilities/${l}/location/facilities`)).data.data,Wt=async l=>{await pe.delete(`/api/v1/protected/modules/facilities/delete/${l}`)},Vt=()=>{const[l,s]=r.useState([]),[t,h]=r.useState(!1),[y,c]=r.useState(!1),N=gs(),g=He(),i=async()=>{try{c(!0);const a=await ra(Number(g==null?void 0:g.Id));if(a&&a.length>0){const x=a[0];x.parent?(h(!0),s(a)):x.children&&x.children.length>0&&(h(!1),s(a))}c(!1)}catch(a){console.error("Error fetching data:",a),c(!1)}};r.useEffect(()=>{i()},[t]);const o=async a=>{var x,d;try{c(!0),await Wt(a);const C=await ra(Number(g==null?void 0:g.Id));c(!1),s(C),E("success","Facility deleted successfully")}catch(C){console.error("Error",C),c(!1),E("error",((d=(x=C==null?void 0:C.response)==null?void 0:x.data)==null?void 0:d.message)||"Something went wrong")}},n=()=>{let a=[];if(t){const x=l;if(x.length>0)return y?e.jsx(de,{}):e.jsx(Ps,{columns:S,data:[x[0].parent]})}else{const x=l;if(x.length>0)return a=x[0].children.map(d=>({Id:d.Id,Name:d.Name,ParentHealthSystem:d.ParentHealthSystem||{Name:""},PrimaryContact:d.PrimaryContact??null,SecondaryContact:d.SecondaryContact})),y?e.jsx(de,{}):e.jsx(Ps,{columns:S,data:a})}},b=a=>{N(`/facility/${a}`),setTimeout(()=>{N(0)},100)},S=[{name:"Sr No",cell:(a,x)=>x+1||a.Id,width:"7%"},{name:"Facility Name",cell:a=>{const x=t?a.Facility.Name.split(" ").map(f=>z(f)).join(" "):a.Name.split(" ").map(f=>z(f)).join(" "),d=t?a.Facility.Id:a.Id,C=()=>{N(`/facility/${d}`),setTimeout(()=>{N(0)},100)};return e.jsx(e.Fragment,{children:e.jsx(Us,{to:`/facility/${d}`,className:"facility-link",style:{textDecoration:"none"},children:e.jsxs("span",{style:{fontSize:"14px",fontWeight:"600",color:"#474D6A",textDecoration:"none"},onClick:C,children:[x||""," "]})})})},minWidth:"163px"},{name:"Health System ID",cell:a=>{const x=a.Id||"";return x?`HSID${x}`:""},minWidth:"140px"},{name:"Contact Person",cell:a=>{var d,C,f,O,M,k,w,F,q,H,Q,B,R,$;return(t?(d=a.Facility)!=null&&d.PrimaryContact?`${z((f=(C=a.Facility)==null?void 0:C.PrimaryContact)==null?void 0:f.FirstName)} ${z((M=(O=a.Facility)==null?void 0:O.PrimaryContact)==null?void 0:M.LastName)}`:(k=a.Facility)!=null&&k.SecondaryContact?`${z((F=(w=a.Facility)==null?void 0:w.SecondaryContact)==null?void 0:F.FirstName)} ${z((H=(q=a.Facility)==null?void 0:q.SecondaryContact)==null?void 0:H.LastName)}`:"--":a.PrimaryContact?`${z((Q=a.PrimaryContact)==null?void 0:Q.FirstName)} ${z((B=a.PrimaryContact)==null?void 0:B.LastName)}`:a.SecondaryContact?`${z((R=a.SecondaryContact)==null?void 0:R.FirstName)} ${z(($=a.SecondaryContact)==null?void 0:$.LastName)}`:"--")||"--"},minWidth:"140px"},{name:"Phone",cell:a=>{var d,C,f,O,M,k,w,F,q;const x=t?(C=(d=a.Facility)==null?void 0:d.PrimaryContact)!=null&&C.Phone?(O=(f=a.Facility)==null?void 0:f.PrimaryContact)==null?void 0:O.Phone:((k=(M=a.Facility)==null?void 0:M.SecondaryContact)==null?void 0:k.Phone)??"--":(w=a.PrimaryContact)!=null&&w.Phone?(F=a.PrimaryContact)==null?void 0:F.Phone:((q=a.SecondaryContact)==null?void 0:q.Phone)??"--";return x?x.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3"):"--"},minWidth:"130px"},{name:"Email Address",cell:a=>{var d,C,f,O,M,k,w,F,q;return(t?(C=(d=a.Facility)==null?void 0:d.PrimaryContact)!=null&&C.Email?(O=(f=a.Facility)==null?void 0:f.PrimaryContact)==null?void 0:O.Email:((k=(M=a.Facility)==null?void 0:M.SecondaryContact)==null?void 0:k.Email)??"--":(w=a.PrimaryContact)!=null&&w.Email?(F=a.PrimaryContact)==null?void 0:F.Email:((q=a.SecondaryContact)==null?void 0:q.Email)??"--")||"--"},minWidth:"150px"},{name:"Actions",cell:a=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"d-flex",style:{gap:"3px"},children:[e.jsx(je,{submodule:"location",module:"facilities",action:["GET","GET"],children:e.jsx(ll,{onEye:()=>b(t?a.Facility.Id:a.Id)})}),e.jsx(je,{submodule:"location",module:"facilities",action:["GET","DELETE"],children:e.jsx(qs,{onDelete:()=>o(t?a.Facility.Id:a.Id)})})]})}),minWidth:"100px"}];return e.jsx(e.Fragment,{children:e.jsx("div",{className:"facility-main-card-section",children:e.jsxs(ys,{children:[e.jsxs("h2",{className:"page-content-header",children:[" ",l.length===0?"":t?"Parent Health System":"Child Facilities"]}),e.jsx("div",{className:"datatable-wrapper facility-datatable-wrapper facility-onboarding-datatable",children:y?e.jsx(de,{}):l.length===0?e.jsx("p",{style:{textAlign:"center",marginTop:"20px"},children:"There are no records to display."}):n()})]})})})};let Qt=Ys({FirstName:ns().required("First Name is required").max(20,"Max. length is 20").min(2,"Min. length is 2").matches(/^[a-zA-Z']+$/,"Invalid characters in First Name").trim(),LastName:ns().required("Last Name is required").max(20,"Max. length is 20").min(2,"Min. length is 2").matches(/^[a-zA-Z']+$/,"Invalid characters in Last Name").trim(),Title:ns().required("Title is required").max(20,"Max. length is 20").min(2,"Min. length is 2").matches(/^[a-zA-Z' ]+$/,"Invalid characters in Title").trim(),Email:ns().required("Email is required").matches(Ha,"Enter a valid email").trim(),Phone:ns().required("Mobile number is required").matches(/^(\d{3}-\d{3}-\d{4}|\d{10})$/,"Enter a valid 10-digit mobile number"),Fax:ns().optional().nullable().test("Fax","Enter a Valid Fax",l=>!!(l==null||l===""||l.length>=10&&l.length<=15&&/^\d+$/.test(l)))});const Xt=async(l,s,t)=>(await pe.get(`/api/v1/protected/submodules/facilities/${s}/contacts/list?search=${l}`,{signal:t==null?void 0:t.signal})).data.data[0],Zt=async(l,s,t,h,y,c,N,g)=>{await pe.post(`/api/v1/protected/submodules/facilities/${g}/contacts/create`,{firstName:l,lastName:s,title:t,email:h,phone:y,fax:c,facilityRoleId:N})},Kt=async()=>(await pe.get("/api/v1/protected/modules/facilities/facility-roles")).data.data,_t=async(l,s)=>{await pe.delete(`/api/v1/protected/submodules/facilities/${s}/contacts/delete/${l}`)},At=async(l,s,t,h,y,c,N,g,i)=>{await pe.put(`/api/v1/protected/submodules/facilities/${i}/contacts/edit/${g}`,{firstName:l,lastName:s,title:t,email:h,phone:y,fax:c,facilityRoleId:N})},ei=({isOpen:l,toggle:s,selectedContactForEdit:t,setSelectedContactForEdit:h,fetchData:y})=>{var k,w,F,q,H,Q;const{register:c,handleSubmit:N,formState:{errors:g},reset:i,setValue:o}=ms({resolver:us(Qt)}),[,n]=r.useState(!1),[b,S]=r.useState([]),[a,x]=r.useState(null),d=He(),C=async()=>{try{n(!0);const B=await Kt();n(!1),S(B)}catch(B){console.error(B),n(!1),E("error",B.response.message||"Something went wrong")}};r.useEffect(()=>{C()},[]),r.useEffect(()=>{if(t){const{FirstName:B,LastName:R,Title:$,Email:D,Phone:T,FacilityRole:v,Fax:U}=t;o("FirstName",z(B)),o("LastName",z(R)),o("Title",$.split(" ").map(J=>z(J)).join(" ")),o("Phone",is(T)),o("Email",D),o("Fax",U);const Y=v?{value:(v==null?void 0:v.Id)??0,label:(v==null?void 0:v.Role)??""}:null;x(Y)}else i(),x(null)},[t]);const f=async B=>{var R,$;try{const{FirstName:D,LastName:T,Title:v,Email:U,Phone:Y,Fax:J}=B,V=Y.replace(/\D/g,"");if(!a||!a.value){n(!1),E("error","Role is required");return}if(t){const A=t.Id;n(!0),await At(D,T,v,U,V,J||null,a==null?void 0:a.value,A,Number(d==null?void 0:d.Id)),n(!1),y(),h(null),s(),E("success","Contact updated successfully!")}else n(!0),await Zt(D,T,v,U,V,J||null,a==null?void 0:a.value,Number(d==null?void 0:d.Id)),n(!1),y(),i(),s(),x(null),E("success","Facility contact created successfully!")}catch(D){console.error(D),n(!1),E("error",(($=(R=D==null?void 0:D.response)==null?void 0:R.data)==null?void 0:$.message)||"Something went wrong")}},O=()=>{s()},M=()=>{i(),x(null),h(null)};return e.jsx(e.Fragment,{children:e.jsxs(we,{isOpen:l,toggle:O,centered:!0,size:"lg",onClosed:M,children:[e.jsxs(Be,{toggle:s,children:[" ",t?"Edit Contact":"Add Contact"]}),e.jsx(Fe,{children:e.jsxs(Ze,{onSubmit:N(f),children:[e.jsxs(ge,{children:[e.jsxs(m,{md:"6",className:"col-group",children:[e.jsxs(u,{children:["First Name ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{id:"FirstName",placeholder:"First Name",invalid:!!g.FirstName,...c("FirstName")}),e.jsx(fe,{children:(k=g.FirstName)==null?void 0:k.message})]}),e.jsxs(m,{md:"6",className:"col-group",children:[e.jsxs(u,{children:["Last Name ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{id:"LastName",placeholder:"Last Name",invalid:!!g.LastName,...c("LastName")}),e.jsx(fe,{children:(w=g.LastName)==null?void 0:w.message})]}),e.jsxs(m,{md:"6",className:"col-group",children:[e.jsxs(u,{children:["Title ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{id:"Title",placeholder:"Title",invalid:!!g.Title,...c("Title")}),e.jsx(fe,{children:(F=g.Title)==null?void 0:F.message})]}),e.jsxs(m,{md:"6",className:"col-group",children:[e.jsxs(u,{children:["Phone ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{id:"Phone",placeholder:"Phone",invalid:!!g.Phone,...c("Phone",{onChange:B=>{const R=is(B.target.value);o("Phone",R)}})}),e.jsx(fe,{children:(q=g.Phone)==null?void 0:q.message})]}),e.jsxs(m,{md:"6",className:"col-group",children:[e.jsxs(u,{children:["Email Address ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{id:"Email",invalid:!!g.Email,...c("Email"),placeholder:"Email Address"}),e.jsx(fe,{children:(H=g.Email)==null?void 0:H.message})]}),e.jsxs(m,{md:"6",className:"col-group",children:[e.jsx(u,{children:"Fax"}),e.jsx(p,{id:"Fax",placeholder:"Fax",invalid:!!g.Fax,...c("Fax")}),e.jsx(fe,{children:(Q=g.Fax)==null?void 0:Q.message})]}),e.jsxs(m,{md:"6",className:"col-group",children:[e.jsxs(u,{children:["Select Role ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(_e,{id:"role",name:"role",placeholder:"Select Role",noOptionsMessage:()=>"No Role Found",isClearable:!0,isSearchable:!0,options:(b==null?void 0:b.map(B=>({value:B.Id,label:B.Role})))||[],onChange:B=>x(B),value:a?{value:a==null?void 0:a.value,label:a==null?void 0:a.label}:null})]})]}),e.jsxs("div",{className:"btn-wrapper",children:[e.jsxs(le,{className:"primary-btn",children:[" ",t?"Edit":"Save"," "]}),e.jsx(le,{className:"secondary-btn",onClick:()=>{i(),h(null),s()},children:"Cancel"})]})]})}),e.jsx(fs,{className:"mb-3 justify-content-start"})]})})},si=()=>{const[l,s]=r.useState(!1),[t,h]=r.useState([]),[y,c]=r.useState(null),[N,g]=r.useState(""),[i,o]=r.useState(!1),n=()=>o(!i),b=He(),[S,a]=r.useState(!1),x=new AbortController,d=xs(async()=>{try{s(!0);const w=await Xt(N,Number(b==null?void 0:b.Id),x);s(!1),h(w)}catch(w){if(x.signal.aborted){a(!0);return}console.error(w),s(!1),E("error",w.response.message||"Something went wrong")}},300);r.useEffect(()=>(d(),()=>x.abort()),[N,S]);const C=w=>w.FacilityRole?w.FacilityRole.Role:"",f=w=>{g(w)},O=async w=>{var F,q;try{s(!0),await _t(w,Number(b==null?void 0:b.Id)),await d(),E("success","Contact deleted successfully")}catch(H){console.error("Error deleting contact:",H),s(!1),E("error",((q=(F=H==null?void 0:H.response)==null?void 0:F.data)==null?void 0:q.message)||"Something went wrong")}},M=w=>{const F=t.find(q=>q.Id===w);F!==void 0&&(c(F),n())},k=[{name:"Name",minWidth:"150px",cell:w=>`${z(w.FirstName)} ${z(w.LastName)}`},{name:"Title",cell:w=>w.Title.split(" ").map(F=>z(F)).join(" "),minWidth:"150px"},{name:"Phone",cell:w=>`${w.Phone.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3")}`,minWidth:"160px"},{name:"Fax",cell:w=>`${w.Fax??"--"}`,minWidth:"160px"},{name:"Email Address",cell:w=>w.Email,minWidth:"140px"},{name:"Role",cell:w=>C(w),minWidth:"150px"},{name:"Actions",minWidth:"120px",cell:w=>e.jsxs(e.Fragment,{children:[e.jsx(je,{submodule:"contacts",module:"facilities",action:["GET","PUT"],children:e.jsx(Ns,{onEdit:()=>M(w==null?void 0:w.Id)})}),e.jsx(je,{submodule:"contacts",module:"facilities",action:["GET","DELETE"],children:e.jsx(qs,{onDelete:()=>O(w==null?void 0:w.Id)})})]})}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"facility-main-card-section",children:e.jsxs(ys,{children:[e.jsx("h2",{className:"page-content-header",children:"Contacts"}),e.jsxs("div",{className:"d-flex mb-3",children:[e.jsxs("div",{className:"search-bar-wrapper flex-grow-1",children:[e.jsx(p,{placeholder:"Search Here",value:N,onChange:w=>{f(w.target.value)}}),e.jsx("img",{src:Hs,alt:"search"})]}),e.jsx("div",{className:"table-navigate",children:e.jsx(je,{submodule:"contacts",module:"facilities",action:["GET","POST"],children:e.jsx(le,{className:"primary-btn ms-2",onClick:n,children:"Add New"})})})]}),e.jsx("div",{className:"datatable-wrapper facility-datatable-wrapper facility-onboarding-datatable",children:l?e.jsx(de,{}):e.jsx(Ps,{columns:k,data:t})})]})}),e.jsx(ei,{isOpen:i,toggle:()=>n(),selectedContactForEdit:y,setSelectedContactForEdit:c,fetchData:d})]})},li=Ys({name:ns().required("Name is required").typeError("Name must be of type String").min(2,"Name must be at least 2 characters").max(100,"Name must be at most 100 characters").test("is-string","Name should only be a string",l=>l?/^[A-Za-z ]+$/.test(l):!1),description:ns().nullable().transform((l,s)=>s===""?null:l).test("description","Description must be between 2 to 255 characters and only contain letters, spaces, and apostrophes and comma",l=>l==null?!0:/^[a-zA-Z ',]+$/.test(l)&&l.length>=2&&l.length<=255)}),ai=async(l,{name:s,description:t,document:h})=>await pe.post(`/api/v1/protected/submodules/facilities/${l}/facilitydocuments/create`,{name:s,description:t,document:h},{headers:{"Content-Type":"multipart/form-data"}}),ti=async(l,s,t)=>await pe.get(`/api/v1/protected/submodules/facilities/${l}/facilitydocuments/list?search=${s}`,{signal:t==null?void 0:t.signal}),ii=async(l,s)=>await pe.delete(`/api/v1/protected/submodules/facilities/${l}/facilitydocuments/delete/${s}`),ci=async(l,{name:s,description:t,document:h},y)=>await pe.put(`/api/v1/protected/submodules/facilities/${l}/facilitydocuments/edit/${y}`,{name:s,description:t,document:h},{headers:{"Content-Type":"multipart/form-data"}}),ri=async(l,s)=>await pe.get(`/api/v1/protected/submodules/facilities/${l}/facilitydocuments/download/${s}`),ni=({setIsOffCanvasOpen:l,isOffCanvasOpen:s,selectedDocumentForEdit:t,setSelectedDocumentForEdit:h,fetchFacilityDocuments:y,search:c,setSearch:N})=>{var B,R;const{register:g,handleSubmit:i,formState:{errors:o},reset:n,setValue:b}=ms({resolver:us(li)}),[S,a]=r.useState(!1),[x,d]=r.useState(),[C,f]=r.useState(),O=He(),M=()=>{h(null),d(void 0),n(),l(!1)},k=$=>{N($)},w=$=>{var T;const D=(T=$.target.files)==null?void 0:T[0];f(v=>(v==null?void 0:v.name)===(D==null?void 0:D.name)?(E("error","Document already exists"),v):D),D&&d(D)},F=2,q={document:["doc","docx","pdf"]},H=$=>{var T,v;return(v=(T=$==null?void 0:$.name)==null?void 0:T.split(".").pop())==null?void 0:v.toLowerCase()},Q=async $=>{var D,T,v,U,Y,J;if(x){const V=H(C);if(!V||!q.document.includes(V))return E("error","Supported formats are only .doc, .docx, .pdf")}if(x&&(x==null?void 0:x.size)/1048576>F)return E("error",`File size exceeds the maximum limit of ${F} MB`);if(t)try{const{Id:V}=t;a(!0);const A=await ci(Number(O==null?void 0:O.Id),{name:$==null?void 0:$.name,description:$==null?void 0:$.description,document:x},V);a(!1),l(!1),h(null),E("success",((D=A==null?void 0:A.data)==null?void 0:D.message)||"Document updated successfully!"),await y()}catch(V){console.error(V),a(!1),E("error",((v=(T=V==null?void 0:V.response)==null?void 0:T.data)==null?void 0:v.message)||"Something went wrong")}else{if(!x)return E("error","No Document is selected");try{a(!0);const{name:V,description:A}=$,P=await ai(Number(O==null?void 0:O.Id),{name:V,description:A,document:x});a(!1),l(!1),n(),d(void 0),E("success",((U=P==null?void 0:P.data)==null?void 0:U.message)||"Document created successfully"),await y()}catch(V){console.error(V),a(!1),E("error",((J=(Y=V==null?void 0:V.response)==null?void 0:Y.data)==null?void 0:J.message)||"Something went wrong")}}};return r.useEffect(()=>{if(t&&t!==void 0){const{Name:$,Description:D}=t;b("name",z($)),b("description",D)}else n(),d(void 0)},[t]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex mb-3 search-button",children:[e.jsxs("div",{className:"search-bar-wrapper w-100",children:[e.jsx(p,{placeholder:"Search Here",value:c,onChange:$=>k($.target.value)}),e.jsx("img",{src:Hs,alt:"search"})]}),e.jsx("div",{className:"table-navigate",children:e.jsx(je,{submodule:"facilitydocuments",module:"facilities",action:["GET","POST"],children:e.jsx(le,{className:"primary-btn",onClick:()=>l(!0),children:"Add New"})})})]}),e.jsxs(cl,{show:s,onHide:()=>{n(),h(null),l(!1)},placement:"end",children:[e.jsx(cl.Header,{closeButton:!0,children:e.jsx(cl.Title,{children:t?"Edit Document":"Add Document"})}),e.jsxs(cl.Body,{children:[S&&e.jsx(de,{}),e.jsxs(Ze,{onSubmit:i(Q),children:[e.jsxs(ge,{children:[e.jsxs(m,{md:"12",className:"col-group",children:[e.jsxs(u,{className:"",children:["Document Name ",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx(p,{placeholder:"Document Name",invalid:!!o.name,...g("name")}),e.jsx(fe,{children:(B=o.name)==null?void 0:B.message})]}),e.jsxs(m,{md:"12",className:"col-group",children:[e.jsx(u,{children:"Description"}),e.jsx(ps,{invalid:!!o.description,...g("description")}),e.jsx(fe,{children:(R=o.description)==null?void 0:R.message})]}),e.jsx(m,{md:"12",children:e.jsx(vl,{children:e.jsxs("div",{className:"file-picker-wrapper",children:[e.jsx("div",{className:"file-picker-label-wrapper",children:e.jsx(u,{for:"exampleFile",className:"file-picker-label",children:"Upload File"})}),C&&e.jsxs("p",{className:"file-para",children:["Your Document name is: ",x==null?void 0:x.name]}),!C&&t&&e.jsxs("p",{className:"file-para",children:["Your Document name is:"," ",t==null?void 0:t.FileName]}),e.jsx("p",{className:"file-para",children:"Supported Formats: doc, docx, pdf up to 2 MB"}),e.jsx(p,{id:"exampleFile",value:"",type:"file",accept:".doc,.docx,.pdf",style:{display:"none"},onChange:$=>w($)})]})})})]}),e.jsxs("div",{className:"btn-wrapper",children:[e.jsx(le,{className:"primary-btn",children:"Save"}),e.jsx(le,{className:"secondary-btn",onClick:M,children:"Cancel"})]})]})]})]})]})},di=()=>{const[l,s]=r.useState(!1),[t,h]=r.useState([]),[y,c]=r.useState(),[N,g]=r.useState(!1),[i,o]=r.useState(""),n=He(),[b,S]=r.useState(!1),a=M=>{const k=t.find(w=>w.Id===M);k!==void 0&&(c(k),s(!0))},x=async(M,k)=>{var w,F;try{g(!0),await ii(M,k),g(!1),await f()}catch(q){console.error(q),g(!1),E("error",((F=(w=q==null?void 0:q.response)==null?void 0:w.data)==null?void 0:F.message)||"Something went wrong")}},d=async M=>{var k,w;try{g(!0),await ri(Number(n==null?void 0:n.Id),M).then(F=>{const q=F.headers["content-disposition"];let H="download";if(q){const $=q.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/);$&&$[1]&&(H=$[1].replace(/['"]/g,""))}const Q=new Blob([F.data],{type:F.headers["content-type"]}),B=URL.createObjectURL(Q),R=document.createElement("a");R.href=B,R.download=H,R.click(),URL.revokeObjectURL(B)}),g(!1)}catch(F){console.error(F),g(!1),E("error",((w=(k=F==null?void 0:F.response)==null?void 0:k.data)==null?void 0:w.message)||"Something went wrong")}},C=new AbortController,f=xs(async()=>{var M,k,w;try{g(!0);const F=await ti(Number(n==null?void 0:n.Id),i,C);h((M=F==null?void 0:F.data)==null?void 0:M.data),g(!1)}catch(F){if(console.error(F),C.signal.aborted){S(!0);return}g(!1),E("error",((w=(k=F==null?void 0:F.response)==null?void 0:k.data)==null?void 0:w.message)||"Something went wrong")}},300);r.useEffect(()=>(f(),()=>C.abort()),[i,b]);const O=[{name:"Sr No",width:"8%",cell:(M,k)=>k+1},{name:"Document Name",cell:M=>z(M.Name),minWidth:"180px"},{name:"Description",cell:M=>M.Description,minWidth:"190px"},{name:"Uploaded On",minWidth:"180px",cell:M=>{const k={month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};return new Date(M.CreatedOn).toLocaleString("en-US",k).replace(/(\m+)\/(\d+)\/(\y+),/,"$2/$1/$3")}},{name:"Actions",minWidth:"130px",cell:M=>e.jsxs(e.Fragment,{children:[e.jsx(je,{submodule:"facilitydocuments",module:"facilities",action:["GET","PUT"],children:e.jsx(Ns,{onEdit:()=>a(M.Id)})}),e.jsx(je,{submodule:"facilitydocuments",module:"facilities",action:["GET","GET"],children:e.jsx(Bl,{onDownload:()=>d(M.Id)})}),e.jsx(je,{submodule:"facilitydocuments",module:"facilities",action:["GET","DELETE"],children:e.jsx(qs,{onDelete:()=>x(Number(n==null?void 0:n.Id),M.Id)})})]})}];return e.jsx(e.Fragment,{children:e.jsx("div",{className:"facility-main-card-section",children:e.jsx(ys,{children:e.jsxs("div",{className:"facility-listing-loader",children:[e.jsx("h2",{className:"page-content-header",children:"Facility Documents"}),N&&e.jsx(de,{}),e.jsx(ni,{setIsOffCanvasOpen:s,isOffCanvasOpen:l,selectedDocumentForEdit:y,setSelectedDocumentForEdit:c,fetchFacilityDocuments:f,search:i,setSearch:o},y==null?void 0:y.Id),e.jsx("div",{className:"datatable-wrapper facility-datatable-wrapper facility-onboarding-datatable",children:e.jsx(Ps,{columns:O,data:t})})]})})})})},oi=({onDelete:l})=>{const[s,t]=r.useState(!1),h=()=>{t(!0)},y=()=>{t(!1)},c=()=>{l()};return e.jsx("div",{className:"custom-action-btn",children:e.jsx("div",{className:"btn",onMouseEnter:h,onMouseLeave:y,onClick:c,children:e.jsx(La,{color:s?"#FFF":"#717B9E"})})})},xi=async(l,s,t)=>(await pe.get(`/api/v1/protected/submodules/facilities/${l}/faqs/list?search=${s}`,{signal:t==null?void 0:t.signal})).data.data,mi=async(l,s)=>{await pe.post(`/api/v1/protected/submodules/facilities/${l}/faqs/create`,{faqs:s})},na=async(l,s)=>{const t=l.join(",");await pe.delete(`/api/v1/protected/submodules/facilities/${s}/faqs/delete?ids=${t}`)},ui=async(l,s,t,h,y)=>{await pe.put(`/api/v1/protected/submodules/facilities/${h}/faqs/edit/${y}`,{question:l,answer:s,typeId:t})},hi=async l=>(await pe.get(`/api/v1/protected/submodules/facilities/${l}/faqs/types`)).data.data,ta=Ys({question:ns().nullable(),answer:ns().nullable()}),pi=({isOpen:l,toggle:s,fetchFaqs:t})=>{const{handleSubmit:h,reset:y}=ms({resolver:us(ta)}),[c,N]=r.useState([{question:"",answer:""}]),[g,i]=r.useState(!1),[o,n]=r.useState(null),[b,S]=r.useState([]),a=He(),x=()=>{N([...c,{question:"",answer:""}])},d=(F,q)=>{const H=[...c];H[F].question=q,N(H)},C=(F,q)=>{const H=[...c];H[F].answer=q,N(H)},f=async()=>{var F,q;try{i(!0);const H=await hi(Number(a==null?void 0:a.Id));i(!1),S(H)}catch(H){console.error(H),i(!1),E("error",((q=(F=H==null?void 0:H.response)==null?void 0:F.data)==null?void 0:q.message)||"Something went wrong")}};r.useEffect(()=>{f()},[]);const O=()=>{N([{question:"",answer:""}]),n(null),y(),s()},M=async()=>{var F,q;try{if(!(o!=null&&o.value)){E("error","Please select a type");return}const H=c.map(Q=>({question:Q.question||"",answer:Q.answer||"",isInternalUse:o.value===1,typeId:o.value||0}));i(!0),await mi(Number(a==null?void 0:a.Id),H),i(!1),t()}catch(H){console.error(H),i(!1),E("error",((q=(F=H==null?void 0:H.response)==null?void 0:F.data)==null?void 0:q.message)||"Something went wrong")}},k=F=>{if(!(o!=null&&o.value)){E("error","Please select a type");return}c.some(H=>{var v,U;const Q=(v=H.question)==null?void 0:v.trim(),B=(U=H.answer)==null?void 0:U.trim(),R=!Q||Q.length===0,$=!B||B.length===0,D=Q&&Q.length>255,T=B&&B.length>255;return R||$?(E("error","Please enter both question and answer for all questions."),!0):D||T?(E("error","Question and answer must be within 255 characters."),!0):!1})||(h(M)(F),N([{question:"",answer:""}]),n(null),y(),s())},w=()=>{N([{question:"",answer:""}]),n(null),y(),s()};return e.jsxs(we,{isOpen:l,toggle:s,centered:!0,size:"xl",children:[e.jsx(Be,{toggle:O,className:"faq-header",children:"Add FAQ's"}),e.jsxs(Fe,{className:"modal-body-faq",children:[g?e.jsx(de,{}):e.jsxs(Gs,{onSubmit:h(M),children:[e.jsx(ge,{children:e.jsxs(m,{md:"12",className:"col-group",children:[e.jsx(u,{children:"Select Type"}),e.jsx(_e,{id:"type",name:"type",options:b.map(F=>({label:F.Type,value:F.Id})),noOptionsMessage:()=>"No options available",placeholder:"Select Type",value:o?{value:o==null?void 0:o.value,label:o==null?void 0:o.label}:null,onChange:F=>{n(F)}})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"page-content-header",children:"Questions"}),c.map((F,q)=>e.jsx("div",{className:`add-faq-question mt-3 ${q===c.length-1?"add-faq-wrapper-active":""}`,children:e.jsxs(ge,{children:[e.jsxs(m,{md:"12",className:"col-group",children:[e.jsx(u,{children:"Question"}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs("span",{className:"faq-question-number",children:[q+1,"."]}),e.jsx(p,{placeholder:"Question",className:"faq-question-input",value:F.question,onChange:H=>d(q,H.target.value)}),e.jsx(oi,{onDelete:()=>{const H=[...c];H.splice(q,1),N(H)}})]})]}),e.jsx(m,{md:"12",className:"",children:e.jsx(ps,{value:F.answer,onChange:H=>C(q,H.target.value)})})]})},q))]})]}),e.jsx(le,{className:"secondary-btn faq-secondary-btn",onClick:x,children:"Add New Question"})]}),e.jsx(fs,{className:"mb-3 justify-content-start",children:e.jsxs("div",{className:"btn-wrapper",children:[e.jsx(le,{className:"primary-btn",onClick:k,children:"Save"}),e.jsx(le,{className:"secondary-btn",onClick:w,children:"Cancel"})]})})]})},El=({onChange:l,checked:s,disabled:t})=>e.jsx(Gs,{children:e.jsx(vl,{check:!0,inline:!0,children:e.jsx(Pa,{type:"checkbox",onChange:l,checked:s,disabled:t,style:{backgroundColor:t?"#717B9E":"",cursor:t?"not-allowed":"pointer"}})})}),gi=({isOpen:l,toggleViewModal:s,selectedViewFaq:t})=>{var o,n;const{register:h,formState:{errors:y},setValue:c}=ms({resolver:us(ta)}),[N,g]=r.useState(null),i=[{Id:1,Type:"Internal Use Only"},{Id:2,Type:"To Be Shared with Professionals"}];return r.useEffect(()=>{if(t){const{Question:b,Answer:S,FaqType:a}=t;c("question",b),c("answer",S);const x=a?{value:(a==null?void 0:a.Id)??0,label:(a==null?void 0:a.Type)??""}:null;g(x)}},[t]),e.jsx(e.Fragment,{children:e.jsxs(we,{isOpen:l,toggle:s,centered:!0,size:"xl",children:[e.jsx(Be,{toggle:s,className:"faq-header",children:"View FAQ's"}),e.jsx(Fe,{className:"modal-body-faq",children:e.jsxs(Gs,{children:[e.jsx(ge,{children:e.jsxs(m,{md:"12",className:"col-group",children:[e.jsx(u,{children:"Select Type"}),e.jsx(_e,{id:"type",name:"type",options:i.map(b=>({label:b.Type,value:b.Id})),noOptionsMessage:()=>"No options available",placeholder:"",value:N,isDisabled:!0,onChange:b=>{g(b)}})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"page-content-header",children:"Questions"}),e.jsx("div",{className:"add-faq-question mt-3  'add-faq-wrapper-active' : ''}",children:e.jsxs(ge,{children:[e.jsxs(m,{md:"12",className:"col-group",children:[e.jsx(u,{children:"Question"}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(p,{id:"question",invalid:!!y.question,...h("question"),placeholder:"Question",className:"faq-question-input",disabled:!0}),e.jsx(fe,{children:(o=y.question)==null?void 0:o.message})]})]}),e.jsxs(m,{md:"12",className:"",children:[e.jsx(ps,{id:"answer",invalid:!!y.answer,...h("answer"),disabled:!0}),e.jsx(fe,{children:(n=y.answer)==null?void 0:n.message})]})]})})]})]})}),e.jsx(fs,{className:"mb-3 justify-content-start",children:e.jsx("div",{className:"btn-wrapper",children:e.jsx(le,{className:"secondary-btn",onClick:s,children:"Cancel"})})})]})})},yi=({isOpen:l,toggleEditModal:s,selectedEditFaq:t,fetchFaqs:h})=>{var C,f;const{register:y,handleSubmit:c,formState:{errors:N},setValue:g}=ms({resolver:us(ta)}),[i,o]=r.useState(null),[n,b]=r.useState(!1),S=He(),a=[{Id:1,Type:"Internal Use Only"},{Id:2,Type:"To Be Shared with Professionals"}];r.useEffect(()=>{if(t){const{Question:O,Answer:M,FaqType:k}=t;g("question",O),g("answer",M);const w=k?{value:(k==null?void 0:k.Id)??0,label:(k==null?void 0:k.Type)??""}:null;o(w)}},[t]);const x=async O=>{var M,k;try{if(!i){E("error","Please select a type");return}const{question:w,answer:F}=O;if(w.trim().length===0||F.trim().length===0){E("error","Please enter both question and answer.");return}if(w.trim().length>255||F.trim().length>255){E("error","Question and answer must be within 255 characters.");return}const q=t==null?void 0:t.Id;b(!0),await ui(w,F,i==null?void 0:i.value,Number(S==null?void 0:S.Id),q),b(!1),s(),h()}catch(w){console.error(w),b(!1),E("error",((k=(M=w==null?void 0:w.response)==null?void 0:M.data)==null?void 0:k.message)||"Something went wrong")}},d=()=>{s()};return e.jsx(e.Fragment,{children:e.jsxs(we,{isOpen:l,toggle:s,centered:!0,size:"xl",children:[e.jsx(Be,{toggle:s,className:"faq-header",children:"Edit FAQ's"}),e.jsx(Fe,{className:"modal-body-faq",children:n?e.jsx(de,{}):e.jsxs(Gs,{onSubmit:c(x),children:[e.jsx(ge,{children:e.jsxs(m,{md:"12",className:"col-group",children:[e.jsx(u,{children:"Select Type"}),e.jsx(_e,{id:"type",name:"type",options:a.map(O=>({label:O.Type,value:O.Id})),noOptionsMessage:()=>"No options available",placeholder:"Select Type",value:i,onChange:O=>{o(O)}})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"page-content-header",children:"Questions"}),e.jsx("div",{className:"add-faq-question mt-3  'add-faq-wrapper-active' : ''}",children:e.jsxs(ge,{children:[e.jsxs(m,{md:"12",className:"col-group",children:[e.jsx(u,{children:"Question"}),e.jsxs("div",{className:"d-flex align-items-center edit-faq",children:[e.jsx(p,{id:"question",invalid:!!N.question,...y("question"),placeholder:"Question",className:"faq-question-input edit-faq-question"}),e.jsx(fe,{children:(C=N.question)==null?void 0:C.message})]})]}),e.jsxs(m,{md:"12",className:"",children:[e.jsx(ps,{id:"answer",invalid:!!N.answer,...y("answer")}),e.jsx(fe,{children:(f=N.answer)==null?void 0:f.message})]})]})})]}),e.jsxs("div",{className:"btn-wrapper",children:[e.jsx(le,{className:"primary-btn",children:"Save"}),e.jsx(le,{className:"secondary-btn",onClick:d,children:"Cancel"})]})]})}),e.jsx(fs,{className:"mb-3 justify-content-start"})]})})},ji=({onDelete:l,selectedRows:s,faqs:t})=>{const[h,y]=r.useState(!1),c=()=>y(!h),N=()=>{c(),l(s)};return e.jsxs(e.Fragment,{children:[e.jsx(le,{onClick:c,className:"faq-deletebutton",children:s.length>0&&s.length<t.length?"Delete":"DeleteAll"}),e.jsxs(we,{isOpen:h,toggle:c,centered:!0,children:[e.jsx(Be,{toggle:c,children:"Deleting the entry?"}),e.jsx(Fe,{children:"Are you sure you want to delete this entry? You CAN NOT view this entry in the list anymore if you delete?"}),e.jsx(fs,{children:e.jsxs("div",{className:"btn-wrapper",children:[e.jsx(le,{className:"primary-btn",onClick:N,children:"Delete"}),e.jsx(le,{className:"secondary-btn",onClick:c,children:"Cancel"})]})})]})]})},Ni=()=>{const l=()=>t(!s),[s,t]=r.useState(!1),[h,y]=r.useState(!1),[c,N]=r.useState(""),[g,i]=r.useState([]),[o,n]=r.useState(null),[b,S]=r.useState(null),[a,x]=r.useState(!1),[d,C]=r.useState(!1),[f,O]=r.useState([]),[M,k]=r.useState(!1),[,w]=r.useState(!1),[,F]=r.useState(!1),q=He(),[H,Q]=r.useState(!1),B=new AbortController,R=xs(async()=>{var se,ve;try{y(!0);const ye=await xi(Number(q==null?void 0:q.Id),c,B);i(ye),y(!1)}catch(ye){if(B.signal.aborted){Q(!0);return}console.error(ye),y(!1),E("error",((ve=(se=ye==null?void 0:ye.response)==null?void 0:se.data)==null?void 0:ve.message)||"Something went wrong")}},300);r.useEffect(()=>(R(),()=>B.abort()),[c,H]);const $=()=>{x(!a)},D=()=>{C(!d)},T=se=>{N(se)},v=async se=>{var ve,ye;try{y(!0),await na([se],Number(q.Id)),y(!1),await R(),O([])}catch(ce){console.error(ce),y(!1),E("error",((ye=(ve=ce==null?void 0:ce.response)==null?void 0:ve.data)==null?void 0:ye.message)||"Something went wrong")}},U=se=>{const ve=g.find(ye=>ye.Id===se);ve!==void 0&&(n(ve),D())},Y=se=>{const ve=g.find(ye=>ye.Id===se);ve!==void 0&&(S(ve),$())},J=se=>{k(se),w(se),O(se?[...g]:[])},V=(se,ve)=>{let ye=[];se?ye=[...f,ve]:ye=f.filter(Ne=>Ne.Id!==ve.Id),O(ye);const ce=g.length===ye.length,xe=ye.length>0;w(ce),k(xe),F(xe&&!ce)},A=async()=>{var se,ve;try{y(!0);const ye=f.map(ce=>ce.Id);await na(ye,Number(q==null?void 0:q.Id)),y(!1),await R(),O([]),F(!1),k(!1)}catch(ye){console.error(ye),y(!1),E("error",((ve=(se=ye==null?void 0:ye.response)==null?void 0:se.data)==null?void 0:ve.message)||"Something went wrong")}},P=[{name:M||f.length>1?e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(El,{disabled:!1,onChange:se=>J(se.target.checked),checked:f.length===g.length}),e.jsx(ji,{onDelete:A,selectedRows:f,faqs:g})]}):e.jsx(El,{disabled:!1,onChange:se=>J(se.target.checked),checked:M}),cell:se=>e.jsx(El,{disabled:!1,onChange:ve=>V(ve.target.checked,se),checked:f.some(ve=>ve.Id===se.Id)}),width:"5%"},{name:M||f.length>1?"":"Question",cell:se=>rs(se.Question.replace(/^\d+ /,"")),minWidth:"400px"},{name:M||f.length>1?"":"Date",minWidth:"180px",cell:se=>new Date(se.CreatedOn).toLocaleString()},{name:M||f.length>1?"":"Type",minWidth:"180px",cell:se=>se.FaqType.Type},{name:M||f.length>1?"":"Actions",minWidth:"180px",cell:se=>e.jsxs(e.Fragment,{children:[e.jsx(je,{submodule:"faqs",module:"facilities",action:["GET","GET"],children:e.jsx(ll,{onEye:()=>Y(se==null?void 0:se.Id)})}),e.jsx(je,{submodule:"faqs",module:"facilities",action:["GET","PUT"],children:e.jsx(Ns,{onEdit:()=>U(se.Id)})}),e.jsx(je,{submodule:"faqs",module:"facilities",action:["GET","DELETE"],children:e.jsx(qs,{onDelete:()=>v(se.Id)})})]})}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"facility-main-card-section",children:e.jsxs(ys,{children:[e.jsx("h2",{className:"page-content-header",children:"FAQ's"}),e.jsxs("div",{className:"d-flex mb-3",children:[e.jsxs("div",{className:"search-bar-wrapper w-100",children:[e.jsx(p,{placeholder:"Search Here",value:c,onChange:se=>{T(se.target.value)}}),e.jsx("img",{src:Hs,alt:"search"})]}),e.jsx("div",{className:"table-navigate",children:e.jsx(je,{submodule:"faqs",module:"facilities",action:["GET","POST"],children:e.jsx(le,{className:"primary-btn ms-2",onClick:l,children:"Add New"})})})]}),e.jsx("div",{className:"datatable-wrapper facility-datatable-wrapper-faq",children:h?e.jsx(de,{}):e.jsx(Ps,{columns:P,data:g})})]})}),e.jsx(pi,{isOpen:s,toggle:l,fetchFaqs:R}),e.jsx(gi,{isOpen:a,toggleViewModal:$,selectedViewFaq:b,setSelectedViewFaq:S,fetchFaqs:R}),e.jsx(yi,{isOpen:d,toggleEditModal:D,selectedEditFaq:o,fetchFaqs:R})]})},fi=({Id:l,Title:s,CreatedOn:t,JobType:h,TotalGrossPay:y,MinYearsExperience:c,ContractLength:N,Location:g,JobProfession:i,JobSpeciality:o,Facility:n,DeleteHandler:b})=>{const[S,a]=r.useState(!1),x=He(),d=gs(),C=He(),f=()=>a(!S),O=()=>{f(),b()},M=()=>{d("/jobs/create",{state:{templateId:l,facilityId:C==null?void 0:C.Id}})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"job-template-wrapper w-100",children:[e.jsxs("div",{className:"job-temp-header",children:[e.jsx("h3",{children:s}),e.jsxs("p",{children:[e.jsxs("span",{className:"dollar-amount",children:["$",y==null?void 0:y.toFixed(2)]}),e.jsx("span",{className:"week",children:"/week"})]})]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("img",{src:pa}),e.jsx("p",{className:"hospital-detail-text",children:z(n.Name)}),e.jsx("img",{src:ga}),e.jsx("p",{className:"hospital-detail-text",children:g})]}),e.jsxs("div",{className:"d-flex flex-wrap",children:[e.jsxs("p",{children:[e.jsx("span",{className:"temp-details",children:"Job Type:"}),e.jsxs("span",{className:"temp-answer text-nowrap",children:[" ",h]})]}),e.jsxs("p",{children:[e.jsx("span",{className:"temp-details",children:"Profession:"}),e.jsx("span",{className:"temp-answer text-nowrap",children:i.Profession})]}),e.jsxs("p",{children:[e.jsx("span",{className:"temp-details",children:"Specialty:"}),e.jsx("span",{className:"temp-answer text-nowrap",children:o.Speciality})]}),e.jsxs("p",{children:[e.jsx("span",{className:"temp-details",children:"Contract:"}),e.jsxs("span",{className:"temp-answer text-nowrap",children:[" ",N," Weeks"]})]}),e.jsxs("p",{children:[e.jsx("span",{className:"temp-details",children:"Experience:"}),e.jsxs("span",{className:"temp-answer text-nowrap",children:[c," Years"]})]}),e.jsxs("p",{children:[e.jsx("span",{className:"temp-details",children:"Created On:"}),e.jsxs("span",{className:"temp-answer text-nowrap",children:[" ",qa(t)]})]})]}),e.jsxs("div",{className:"btn-wrapper right-buttons d-flex justify-content-end flex-wrap align-items-center",children:[e.jsx(je,{submodule:"jobtemplates",module:"facilities",action:["GET","DELETE"],children:e.jsx(le,{onClick:f,className:"professional-button  delete-btn me-2",children:"Delete"})}),e.jsx(Us,{to:`/facility/${Number(x==null?void 0:x.Id)}/job-template/edit/${l}`,children:e.jsx(je,{submodule:"jobtemplates",module:"facilities",action:["GET","PUT"],children:e.jsx(le,{className:"professional-button  delete-btn me-2",children:"Edit template"})})}),e.jsx(je,{submodule:"",module:"jobs",action:["GET","GET","POST"],children:e.jsx(le,{className:"primary-btn template-btn ms-0",onClick:M,children:"Use Job template"})})]})]}),e.jsxs(we,{isOpen:S,toggle:f,centered:!0,children:[e.jsx(Be,{toggle:f,children:"Deleting the entry?"}),e.jsx(Fe,{children:"Are you sure you want to delete this entry? You CAN NOT view this entry in list anymore if you delete?"}),e.jsx(fs,{children:e.jsxs("div",{className:"btn-wrapper",children:[e.jsx(je,{submodule:"",module:"jobs",action:["GET","DELETE"],children:e.jsx(le,{className:"primary-btn",onClick:O,children:"Delete"})}),e.jsx(le,{className:"secondary-btn",onClick:f,children:"Cancel"})]})})]})]})},bi=()=>{var i,o,n;const[l,s]=r.useReducer($a,Ya),[t,h]=r.useState(!1),y=He(),c=xs(b=>{s({type:Rl.SetSearch,payload:b})},300),N=async()=>{var b,S,a;try{h(!0);const x=await ia(Number(y==null?void 0:y.Id),l.search);s({type:Rl.SetCardDetails,payload:(b=x==null?void 0:x.data)==null?void 0:b.data}),h(!1)}catch(x){console.error(x),E("error",((a=(S=x==null?void 0:x.response)==null?void 0:S.data)==null?void 0:a.message)||"Something went wrong")}};r.useEffect(()=>{N()},[l.search]);const g=async b=>{var S,a,x;try{h(!0);const d=await Ua(Number(y==null?void 0:y.Id),b);E("success","Job Template Deleted Successfully"),h(!1),h(!0);const C=await ia(Number(y==null?void 0:y.Id),l.search);s({type:Rl.SetCardDetails,payload:(S=C==null?void 0:C.data)==null?void 0:S.data}),h(!1)}catch(d){console.error(d),h(!1),E("error",((x=(a=d==null?void 0:d.response)==null?void 0:a.data)==null?void 0:x.message)||"Something went wrong")}};return e.jsx("div",{className:"facility-main-card-section",children:e.jsxs(ys,{children:[t&&e.jsx(de,{}),e.jsxs("h2",{className:"page-content-header",children:["Job Templates ",e.jsxs("span",{children:["(",(i=l.cardDetails)==null?void 0:i.length,")"]})]}),e.jsxs("div",{className:"d-flex mb-3",children:[e.jsxs("div",{className:"search-bar-wrapper w-100",children:[e.jsx(p,{placeholder:"Search Here",onChange:b=>c(b.target.value)}),e.jsx("img",{src:Hs,alt:"search"})]}),e.jsx("div",{className:"table-navigate",children:e.jsx(Us,{to:`/facility/${y==null?void 0:y.Id}/job-template/create`,children:e.jsx(je,{submodule:"jobtemplates",module:"facilities",action:["GET","POST"],children:e.jsx(le,{className:"primary-btn ms-2",children:"Create New Template"})})})})]}),((o=l.cardDetails)==null?void 0:o.length)===0?e.jsx("p",{style:{textAlign:"center"},children:"There are no records to display"}):l.cardDetails.length>0&&((n=l.cardDetails)==null?void 0:n.map(b=>e.jsx(fi,{Id:b==null?void 0:b.Id,Title:z(b==null?void 0:b.Title),CreatedOn:b==null?void 0:b.CreatedOn,JobType:z(b==null?void 0:b.JobType),TotalGrossPay:b==null?void 0:b.TotalGrossPay,MinYearsExperience:b==null?void 0:b.MinYearsExperience,ContractLength:b==null?void 0:b.ContractLength,Location:z(b==null?void 0:b.Location),JobProfession:b==null?void 0:b.JobProfession,JobSpeciality:b==null?void 0:b.JobSpeciality,EmploymentType:b==null?void 0:b.EmploymentType,Facility:b==null?void 0:b.Facility,DeleteHandler:()=>g(b==null?void 0:b.Id)},b==null?void 0:b.Id)))]})})},vi=async(l,s,t,h,y,c)=>{const N={};y&&(N.statusId=y),c&&(N.search=c),s&&(N.size=s),t&&(N.page=t);const g=new URLSearchParams(N);return await pe.get(`/api/v1/protected/submodules/facilities/${l}/jobs/list?${g}`,{signal:h.signal})},Si=({handleAddJob:l,search:s,handleSearch:t,state:h,dispatch:y,total:c})=>{var g,i;const N=o=>{if(o===null){y({type:wl.SetSelectedJobStatus,payload:null});return}y({type:wl.SetSelectedJobStatus,payload:{Id:o==null?void 0:o.value,Status:o==null?void 0:o.label}})};return e.jsxs(e.Fragment,{children:[e.jsxs("h2",{className:"page-content-header job-title",children:["Jobs ",e.jsxs("span",{className:"job-count",children:["(",c,")"]})]}),e.jsxs("div",{className:"d-flex mb-3 search-button",style:{gap:"10px"},children:[e.jsxs("div",{className:"search-bar-wrapper w-100",children:[e.jsx(p,{placeholder:"Search Here",value:s,onChange:o=>t(o.target.value)}),e.jsx("img",{src:Hs,alt:"search"})]}),e.jsx("div",{className:"facility-job-search ps-0",children:e.jsx(je,{submodule:"jobs",module:"facilities",action:["GET","PUT"],children:e.jsx(_e,{styles:ya,id:"jobStatus",name:"jobStatus",className:"custom-select-placeholder custom-select-job",options:h.jobStatus.map(o=>({value:o==null?void 0:o.Id,label:o==null?void 0:o.Status})),value:h.selectedJobStatus?{value:(g=h.selectedJobStatus)==null?void 0:g.Id,label:(i=h.selectedJobStatus)==null?void 0:i.Status}:null,placeholder:"Select Job Status",noOptionsMessage:()=>"",onChange:o=>N(o),isSearchable:!1,isClearable:!0})})}),e.jsx("div",{className:"table-navigate",children:e.jsx(je,{submodule:"jobs",module:"facilities",action:["GET","POST"],children:e.jsx(le,{className:"primary-btn ms-0 new-job-btn",style:{marginLeft:"0 !important"},onClick:()=>l(),children:"Add New"})})})]})]})},Ci=({JobData:l,state:s})=>{var n,b,S,a,x,d;const t=gs(),h=He(),[y,c]=r.useState(null),N=nl("facilities","jobs",["GET","PUT"]);r.useEffect(()=>{l&&Object.keys(l).length>=0&&c(l==null?void 0:l.JobStatus)},[l]);const g=C=>{var f;if(C===null){c(null);return}C&&(c({Id:C==null?void 0:C.value,Status:C==null?void 0:C.label}),za((f=l==null?void 0:l.Facility)==null?void 0:f.Id,l==null?void 0:l.Id,C==null?void 0:C.value).then(O=>{E("success","JobStatus Updated Successfully")}).catch(O=>{var M,k;console.error(O),E("error",((k=(M=O==null?void 0:O.response)==null?void 0:M.data)==null?void 0:k.message)||"Something went wrong")}))},i=()=>{var C;ja(),t(`/view/facility/${Number(h.Id)}/job/${l==null?void 0:l.Id}`,{state:{jobId:l==null?void 0:l.Id,facilityId:(C=l==null?void 0:l.Facility)==null?void 0:C.Id}})},o=()=>{var C;t(`/facility/${Number(h.Id)}/jobs/edit/${l==null?void 0:l.Id}`,{state:{jobId:l==null?void 0:l.Id,facilityId:(C=l==null?void 0:l.Facility)==null?void 0:C.Id}})};return e.jsx(e.Fragment,{children:l&&Object.values(l).length>=0&&l!==void 0&&e.jsxs("div",{className:"job-template-wrapper  w-100",children:[e.jsxs("div",{className:"job-temp-header applied-jobs",children:[e.jsx("div",{className:"d-flex justify-content-between",children:e.jsx("div",{className:"d-flex align-items-center flex-wrap",style:{gap:"8px"},children:e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"job-title-card-heading text-capitalize",children:l==null?void 0:l.Title}),e.jsx(p,{className:"header-input facility-job-header-input ms-0",disabled:!0,value:`JID-${l==null?void 0:l.Id}`}),e.jsx("div",{className:"facilityjob-custom-dropdown",children:e.jsx(je,{submodule:"jobs",module:"facilities",action:["GET","PUT"],children:e.jsx(_e,{styles:Ga,id:"jobStatus",name:"jobStatus",className:"custom-select-placeholder custom-select-job",isDisabled:!N,options:s.jobStatus.map(C=>({value:C==null?void 0:C.Id,label:C==null?void 0:C.Status})),value:y?{value:y==null?void 0:y.Id,label:y==null?void 0:y.Status}:null,placeholder:"Select Job Status",noOptionsMessage:()=>"",onChange:C=>g(C),isSearchable:!1,isClearable:!1})})})]})})}),e.jsxs("div",{children:[e.jsxs("span",{className:"dollar-amount",children:["$",(n=l==null?void 0:l.TotalGrossPay)==null?void 0:n.toFixed(2)]}),e.jsx("span",{className:"week",children:"/week"})]})]}),e.jsxs("div",{className:"d-flex justify-content-between facility-job-wrapper",children:[e.jsxs("div",{className:"d-flex",children:[e.jsx("img",{src:pa}),e.jsx("p",{className:"hospital-text text-capitalize",children:(b=l==null?void 0:l.Facility)==null?void 0:b.Name}),e.jsx("img",{src:ga}),e.jsx("p",{className:"hospital-text text-capitalize",children:(S=l==null?void 0:l.Facility)==null?void 0:S.Address})]}),e.jsxs("div",{children:[e.jsx("span",{className:"bill-rate",children:"Bill Rate."}),e.jsxs("span",{className:"bill-rate-rating",children:["$",(a=l==null?void 0:l.BillRate)==null?void 0:a.toFixed(2)]})]})]}),e.jsxs("div",{className:"d-flex flex-wrap",children:[e.jsxs("p",{children:[e.jsx("span",{className:"temp-details",children:"Profession:"}),e.jsx("span",{className:"temp-answer",children:(x=l==null?void 0:l.JobProfession)==null?void 0:x.Profession})]}),e.jsxs("p",{children:[e.jsx("span",{className:"temp-details",children:"Specialty:"}),e.jsx("span",{className:"temp-answer",children:(d=l==null?void 0:l.JobSpeciality)==null?void 0:d.Speciality})]}),e.jsxs("p",{children:[e.jsx("span",{className:"temp-details",children:"Start Date:"}),e.jsx("span",{className:"temp-answer",children:Te(l==null?void 0:l.ContractStartDate)})]}),e.jsxs("p",{children:[e.jsx("span",{className:"temp-details",children:"Contract:"}),e.jsxs("span",{className:"temp-answer",children:[" ",l==null?void 0:l.ContractLength," Weeks"]})]}),e.jsxs("p",{children:[e.jsx("span",{className:"temp-details",children:"Experience:"}),e.jsxs("span",{className:"temp-answer",children:[" ",l==null?void 0:l.MinYearsExperience," Years"]})]}),e.jsxs("p",{children:[e.jsx("span",{className:"temp-details",children:"Openings:"}),e.jsx("span",{className:"temp-answer",children:l==null?void 0:l.NoOfOpenings})]}),e.jsxs("p",{children:[e.jsx("span",{className:"temp-details",children:"Job Applicants:"}),e.jsx("span",{className:"temp-answer",children:"--"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"temp-details",children:"Date Posted:"}),e.jsx("span",{className:"temp-answer",children:Te(l==null?void 0:l.CreatedOn)})]})]}),e.jsxs("div",{className:"btn-wrapper text-end",children:[e.jsx(je,{submodule:"jobs",module:"facilities",action:["GET","GET"],children:e.jsx(le,{className:"primary-btn",onClick:o,children:"Edit Job"})}),e.jsx(je,{submodule:"jobs",module:"facilities",action:["GET","GET"],children:e.jsx(le,{className:"primary-btn",onClick:i,children:"View Job"})})]})]})})},Di=()=>{var f,O,M;const l=gs(),s=He(),[t,h]=r.useState(!1),[y,c]=r.useState(""),N=r.useRef(1),[g,i]=r.useState({total:0,data:[]}),[o,n]=r.useReducer(Wa,Va),[b,S]=r.useState(!1),a=()=>{l("/jobs/create",{state:{facilityId:Number(s==null?void 0:s.Id)}})},x=k=>{c(k)};r.useEffect(()=>{Qa().then(k=>{var w;n({type:wl.SetJobStatus,payload:(w=k.data)==null?void 0:w.data})}).catch(k=>{var w,F;console.error(k),E("error",((F=(w=k==null?void 0:k.response)==null?void 0:w.data)==null?void 0:F.message)||"Something went wrong")})},[]);const d=new AbortController,C=xs(async()=>{var k,w,F,q,H,Q,B;try{h(!0);const R=await vi(Number(s==null?void 0:s.Id),4,N.current,d,(k=o.selectedJobStatus)==null?void 0:k.Id,y);N.current===1?i({data:((F=(w=R.data)==null?void 0:w.data[0])==null?void 0:F.rows)||[],total:(H=(q=R.data)==null?void 0:q.data[0])==null?void 0:H.count}):i($=>{var T,v,U,Y,J;const D=[...$.data,...(U=(v=(T=R.data)==null?void 0:T.data[0])==null?void 0:v.rows)==null?void 0:U.filter(V=>!$.data.some(A=>(A==null?void 0:A.Id)===(V==null?void 0:V.Id)))];return{total:(J=(Y=R.data)==null?void 0:Y.data[0])==null?void 0:J.count,data:D}}),N.current+=1,h(!1)}catch(R){if(d.signal.aborted){S(!0);return}console.error(R),h(!1),E("error",((B=(Q=R==null?void 0:R.response)==null?void 0:Q.data)==null?void 0:B.message)||"Something went wrong")}},200);return r.useEffect(()=>(N.current=1,C(),()=>d.abort()),[b,y,o.selectedJobStatus]),e.jsx("div",{className:"facility-main-card-section",children:e.jsxs(ys,{id:"custom-scrollable-target",children:[e.jsx(Si,{handleAddJob:a,search:y,handleSearch:x,state:o,dispatch:n,total:g.total}),g&&((f=g.data)==null?void 0:f.length)>0?e.jsxs("div",{children:[e.jsx(Xa,{dataLength:g.data.length,next:C,hasMore:g.total>((O=g.data)==null?void 0:O.length),loader:"",scrollableTarget:"custom-scrollable-target",children:g&&((M=g.data)==null?void 0:M.map((k,w)=>e.jsx(Ci,{JobData:k,state:o},w)))}),t&&e.jsx(de,{styles:{top:"40%",left:"0%"}})]}):e.jsx(Za,{msg:"There are no records to display"})]})})},Ta=async()=>await pe.get("/api/v1/protected/master/activity-category"),Ri=async(l,s,t)=>await pe.post(`/api/v1/protected/submodules/facilities/${l}/notes/create/activity`,{categoryId:s,notes:t}),Ia=async(l,s,t,h)=>await pe.post(`/api/v1/protected/submodules/facilities/${l}/notes/create/email`,{toEmail:s,subject:t,body:h}),Ei=async()=>await pe.get("/api/v1/protected/master/activity-types"),Ti=async(l,s,t,h,y,c,N)=>{var n;const g={};s&&(g.size=s),t&&(g.page=t),h&&(g.search=h),y&&(g.typeId=y),c&&(g.startDate=c),N&&(g.endDate=N);const i=(n=new URLSearchParams(g))==null?void 0:n.toString();return await pe.get(`/api/v1/protected/submodules/facilities/${l}/notes/list?${i}`)},Ii=async(l,s)=>await pe.delete(`/api/v1/protected/submodules/facilities/${l}/notes/delete/activity/${s}`),ki=async(l,s,t,h)=>await pe.put(`/api/v1/protected/submodules/facilities/${l}/notes/edit/activity/${s}`,{categoryId:t,notes:h}),wi=async(l,s,t,h,y)=>{var i;const c={};s&&(c.search=s),t&&(c.typeId=t),h&&(c.startDate=h),y&&(c.endDate=y);const N=(i=new URLSearchParams(c))==null?void 0:i.toString();return await pe.get(`/api/v1/protected/submodules/facilities/${l}/notes/export-as-csv?${N}`)},Fi=({isOpen:l,toggle:s,facilityId:t,editData:h,readOnly:y,fetchNotes:c})=>{var k;const{register:N,handleSubmit:g,formState:{errors:i},setValue:o}=ms({resolver:us(Na)}),[n,b]=r.useState([]),[S,a]=r.useState(null),x=ds(Ol),[d,C]=r.useState(!1);r.useEffect(()=>{var w,F,q;h&&((w=h==null?void 0:h.ActivityCategory)==null?void 0:w.Id)!==void 0&&a(h?{value:(F=h==null?void 0:h.ActivityCategory)==null?void 0:F.Id,label:(q=h==null?void 0:h.ActivityCategory)==null?void 0:q.Category}:null),o("notes",h==null?void 0:h.Content)},[h==null?void 0:h.ActivityCategory]),r.useEffect(()=>{O()},[]);const f=w=>{a(w&&{value:w.value,label:w.label})},O=async()=>{var w,F,q;try{C(!0);const H=await Ta();b((w=H.data)==null?void 0:w.data),C(!1)}catch(H){console.error(H),C(!1),E("error",((q=(F=H==null?void 0:H.response)==null?void 0:F.data)==null?void 0:q.message)||"Something went wrong")}},M=async w=>{var F,q;if(!S)return E("error","Please Select Category");try{C(!0);const H=await ki(Number(t),h==null?void 0:h.Id,S==null?void 0:S.value,w.notes);E("success","Activity Edited Successfully"),C(!1),c(),s()}catch(H){console.error(H),C(!1),E("error",((q=(F=H==null?void 0:H.response)==null?void 0:F.data)==null?void 0:q.message)||"Something went wrong")}};return e.jsx(e.Fragment,{children:e.jsxs(we,{isOpen:l,toggle:s,centered:!0,size:"lg",onClosed:s,children:[e.jsx(Be,{toggle:s,children:`${y?"View Activity":"Edit Activity"}`}),e.jsx(Fe,{children:e.jsxs(Ze,{onSubmit:g(M),children:[d&&e.jsx(de,{}),e.jsxs(ge,{children:[e.jsxs(m,{md:"6",className:"col-group",children:[e.jsx(u,{children:"User"}),e.jsx(p,{id:"user",placeholder:"",disabled:!0,value:x&&z(x),className:"user-field-color"})]}),e.jsxs(m,{md:"6",className:"col-group",children:[e.jsx(u,{children:"Select Category"}),e.jsx(_e,{id:"category",styles:bl,name:"category",placeholder:"Select Category",noOptionsMessage:()=>"No Category Found",isClearable:!0,isSearchable:!0,options:n==null?void 0:n.map(w=>({value:w==null?void 0:w.Id,label:w==null?void 0:w.Category})),onChange:f,value:S,isDisabled:y})]})]}),e.jsx(ge,{children:e.jsxs(m,{md:"12",className:"col-group",children:[e.jsx(u,{children:"Notes"}),e.jsx(ps,{id:"notesTextArea",className:"fixed-height-textarea",disabled:y,placeholder:"Notes",invalid:!!i.notes,...N("notes")}),e.jsx(fe,{children:(k=i.notes)==null?void 0:k.message})]})}),e.jsxs("div",{className:"btn-wrapper",children:[e.jsx(je,{submodule:"notes",module:"facilities",action:["GET","PUT"],children:e.jsx(le,{className:"primary-btn",disabled:y,children:"Save"})}),e.jsx(le,{className:"secondary-btn",onClick:s,children:"Cancel"})]})]})})]})})},Bi=({isOpen:l,toggle:s,facilityId:t,editData:h,readOnly:y})=>{var d,C;const{register:c,handleSubmit:N,formState:{errors:g},setValue:i}=ms({resolver:us(fa)}),[o,n]=r.useState(""),[b,S]=r.useState(!1);r.useEffect(()=>{h&&(h==null?void 0:h.ActivityCategory)!==void 0&&(h!=null&&h.ToEmail)&&(h!=null&&h.Subject)&&(i("toEmail",h==null?void 0:h.ToEmail),i("subject",h==null?void 0:h.Subject),n(h==null?void 0:h.Content))},[h,h==null?void 0:h.ActivityCategory,i]);const a=f=>{n(f)},x=async f=>{var O,M;if(o){if(typeof o!="string")return E("error","Email body should be of type string");if(o.length<2||o.length>1e3)return E("error","Email body must be between 2 to 1000 characters")}else return E("error","Email body is required");try{S(!0);const k=await Ia(Number(t),f.toEmail,f.subject,o);E("success","Email activity Created Successfully"),S(!1),s()}catch(k){console.error(k),S(!1),E("error",((M=(O=k==null?void 0:k.response)==null?void 0:O.data)==null?void 0:M.message)||"Something went wrong")}};return e.jsx(e.Fragment,{children:e.jsxs(we,{isOpen:l,toggle:s,centered:!0,size:"xl",onClosed:s,children:[e.jsx(Be,{toggle:s,children:" Compose Email "}),e.jsxs(Fe,{children:[b&&e.jsx(de,{}),e.jsxs(Ze,{onSubmit:N(x),children:[e.jsxs(ge,{children:[e.jsxs(m,{md:"6",className:"col-group",children:[e.jsx(u,{children:"From"}),e.jsx(p,{id:"from",placeholder:"",disabled:!0,defaultValue:h==null?void 0:h.FromEmail})]}),e.jsxs(m,{md:"6",className:"col-group",children:[e.jsx(u,{children:"To"}),e.jsx(p,{id:"to",placeholder:"",disabled:y,invalid:!!g.toEmail,...c("toEmail")}),e.jsx(fe,{children:(d=g.toEmail)==null?void 0:d.message})]}),e.jsxs(m,{md:"12",className:"col-group",children:[e.jsx(u,{children:"Subject"}),e.jsx(p,{id:"Subject",placeholder:"Subject",disabled:y,invalid:!!g.subject,...c("subject")}),e.jsx(fe,{children:(C=g.subject)==null?void 0:C.message})]}),e.jsxs(m,{xxl:"12",xl:"12",lg:"12",className:"col-group",children:[e.jsx(u,{className:"",children:"Email"}),e.jsx(zs,{content:o,disabled:y,handleChange:f=>a(f)})]})]}),e.jsxs("div",{className:"btn-wrapper",children:[e.jsx(je,{submodule:"notes",module:"facilities",action:["GET","PUT"],children:e.jsxs(le,{className:"primary-btn",disabled:!0,children:[" ","Save"]})}),e.jsx(le,{className:"secondary-btn",onClick:()=>s(),children:"Cancel"})]})]})]})]})})},Mi=({isOpen:l,toggle:s})=>e.jsx(e.Fragment,{children:e.jsxs(we,{isOpen:l,toggle:s,centered:!0,size:"lg",onClosed:s,children:[e.jsx(Be,{toggle:s,children:" Send New Message  "}),e.jsx(Fe,{children:e.jsxs(Ze,{children:[e.jsxs(ge,{children:[e.jsxs(m,{md:"6",className:"col-group",children:[e.jsx(u,{children:"From"}),e.jsx(p,{id:"from",placeholder:"Brittany Persutti (828-446-3147)",disabled:!0})]}),e.jsxs(m,{md:"6",className:"col-group",children:[e.jsx(u,{children:"To"}),e.jsxs("div",{className:"split-input-container",children:[e.jsx(p,{id:"phone",placeholder:"",disabled:!1,className:"split-input",value:"828-446-3147"}),e.jsx("div",{className:"input-divider"}),e.jsx(p,{id:"name",className:"split-input",placeholder:"",value:"Dona Harrison"})]})]})]}),e.jsx(ge,{children:e.jsxs(m,{md:"12",className:"col-group",children:[e.jsx(u,{children:"Message"}),e.jsx(ps,{disabled:!1,id:"messageTextArea",className:"fixed-height-textarea",placeholder:"Message"})]})}),e.jsxs("div",{className:"btn-wrapper",children:[e.jsx(je,{submodule:"notes",module:"facilities",action:["GET","PUT"],children:e.jsx(le,{className:"primary-btn",children:"  Save "})}),e.jsx(le,{className:"secondary-btn",onClick:()=>{},children:"Cancel"})]})]})})]})}),Oi=({facId:l,fetchNotes:s,data:t})=>{var O,M,k,w,F,q,H,Q,B,R,$,D,T,v;const[h,y]=r.useState(!1),[c,N]=r.useState(!1),[g,i]=r.useState(),[o,n]=r.useState(!1),b=ds(Ka),S=U=>{switch(U){case"Profile Activity":return"profile-activity";case"Manual Activity":return"activity";case"Emails Log":return"email";case"SMS Log":return"sms";default:return""}},a=U=>{const Y=new Date(U),J={month:"2-digit",day:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};return new Intl.DateTimeFormat("en-US",J).format(Y)},x=async U=>{var Y,J;try{const V=await Ii(l,U);E("success","Activity deleted successfully"),s()}catch(V){console.error(V),E("error",((J=(Y=V==null?void 0:V.response)==null?void 0:Y.data)==null?void 0:J.message)||"Something went wrong")}finally{y(!1)}},d=U=>{const Y=b==null?void 0:b.find(J=>(J==null?void 0:J.Id)===U);N(!0),n(!1),i(Y)},C=U=>{const Y=b==null?void 0:b.find(J=>(J==null?void 0:J.Id)===U);N(!0),n(!0),i(Y)},f=S((O=t==null?void 0:t.ActivityType)==null?void 0:O.Type);return e.jsxs(e.Fragment,{children:[h&&e.jsx(de,{}),t&&Object.keys(t).length>0&&e.jsxs("div",{className:"job-template-wrapper note-wrapper w-100",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("div",{className:"activity-header",children:e.jsx("span",{className:`note-header-input text-capitalize ${f}`,children:f})}),e.jsxs("div",{className:"activity-buttons",children:[((M=t.ActivityType)==null?void 0:M.Type)!=="Profile Activity"&&e.jsx(je,{module:"facilities",submodule:"notes",action:["GET","GET"],children:e.jsx(ll,{onEye:()=>C(t==null?void 0:t.Id)})}),t&&((k=t==null?void 0:t.ActivityType)==null?void 0:k.Type)==="Manual Activity"&&e.jsx(je,{module:"facilities",submodule:"notes",action:["GET","PUT"],children:e.jsx(Ns,{onEdit:()=>d(t==null?void 0:t.Id)})}),t&&((w=t==null?void 0:t.ActivityType)==null?void 0:w.Type)==="Manual Activity"&&e.jsx(je,{module:"facilities",submodule:"notes",action:["GET","DELETE"],children:e.jsx(qs,{onDelete:()=>x(t==null?void 0:t.Id)})})]})]}),e.jsxs("div",{className:"card-info",children:[t&&((F=t==null?void 0:t.ActivityType)==null?void 0:F.Type)==="Manual Activity"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"card-details",children:e.jsx("span",{className:"card-date",children:a(t==null?void 0:t.CreatedOn)})}),e.jsxs("p",{className:"card-details",children:[e.jsx("span",{className:"card-label",children:"User:"}),e.jsx("span",{className:"card-value text-capitalize m-2",children:`${(q=t==null?void 0:t.FromUser)==null?void 0:q.FirstName} ${(H=t==null?void 0:t.FromUser)==null?void 0:H.LastName}`})]}),e.jsxs("p",{className:"card-details",children:[e.jsx("span",{className:"card-label",children:"Category:"}),e.jsx("span",{className:"card-value m-2",children:(Q=t==null?void 0:t.ActivityCategory)==null?void 0:Q.Category})]}),e.jsxs("p",{className:"card-details",children:[e.jsx("span",{className:"card-label",children:"Activity:"}),e.jsx("span",{className:"card-value m-2",children:(B=t==null?void 0:t.ActivityType)==null?void 0:B.Type})]}),e.jsxs("p",{className:"card-details",children:[e.jsx("span",{className:"card-label",children:"Notes:"}),e.jsx("span",{className:"card-value m-2",children:t==null?void 0:t.Content})]}),g&&e.jsx(Fi,{isOpen:c,toggle:()=>N(!1),facilityId:l,editData:g,readOnly:o,fetchNotes:s})]}),t&&((R=t==null?void 0:t.ActivityType)==null?void 0:R.Type)==="Profile Activity"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"card-details",children:e.jsx("span",{className:"card-date",children:a(t==null?void 0:t.CreatedOn)})}),e.jsxs("p",{className:"card-details",children:[e.jsx("span",{className:"card-label",children:"User:"}),e.jsx("span",{className:"card-value text-capitalize m-2",children:`${($=t==null?void 0:t.FromUser)==null?void 0:$.FirstName} ${(D=t==null?void 0:t.FromUser)==null?void 0:D.LastName}`})]}),e.jsxs("p",{className:"card-details",children:[e.jsx("span",{className:"card-label",children:"Notes:"}),e.jsx("span",{className:"card-value m-2",children:t==null?void 0:t.Content})]})]}),t&&((T=t==null?void 0:t.ActivityType)==null?void 0:T.Type)==="Emails Log"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"card-details",children:e.jsx("span",{className:"card-date",children:a(t==null?void 0:t.CreatedOn)})}),e.jsxs("p",{className:"card-details",children:[e.jsx("span",{className:"card-label",children:"From:"}),e.jsx("span",{className:"card-value m-2",children:t==null?void 0:t.FromEmail})]}),e.jsxs("p",{className:"card-details",children:[e.jsx("span",{className:"card-label",children:"To:"}),e.jsx("span",{className:"card-value m-2",children:t==null?void 0:t.ToEmail})]}),e.jsxs("p",{className:"card-details",children:[e.jsx("span",{className:"card-label",children:"Subject:"}),e.jsx("span",{className:"card-value text-capitalize m-2",children:t==null?void 0:t.Subject})]}),e.jsx("div",{className:"react-quill-wr",children:e.jsx(_a,{value:t==null?void 0:t.Content,modules:{toolbar:[]},readOnly:!0,theme:"snow"})}),g&&e.jsx(Bi,{isOpen:c,toggle:()=>N(!1),facilityId:l,editData:g,readOnly:o})]}),t&&((v=t==null?void 0:t.ActivityType)==null?void 0:v.Type)==="SMS Log"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"card-details",children:e.jsx("span",{className:"card-date",children:a(t==null?void 0:t.CreatedOn)})}),e.jsxs("p",{className:"card-details",children:[e.jsx("span",{className:"card-label",children:"From:"}),e.jsx("span",{className:"card-value m-2",children:t==null?void 0:t.FromMobile})]}),e.jsxs("p",{className:"card-details",children:[e.jsx("span",{className:"card-label",children:"To:"}),e.jsx("span",{className:"card-value m-2",children:t==null?void 0:t.ToMobile})]}),e.jsxs("p",{className:"card-details",children:[e.jsx("span",{className:"card-label",children:"Message:"}),e.jsx("span",{className:"card-value text-capitalize m-2",children:t==null?void 0:t.Subject})]}),g&&e.jsx(Mi,{isOpen:c,toggle:()=>N(!1)})]})]})]})]})},Ji=({isOpen:l,toggle:s,facilityId:t,fetchNotes:h})=>{var f;const{register:y,handleSubmit:c,formState:{errors:N}}=ms({resolver:us(Na)}),[g,i]=r.useState([]),[o,n]=r.useState(null),b=ds(Ol),[S,a]=r.useState(!1),x=O=>{n(O&&{value:O.value,label:O.label})},d=async()=>{var O,M,k;try{a(!0);const w=await Ta();i((O=w.data)==null?void 0:O.data),a(!1)}catch(w){console.error(w),a(!1),E("error",((k=(M=w==null?void 0:w.response)==null?void 0:M.data)==null?void 0:k.message)||"Something went wrong")}};r.useEffect(()=>{d()},[]);const C=async O=>{var M,k;if(!o)return E("error","Please Select Category");try{a(!0);const w=await Ri(Number(t),o==null?void 0:o.value,O.notes);E("success","Activity Created Successfully"),a(!1),h(),s()}catch(w){console.error(w),a(!1),E("error",((k=(M=w==null?void 0:w.response)==null?void 0:M.data)==null?void 0:k.message)||"Something went wrong")}};return e.jsx(e.Fragment,{children:e.jsxs(we,{isOpen:l,toggle:s,centered:!0,size:"lg",onClosed:s,children:[e.jsx(Be,{toggle:s,children:" Add Activity"}),e.jsx(Fe,{children:e.jsxs(Ze,{onSubmit:c(C),children:[S&&e.jsx(de,{}),e.jsxs(ge,{children:[e.jsxs(m,{md:"6",className:"col-group",children:[e.jsx(u,{children:"User"}),e.jsx(p,{id:"user",placeholder:"",disabled:!0,defaultValue:b&&z(b),className:"user-field-color"})]}),e.jsxs(m,{md:"6",className:"col-group",children:[e.jsx(u,{children:"Select Category"}),e.jsx(_e,{id:"category",styles:bl,name:"category",placeholder:"Select Category",noOptionsMessage:()=>"No Category Found",isClearable:!0,isSearchable:!0,options:g==null?void 0:g.map(O=>({value:O==null?void 0:O.Id,label:O==null?void 0:O.Category})),onChange:x,value:o})]})]}),e.jsx(ge,{children:e.jsxs(m,{md:"12",className:"col-group",children:[e.jsx(u,{children:"Notes"}),e.jsx(ps,{id:"notesTextArea",className:"fixed-height-textarea",disabled:!1,placeholder:"Notes",invalid:!!N.notes,...y("notes")}),e.jsx(fe,{children:(f=N.notes)==null?void 0:f.message})]})}),e.jsxs("div",{className:"btn-wrapper",children:[e.jsx(je,{submodule:"notes",module:"facilities",action:["GET","POST"],children:e.jsx(le,{className:"primary-btn",children:"Save"})}),e.jsx(le,{className:"secondary-btn",onClick:s,children:"Cancel"})]})]})})]})})},Hi=({isOpen:l,toggle:s,facilityId:t,fetchNotes:h})=>{var x,d;const{register:y,handleSubmit:c,formState:{errors:N}}=ms({resolver:us(fa)}),[g,i]=r.useState(""),[o,n]=r.useState(!1),b=ds(xa),S=C=>{i(C)},a=async C=>{var f,O;if(g){if(typeof g!="string")return E("error","Email body should be of type string");if(g.length<2||g.length>1e3)return E("error","Email body must be between 2 to 1000 characters")}else return E("error","Email body is required");try{n(!0);const M=await Ia(Number(t),C.toEmail,C.subject,g);E("success","Email activity Created Successfully"),n(!1),h(),s()}catch(M){console.error(M),n(!1),E("error",((O=(f=M==null?void 0:M.response)==null?void 0:f.data)==null?void 0:O.message)||"Something went wrong")}};return e.jsx(e.Fragment,{children:e.jsxs(we,{isOpen:l,toggle:s,centered:!0,size:"xl",onClosed:s,children:[e.jsx(Be,{toggle:s,children:" Compose Email "}),e.jsxs(Fe,{children:[o&&e.jsx(de,{}),e.jsxs(Ze,{onSubmit:c(a),children:[e.jsxs(ge,{children:[e.jsxs(m,{md:"6",className:"col-group",children:[e.jsx(u,{children:"From"}),e.jsx(p,{id:"from",placeholder:"",disabled:!0,defaultValue:b&&b})]}),e.jsxs(m,{md:"6",className:"col-group",children:[e.jsx(u,{children:"To"}),e.jsx(p,{id:"to",placeholder:"",disabled:!1,invalid:!!N.toEmail,...y("toEmail")}),e.jsx(fe,{children:(x=N.toEmail)==null?void 0:x.message})]}),e.jsxs(m,{md:"12",className:"col-group",children:[e.jsx(u,{children:"Subject"}),e.jsx(p,{id:"Subject",placeholder:"Subject",disabled:!1,invalid:!!N.subject,...y("subject")}),e.jsx(fe,{children:(d=N.subject)==null?void 0:d.message})]}),e.jsxs(m,{xxl:"12",xl:"12",lg:"12",className:"col-group",children:[e.jsx(u,{className:"",children:"Email"}),e.jsx(zs,{content:g,handleChange:C=>S(C)})]})]}),e.jsxs("div",{className:"btn-wrapper",children:[e.jsx(je,{submodule:"notes",module:"facilities",action:["GET","POST"],children:e.jsx(le,{className:"primary-btn",children:" Save"})}),e.jsx(le,{className:"secondary-btn",onClick:()=>s(),children:"Cancel"})]})]})]})]})})},Li=({msg:l,styles:s})=>e.jsx("p",{style:{textAlign:"center",...s},children:l}),Pi=()=>{const[l,s]=r.useState(null),[t,h]=r.useState(null),[y,c]=r.useState(null),[N,g]=r.useState(!1),[i,o]=r.useState(!1),[,n]=r.useState(!1),[b,S]=r.useState(!1),[a,x]=r.useState(!1),[d,C]=r.useState(""),[f,O]=r.useState(1),[M,k]=r.useState(10),[w,F]=r.useState(0),[q,H]=r.useState(0),[Q,B]=r.useState(1),[R,$]=r.useState([]),[D,T]=r.useState(!1),[v,U]=r.useState([]),Y=He(),J=nl("facilities","notes",["GET","POST"]),V=()=>S(me=>!me),A=async()=>{var me,Xe,Pe;try{T(!0);const qe=await Ei();$((me=qe.data)==null?void 0:me.data)}catch(qe){console.error(qe),E("error",((Pe=(Xe=qe==null?void 0:qe.response)==null?void 0:Xe.data)==null?void 0:Pe.message)||"Something went wrong")}finally{T(!1)}};r.useEffect(()=>{A()},[]);const P=r.useCallback(async()=>{var me,Xe,Pe,qe;try{if(y!==null&&t!==null&&y<t){E("error","End date must be greater than start date"),T(!1);return}T(!0);const I=await Ti(Number(Y==null?void 0:Y.Id),M,d.length>0?Q:f,d,l==null?void 0:l.value,t&&t?Ce(t==null?void 0:t.toString()):"",y&&y?Ce(y==null?void 0:y.toString()):"");if(I.status===200){const W=(me=I.data)==null?void 0:me.data[0];if(W){const{count:L,rows:Z}=W;H(L),U(Z),F(Math.ceil(L/M))}else E("error","Response data format incorrect")}else E("error",((Xe=I==null?void 0:I.data)==null?void 0:Xe.message)||"Something went wrong")}catch(I){console.error(I),E("error",((qe=(Pe=I==null?void 0:I.response)==null?void 0:Pe.data)==null?void 0:qe.message)||"Something went wrong")}finally{T(!1)}},[Q,y,Y==null?void 0:Y.Id,f,d,l==null?void 0:l.value,M,t]),se=async me=>{d.length>0?B(me):O(me)};r.useEffect(()=>{P()},[P]);const ve=[{value:1,label:"Activity"},{value:2,label:"Email"}],ye=xs(async()=>{var me,Xe;try{T(!0);const Pe=await wi(Number(Y==null?void 0:Y.Id),d,l==null?void 0:l.value,t&&t?Ce(t==null?void 0:t.toString()):"",y&&y?Ce(y==null?void 0:y.toString()):"");E("success","Export request sent succesfully")}catch(Pe){console.error(Pe),T(!1),E("error",((Xe=(me=Pe==null?void 0:Pe.response)==null?void 0:me.data)==null?void 0:Xe.message)||"Something went wrong")}},1e3),ce=me=>{s(me?{value:me==null?void 0:me.value,label:me==null?void 0:me.label}:null)},xe=me=>{if(me)switch(me.value){case 1:g(!0);break;case 2:o(!0);break;case 3:break;default:g(!1),o(!1),s(null);break}else g(!1),o(!1),s(null)},Ne=()=>n(!0),_=()=>n(!1),re=me=>h(me),cs=me=>c(me),Je=me=>C(me),be=()=>ae(!0),Ae=()=>ae(!1),[he,ae]=r.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"facility-main-card-section",children:e.jsxs(ys,{id:"custom-scrollable-target",children:[e.jsxs("h2",{className:"page-content-header",children:["Notes & Activity ",e.jsx("span",{})]}),e.jsxs("div",{className:"d-flex mb-3 align-items-center search-button template-header",style:{gap:"10px"},children:[e.jsxs("div",{className:"search-bar-wrapper w-100",children:[e.jsx(p,{placeholder:"Search Here",value:d,onChange:me=>Je(me.target.value)}),e.jsx("img",{src:Hs,alt:"search"})]}),e.jsx("div",{className:"activity-search",children:e.jsx(_e,{styles:ya,className:"custom-select-activity",id:"activity",name:"activity",options:R==null?void 0:R.map(me=>({value:me==null?void 0:me.Id,label:me==null?void 0:me.Type})),value:l,onChange:ce,placeholder:"Show All Activities",isClearable:!0,isSearchable:!0,noOptionsMessage:()=>"No options available"})}),e.jsxs("div",{className:"date-range notes-range notes",children:[e.jsx(Ie,{dateFormat:"dd-MM-yyyy",isClearable:!0,placeholderText:"--",onChange:re,selected:t,customInput:e.jsxs("div",{className:"custom-calendar-wrapper",children:[e.jsx(p,{className:"calendar-placeholder",placeholder:"Start Date",value:t&&t?Te(t==null?void 0:t.toString()):""}),!t&&e.jsx("img",{src:ke,className:"calendar-icon"})]})}),e.jsx(Ie,{dateFormat:"dd-MM-yyyy",isClearable:!0,onChange:cs,placeholderText:"----",selected:y,customInput:e.jsxs("div",{className:"custom-calendar-wrapper",children:[e.jsx(p,{className:"calendar-placeholder",placeholder:"End Date",value:y&&y?Te(y==null?void 0:y.toString()):""}),!y&&e.jsx("img",{src:ke,className:"calendar-icon"})]})}),e.jsx("div",{onMouseEnter:be,onMouseLeave:Ae,className:"header-search-icon",children:e.jsx(ea,{color:he?"#FFF":"#717B9E"})})]}),v.length>0&&e.jsx("div",{className:"d-flex note-wrapper note-right-button",children:e.jsxs(e.Fragment,{children:[e.jsx(je,{submodule:"notes",module:"facilities",action:["GET","GET"],children:e.jsx("button",{className:"note-btn",onMouseEnter:Ne,onMouseLeave:_,onClick:()=>x(!a)})}),e.jsxs(Aa,{className:"jobs-dropdown-content export-option btn-notes",isOpen:b,toggle:V,children:[e.jsxs(el,{className:"drop-down",caret:!0,onMouseEnter:Ne,onMouseLeave:_,children:[e.jsx("p",{className:"material-symbols-outlined mb-0 ms-2",children:"download"}),e.jsx("span",{className:"icon-shift ms-0",children:"Export"})]}),e.jsx(sl,{children:e.jsx("div",{className:"jobs-dropdown",children:e.jsx("p",{className:"jobs-dropdown-heading",onClick:ye,children:"Export as CSV"})})})]})]})}),e.jsx(je,{submodule:"notes",module:"facilities",action:["GET","POST"],children:e.jsx(_e,{styles:et,id:"addnew",name:"addnew",options:ve,onChange:xe,placeholder:"Add New",isClearable:!1,isSearchable:!1,className:"select-btn",noOptionsMessage:()=>"No options available",isDisabled:!J})})]}),D&&v.length===0&&e.jsx(de,{styles:{top:"20%",left:"12%"}}),v.length!==0?e.jsxs(e.Fragment,{children:[v.map(me=>e.jsx(Oi,{facId:Number(Y==null?void 0:Y.Id),fetchNotes:P,data:me})),e.jsx("div",{style:{marginTop:"auto"},children:e.jsx(_s,{currentPage:d.length>0?Q:f,totalPages:w,onPageChange:se,onPageSizeChange:k,entriesPerPage:M,totalRows:q,setPage:d.length>0?B:O})})]}):e.jsx("div",{className:"mt-2",children:e.jsx(Li,{msg:"There are no records to display"})})]})}),N&&e.jsx(Ji,{isOpen:N,toggle:()=>g(!1),facilityId:Number(Y==null?void 0:Y.Id),fetchNotes:P}),i&&e.jsx(Hi,{isOpen:i,toggle:()=>o(!1),facilityId:Number(Y==null?void 0:Y.Id),fetchNotes:P})]})},Ws=({professionalId:l,currentProfessional:s,status:t})=>{const h=gs(),y=xs(async N=>{var g,i;try{const o=await Hl(l,N);E("success","Professional activation changed successfully")}catch(o){console.error(o),E("error",((i=(g=o==null?void 0:o.response)==null?void 0:g.data)==null?void 0:i.message)||"Something went wrong")}},300),c=()=>{h(`/professionals/edit/${l}`)};return e.jsxs("div",{className:"facility-header-wrap professional-header",style:{paddingTop:"12px",paddingBottom:"12px"},children:[s===null&&e.jsx(de,{}),e.jsx("div",{className:"content-wrapper align-items-center",children:e.jsx("img",{src:s!=null&&s.ProfileImage?s==null?void 0:s.ProfileImage:$s,style:{borderRadius:"50%",height:"8rem",width:"8rem",position:"relative",backgroundColor:"#f4f4f4"}})}),e.jsx("div",{className:"details-wrapper",children:e.jsxs("div",{className:"header-wrapper",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"first-section-content",children:[e.jsx(Us,{to:`/professionals/${l}`,children:e.jsxs("h1",{className:"hospital-name",children:[z(s!=null&&s.FirstName?s==null?void 0:s.FirstName:"")," ",z(s!=null&&s.LastName?s==null?void 0:s.LastName:"")]})}),e.jsx(p,{placeholder:"",disabled:!0,value:`PID-${l}`,className:"in-width",style:{marginRight:"10px"}}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("span",{className:"text-nowrap",children:"Account Status:"}),e.jsx("span",{className:"toggle-position",style:{marginLeft:"5px"},children:e.jsx(Jl,{onStateChange:N=>y(N),checked:s==null?void 0:s.ActivationStatus,allow:!0})}),e.jsx("span",{style:{marginLeft:"10px"},children:e.jsx(Ns,{onEdit:()=>c()})})]})]}),t&&e.jsxs("div",{className:"application-wrapper d-flex align-items-center select-view",children:[e.jsx("span",{style:{marginRight:"5px"},className:"text-nowrap",children:"Application Status:"}),e.jsx("span",{style:{color:ls(t),borderColor:ls(t),marginLeft:"10px",border:"1px solid",padding:"0.8rem 0.5rem",borderRadius:"5px",backgroundColor:"#fafafa"},children:t})]})]}),e.jsxs("div",{className:"second-section-content d-flex align-items-center",children:[e.jsxs("div",{children:[e.jsx("span",{className:"main-text",children:"Phone:"}),e.jsx("span",{children:is(s!=null&&s.Phone?s==null?void 0:s.Phone:"")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"main-text",children:"Email:"}),e.jsx("span",{children:s!=null&&s.Email?s==null?void 0:s.Email:""})]})]}),e.jsx("div",{className:"second-section-content",children:e.jsxs("span",{children:[e.jsx("span",{className:"main-text",children:"Address:"}),s!=null&&s.Address?s==null?void 0:s.Address:""]})}),e.jsxs("div",{className:"second-section-content",children:[e.jsx("span",{className:"main-text",children:"Preferred Job Location:"}),s==null?void 0:s.PreferredLocations.map((N,g)=>e.jsxs("span",{children:[N.State.State,g<(s==null?void 0:s.PreferredLocations.length)-1?", ":""]},g))]}),e.jsxs("div",{className:"second-section-content",children:[e.jsxs("span",{children:[e.jsx("span",{className:"main-text",children:"Profession:"}),s!=null&&s.JobProfession.Profession?s==null?void 0:s.JobProfession.Profession:e.jsx("span",{children:"None"})]}),e.jsx("span",{className:"main-text",children:"Speciality:"}),e.jsx("span",{children:s!=null&&s.JobSpeciality.Speciality?s==null?void 0:s.JobSpeciality.Speciality:e.jsx("span",{children:"None"})}),e.jsx("span",{className:"main-text",children:"Experience:"}),e.jsxs("span",{children:[s!=null&&s.Experience?s==null?void 0:s.Experience:"None"," ","Years"]})]})]})})]})},qi=({professionalId:l,jobId:s,facilityId:t,toggle:h,toggleTab:y})=>{const[c,N]=r.useState([]),[g,i]=r.useState([]),[o,n]=r.useState([]),[b,S]=r.useState([]),[a,x]=r.useState([]),[d,C]=r.useState([]),[f,O]=r.useState(1),[M,k]=r.useState(10),[w,F]=r.useState(0),[q,H]=r.useState(0),[Q,B]=r.useState("idle"),R=r.useCallback(async()=>{var D,T;B("loading");try{const v=await as.fetchProfessionalDocuments({facilityId:t,jobId:s,professionalId:l,size:M,page:f});v.status===200&&(F((D=v.data.data[0])==null?void 0:D.count),H(Math.ceil(((T=v.data.data[0])==null?void 0:T.count)/M)),C(v.data.data[0].rows),B("idle"))}catch(v){E("Error fetching documents",v),console.error("Error fetching documents:",v)}},[t,s,f,l,M]);r.useEffect(()=>{R()},[R]),r.useEffect(()=>{B("loading");const D=async(U,Y)=>{try{const J=await U();Y(J.data.data)}catch(J){E("Error fetching data",J),console.error("Error fetching data:",J)}},T=[as.fetchProfessionalWorkHistory,as.fetchProfessionalReferences,as.fetchProfessionalEducation,as.fetchProfessionalLicenses,as.fetchProfessionalCertifications],v=[N,i,n,S,x];Promise.allSettled(T.map((U,Y)=>D(()=>U({jobId:s,professionalId:l,facilityId:t}),v[Y]))).then(()=>B("idle"))},[t,s,l]);const $=async D=>{O(D)};return e.jsxs(e.Fragment,{children:[Q==="loading"&&e.jsx(de,{}),e.jsxs("div",{style:{marginTop:"10px",marginBottom:"20px"},children:[e.jsxs("div",{className:"facility-header-wrap",style:{margin:"10px 10px"},children:[c.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"section-header",style:{padding:"10px 21px"},children:"Work History"}),e.jsx("div",{style:{margin:"1rem 1.25rem"},children:c.map(D=>e.jsx(yl,{fetch:()=>{},workHistory:D,professionalId:1,isReadOnly:!0}))})]}),g.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"details-header section-header",style:{padding:"10px 21px"},children:"References"}),g.map(D=>e.jsx(jl,{reference:D}))]})]}),o.length>0&&e.jsx("div",{style:{borderRadius:"4px",background:"#fff",boxShadow:"0px 2px 2px 0px rgba(0, 0, 0, 0.25)",marginTop:"10px",marginBottom:"10px"},children:e.jsxs("div",{className:"facility-header-wrap",style:{padding:"10px 10px"},children:[e.jsx("span",{className:"section-header",style:{marginLeft:"20px"},children:"Education"}),o.map(D=>e.jsx(Nl,{education:D}))]})}),(b.length>0||a.length>0)&&e.jsx("div",{style:{borderRadius:"4px",background:"#fff",boxShadow:"0px 2px 2px 0px rgba(0, 0, 0, 0.25)",marginTop:"10px",marginBottom:"10px"},children:e.jsxs("div",{className:"facility-header-wrap",style:{padding:"10px 10px"},children:[e.jsx("span",{className:"section-header",style:{padding:"10px 21px"},children:"Professional Information"}),e.jsx("div",{className:"wrapper",children:e.jsxs("div",{className:"details-wrapper",children:[b.length>0&&e.jsx("span",{className:"prof-card-header",children:"Licenses"}),b.map(D=>e.jsx(ba,{license:D})),a.length>0&&e.jsx("span",{className:"prof-card-header",style:{marginTop:"10px",marginBottom:"0px"},children:"Certifications"}),a.map(D=>e.jsx(va,{certificate:D}))]})})]})}),d.length>0&&e.jsx("div",{style:{borderRadius:"4px",background:"#fff",boxShadow:"0px 2px 2px 0px rgba(0, 0, 0, 0.25)",marginTop:"10px",marginBottom:"10px"},children:e.jsxs("div",{className:"facility-header-wrap",style:{padding:"10px 10px"},children:[e.jsx("span",{className:"section-header",style:{padding:"10px 12px"},children:"Documents"}),d.map(D=>e.jsx(fl,{doc:D,facilityId:t,jobId:s,professionalId:l})),e.jsx("div",{style:{marginTop:"auto",margin:"0px 10px"},children:e.jsx(_s,{currentPage:f,totalPages:q,onPageChange:$,onPageSizeChange:k,entriesPerPage:M,totalRows:w,setPage:O})})]})}),e.jsxs("div",{className:"btn-wrapper mt-4",style:{marginLeft:"0px"},children:[e.jsx(le,{className:"primary-btn",style:{marginLeft:"0px"},onClick:()=>{y(2)},children:"Next"}),e.jsx(le,{className:"secondary-btn",onClick:h,children:"Cancel"})]})]})]})},$i=({jobId:l,facilityId:s,professionalId:t,jobApplicationId:h,jobAssignmentId:y,currentProfessional:c,reqId:N,toggle:g,fetchList:i})=>{var Ee,Me,$e,Ge,hs,os,j,G,oe,Re,De,ze,Ye,We,bs,vs,Ss,Cs,Ds,Rs,Es,Ts,Is,ks,ws,Fs,Bs,Ms,Os,Js,te,Ue,Ve,X,Ke;const[o,n]=r.useState(!1),[b,S]=r.useState(null),[a,x]=r.useState(null),d=Ll(),[C,f]=r.useState(!1),[O,M]=r.useState(null),[k,w]=r.useState(null),[F,q]=r.useState([]),[H,Q]=r.useState(null),[B,R]=r.useState(null),[$,D]=r.useState(null),T=ds(Pl),v=ds(ql),U=ds($l),[Y,J]=r.useState(null),[V,A]=r.useState(null),[P,se]=r.useState(null),ve=(ee,K)=>{if(K.isTyping)q([]);else if(ee.length<=10){const ie=ee==null?void 0:ee.map(ue=>ne(`${ue.year}-${ue.month.number}-${ue.day}`).format("MM-DD-YYYY"));q(ie)}else{const ie=F.slice(0,10);q(ie),E("error","Maximum 10 days can be selected")}},ye=r.useCallback(async()=>{var ee,K,ie,ue,Se;try{if(n(!0),(a==null?void 0:a.JobProfession.Id)===void 0){n(!1);return}const[Qe,js,Sl]=await Promise.all([Yl(),Vs(a.JobProfession.Id),gl()]);d(Ul((ee=Qe.data)==null?void 0:ee.data)),d(Qs((K=js.data)==null?void 0:K.data)),d(Gl((ie=Sl.data)==null?void 0:ie.data)),n(!1)}catch(Qe){console.error(Qe),n(!1),E("error",((Se=(ue=Qe==null?void 0:Qe.response)==null?void 0:ue.data)==null?void 0:Se.message)||"Something went wrong")}},[a==null?void 0:a.JobProfession.Id,d]),{register:ce,handleSubmit:xe,setValue:Ne,formState:{errors:_}}=ms({resolver:us(zl)}),re=ee=>{R(ee)},cs=ee=>{D(ee)},Je=ee=>{se(ee)},be=r.useCallback(async()=>{n(!0);const[ee,K]=await Promise.all([Wl(Number(s),Number(l)),st.getJobAssignment({facilityId:Number(s),jobId:Number(l),professionalId:t,jobApplicationId:h,jobAssignmentId:y})]);S(ee.data.data[0]),x(K.data.data[0]),n(!1)},[s,l,t,h,y]);r.useEffect(()=>{be(),ye()},[be,ye]),r.useEffect(()=>{N&&Ne("reqId",N),a&&(J({value:a==null?void 0:a.JobSpeciality.Id,label:a==null?void 0:a.JobSpeciality.Speciality}),A({value:a==null?void 0:a.JobProfession.Id,label:a==null?void 0:a.JobProfession.Profession}),Xe({value:a==null?void 0:a.JobProfession.JobProfessionCategory.Id,label:a==null?void 0:a.JobProfession.JobProfessionCategory.Category}),se({value:a==null?void 0:a.JobShift.Id,label:a==null?void 0:a.JobShift.Shift}),M(new Date(a==null?void 0:a.StartDate)),w(new Date(a==null?void 0:a.EndDate)),R({value:a==null?void 0:a.ShiftStartTime,label:a==null?void 0:a.ShiftStartTime}),D({value:a==null?void 0:a.ShiftEndTime,label:a==null?void 0:a.ShiftEndTime}),a!=null&&a.JobRequestingTimeOffs&&q(a==null?void 0:a.JobRequestingTimeOffs.map(ee=>ne(ee.Date).format("MM-DD-YYYY"))),Q(new Date(a==null?void 0:a.ComplianceDueDate)),w(new Date(a==null?void 0:a.EndDate)),Ne("unit",a!=null&&a.Unit?a==null?void 0:a.Unit:""),Ne("regularHrs",a==null?void 0:a.RegularHrs),Ne("overtimeHrs",a==null?void 0:a.OverTimeHrs),Ne("totalHrsWeekly",a==null?void 0:a.TotalHrs),Ne("totalDaysOnAssignment",a==null?void 0:a.TotalDaysOnAssignment),Ne("gauranteedHours",a==null?void 0:a.GauranteedHrs),Ne("notes",a==null?void 0:a.Notes),Ne("payDetails.regularRate",a==null?void 0:a.RegularRate),Ne("payDetails.overTimeRate",a==null?void 0:a.OvertimeRate),Ne("payDetails.doubleTimeRate",a==null?void 0:a.DoubleTimeRate),Ne("payDetails.holidayRate",a==null?void 0:a.HolidayRate),Ne("payDetails.chargeRate",a==null?void 0:a.ChargeRate),Ne("payDetails.onCallRate",a==null?void 0:a.OnCallRate),Ne("payDetails.callBackRate",a==null?void 0:a.CallbackRate),Ne("payDetails.travelReimbursement",a==null?void 0:a.TravelReimbursement),Ne("payDetails.mealsAndIncidentals",a==null?void 0:a.MealsAndIncidentials),Ne("payDetails.housingStipend",a==null?void 0:a.HousingStipend),Ne("costCenter",a==null?void 0:a.CostCenter),Ne("billingDetails.billRate",a==null?void 0:a.BillRate),Ne("billingDetails.overTimeBillRate",a==null?void 0:a.OvertimeBillRate),Ne("billingDetails.doubleTimeBillRate",a==null?void 0:a.DoubleTimeBillRate),Ne("billingDetails.holidayBillRate",a==null?void 0:a.HolidayBillRate),Ne("billingDetails.chargeBillRate",a==null?void 0:a.ChargeBillRate),Ne("billingDetails.onCallBillRate",a==null?void 0:a.OnCallBillRate),Ne("billingDetails.callBackBillRate",a==null?void 0:a.CallbackBillRate))},[a,N,Ne]);const Ae=async ee=>{var K,ie;if(!O){E("error","Please select start date");return}if(!k){E("error","Please select end date");return}if(!B){E("error","Please select shift start time");return}if(!$){E("error","Please select shift end time");return}if(B&&$&&B.value>$.value){E("error","Shift end time cannot be less than shift start time");return}if(!H){E("error","Please select compliance due date");return}if(!Y){E("error","Please select speciality");return}if(!V){E("error","Please select profession");return}if(!P){E("error","Please select shift");return}if(F&&F.length>0&&F.some(ue=>ne(ue)<ne(O)))return E("error","Time off request dates cannot be before the start date");try{const ue={facilityId:Number(s),jobId:Number(l),professionalId:t,jobAssignmentId:y,jobApplicationId:h,data:{...ee,startDate:Ce(O==null?void 0:O.toDateString()),endDate:Ce(k==null?void 0:k.toDateString()),shiftStartTime:B==null?void 0:B.label,shiftEndTime:$==null?void 0:$.label,shiftId:P==null?void 0:P.value,specialityId:Y==null?void 0:Y.value,professionId:V==null?void 0:V.value,complianceDueDate:Ce(H==null?void 0:H.toDateString()),reqId:ee.reqId}};F.length>0?ue.data.approvedTimeOff=F==null?void 0:F.map(Qe=>ne(Qe).format("YYYY-MM-DD")):ue.data.approvedTimeOff=[];const Se=await lt(ue);Se.status===200&&(E("success",Se.data.message||"Offer made successfully"),be(),i(),g())}catch(ue){console.error(ue),E("error",((ie=(K=ue==null?void 0:ue.response)==null?void 0:K.data)==null?void 0:ie.message)||"Something went wrong")}},[he,ae]=r.useState(),[me,Xe]=r.useState(null),[Pe,qe]=r.useState([]),I=ee=>{A({value:ee.Id,label:ee.Profession}),J(null),ae(ee.Id)},W=r.useCallback(async()=>{var ee;try{const K=T==null?void 0:T.length;if(K>0){const ie=[];for(let ue=1;ue<=K;ue++){const Se=await Vl(ue);ie.push((ee=Se.data)==null?void 0:ee.data)}qe(ie)}}catch(K){console.error(K)}},[T]),L=r.useCallback(async()=>{var ee;try{if(he){const K=await Vs(he);d(Qs((ee=K.data)==null?void 0:ee.data))}}catch(K){console.error(K)}},[d,he]),Z=ee=>{J(ee)};return r.useEffect(()=>{W()},[W,T.length]),r.useEffect(()=>{L()},[L,he]),e.jsxs(e.Fragment,{children:[o&&e.jsx(de,{}),e.jsx("div",{className:"facility-header-wrap p-3 mb-3",children:e.jsxs(Gs,{children:[e.jsxs("div",{style:{flexDirection:"row",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("h6",{children:"Job Shared Details"}),e.jsx(le,{className:"btn",color:"secondary",outline:!0,onClick:()=>{f(!0)},disabled:(a==null?void 0:a.JobApplicationStatus.Status)==="Declined by Professional"||(a==null?void 0:a.JobApplicationStatus.Status)==="Declined by Facility"||(a==null?void 0:a.JobApplicationStatus.Status)==="Declined by Gig"||(a==null?void 0:a.JobApplicationStatus.Status)==="Facility Termination"||(a==null?void 0:a.JobApplicationStatus.Status)==="Professional Termination"||(a==null?void 0:a.JobApplicationStatus.Status)==="Gig Termination"||(a==null?void 0:a.JobApplicationStatus.Status)==="Past Placement",size:"sm",children:e.jsx("i",{className:"fa fa-pencil"})}),C&&e.jsx(le,{className:"btn",color:"secondary",outline:!0,onClick:()=>{f(!1)},size:"sm",children:e.jsx("i",{className:"fa fa-times"})})]}),e.jsxs(ge,{children:[e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Facility Name"}),e.jsx(p,{disabled:!0,value:z(b!=null&&b.Facility.Name?b.Facility.Name:"Facility Name")})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Facility Location"}),e.jsx(p,{disabled:!0,value:z(b!=null&&b.Facility.State.State?b.Facility.State.State:"Facility Location")})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Facility Address"}),e.jsx(p,{value:z(b!=null&&b.Facility.Address?b.Facility.Address:"Facility Address"),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Program Manager"}),e.jsx(p,{disabled:!0,value:c!=null&&c.ProgramManager?z((c==null?void 0:c.ProgramManager.FirstName)+" "+(c==null?void 0:c.ProgramManager.LastName)):"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Employment Expert"}),e.jsx(p,{value:c!=null&&c.EmploymentExpert?z((c==null?void 0:c.EmploymentExpert.FirstName)+" "+(c==null?void 0:c.EmploymentExpert.LastName)):"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Professional Name"}),e.jsx(p,{value:z(c!=null&&c.FirstName?(c==null?void 0:c.FirstName)+" "+(c==null?void 0:c.LastName):""),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Professional Phone Number"}),e.jsx(p,{value:c!=null&&c.Phone?is(c==null?void 0:c.Phone):"",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Professional Email Address"}),e.jsx(p,{value:c!=null&&c.Email?c==null?void 0:c.Email:"",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Job Title"}),e.jsx(p,{value:z(b!=null&&b.Title?b==null?void 0:b.Title:""),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"col-label",children:["Select Profession ",e.jsx("span",{className:"asterisk",children:"*"})]}),C?e.jsxs(e.Fragment,{children:[e.jsx(Ql,{menuButton:e.jsx(p,{style:{cursor:"pointer",caretColor:"transparent"},type:"text",value:V!=null&&V.label?V==null?void 0:V.label:"Select Profession"}),children:T==null?void 0:T.map((ee,K)=>{var ie;return e.jsx(Xl,{label:ee.Category,className:"sub-menu",children:Pe&&((ie=Pe[K])==null?void 0:ie.map(ue=>e.jsx(Zl,{dir:"top",onClick:()=>I(ue),children:e.jsx(Kl,{value:ue.Profession,className:"sub-menu-item",children:ue.Profession})},ue.Id)))},ee.Id)})}),e.jsx("img",{src:_l,alt:"DropdownImage",className:"submenu-dropdown"})]}):e.jsx(p,{value:V==null?void 0:V.label,disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Speciality",e.jsx("span",{className:"asterisk",children:"*"})]}),C?e.jsx(_e,{id:"specialities",name:"specialities",options:v==null?void 0:v.map(ee=>({value:ee==null?void 0:ee.Id,label:ee==null?void 0:ee.Speciality})),value:Y,placeholder:"Select Speciality",noOptionsMessage:()=>"No Speciality Found",onChange:ee=>Z(ee),isClearable:!0,isSearchable:!0,isDisabled:!me}):e.jsx(p,{value:Y==null?void 0:Y.label,disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Unit"}),e.jsx(p,{disabled:!C,...ce("unit")})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Shift"}),e.jsx(_e,{options:U.map(ee=>({value:ee.Id,label:ee.Shift})),value:P||null,isClearable:!0,isSearchable:!0,noOptionsMessage:()=>"No Shift Found",placeholder:"Select Shift",id:"shift",name:"shift",onChange:Je,isDisabled:!C})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Start Date"}),C?e.jsx(Ie,{selected:O,minDate:ne(O).subtract(7,"days").toDate(),maxDate:ne(O).add(7,"days").toDate(),onChange:ee=>M(ee),timeIntervals:15,dateFormat:"h:mm aa",className:"custom-select-picker-all contract-select",customInput:e.jsxs("div",{className:"custom-calendar-wrapper",children:[e.jsx(p,{value:O?ne(a==null?void 0:a.StartDate).format("MM-DD-YYYY"):"",placeholder:"Start Date"}),e.jsx("img",{src:ke,className:"calendar-icon"})]})}):e.jsx(ts,{value:a!=null&&a.StartDate?ne(a==null?void 0:a.StartDate).format("MM-DD-YYYY"):"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"End Date"}),C?e.jsx(Ie,{selected:k,minDate:ne(O).add(1,"days").toDate(),maxDate:ne(O).add(7,"days").toDate(),onChange:ee=>w(ee),className:"custom-select-picker-all contract-select",customInput:e.jsxs("div",{className:"custom-calendar-wrapper",children:[e.jsx(p,{value:k?ne(k.toDateString()).format("MM-DD-YYYY"):"",placeholder:"Select Date"}),e.jsx("img",{src:ke,className:"calendar-icon"})]})}):e.jsx(ts,{value:a!=null&&a.EndDate?ne(a==null?void 0:a.EndDate).format("MM-DD-YYYY"):"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Start Time"}),e.jsx(Xs,{styles:Zs,className:"custom-select-picker-all contract-select",placeholder:"Shift Start Time",options:Ks,value:B||null,onChange:ee=>re(ee),isClearable:!0,isSearchable:!0,noOptionsMessage:()=>"No Start Time Found",isDisabled:!C})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"End Time"}),e.jsx(Xs,{styles:Zs,className:"custom-select-picker-all contract-select",placeholder:"Shift End Time",options:Ks,value:$||null,onChange:ee=>cs(ee),isClearable:!0,isSearchable:!0,noOptionsMessage:()=>"No Start Time Found",isDisabled:!C})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Approved Time Off"}),C?e.jsx(pl,{onChangeDate:ve,value:F?F==null?void 0:F.map(ee=>ee):"-",minDate:O}):e.jsx(ts,{value:a!=null&&a.JobRequestingTimeOffs?(Ee=a==null?void 0:a.JobRequestingTimeOffs)==null?void 0:Ee.map(ee=>ne(ee.Date).format("MM-DD-YYYY")):"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Regular Hours"}),e.jsx(p,{...ce("regularHrs"),placeholder:"Regular Hours",type:"number",step:"0.1",disabled:!C}),_.regularHrs&&e.jsx("label",{style:{color:"red"},children:_.regularHrs.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Overtime Hours"}),e.jsx(p,{...ce("overtimeHrs"),placeholder:"Overtime Hours",type:"number",step:"0.1",disabled:!C}),_.overtimeHrs&&e.jsx("label",{style:{color:"red"},children:_.overtimeHrs.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Total Hours (weekly)"}),e.jsx(p,{...ce("totalHrsWeekly"),placeholder:"Total Hours (weekly)",type:"number",disabled:!C}),_.totalHrsWeekly&&e.jsx("label",{style:{color:"red"},children:_.totalHrsWeekly.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Total Days on Assignment"}),e.jsx(p,{...ce("totalDaysOnAssignment"),placeholder:"Total Days on Assignment",type:"number",disabled:!C}),_.totalDaysOnAssignment&&e.jsx("label",{style:{color:"red"},children:_.totalDaysOnAssignment.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Guaranteed Hours"}),e.jsx(p,{...ce("gauranteedHours"),placeholder:"Guaranteed Hours",type:"number",disabled:!C}),_.gauranteedHours&&e.jsx("label",{style:{color:"red"},children:_.gauranteedHours.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Compliance Due Date"}),C?e.jsx(Ie,{selected:H,onChange:ee=>Q(ee),className:"custom-select-picker-all contract-select",customInput:e.jsxs("div",{className:"custom-calendar-wrapper",children:[e.jsx(p,{value:H?Ce(H.toDateString()):"",placeholder:"Select Date"}),e.jsx("img",{src:ke,className:"calendar-icon"})]}),disabled:!0}):e.jsx(ts,{value:a!=null&&a.ComplianceDueDate?ne(a==null?void 0:a.ComplianceDueDate).format("MM-DD-YYYY"):"-",disabled:!0})]}),e.jsxs(m,{className:"col-group",children:[e.jsx(u,{className:"",children:"Notes"}),e.jsx(p,{...ce("notes"),placeholder:"Notes",type:"textarea",disabled:!C}),_.notes&&e.jsx("label",{style:{color:"red"},children:_.notes.message})]})]}),e.jsx("div",{children:e.jsx("h6",{children:"Pay Details"})}),e.jsxs(ge,{children:[e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Regular Rate"}),e.jsx(p,{...ce("payDetails.regularRate"),placeholder:"Regular Rate",type:"number",step:"0.1",disabled:!C}),((Me=_.payDetails)==null?void 0:Me.regularRate)&&e.jsx("label",{style:{color:"red"},children:($e=_.payDetails)==null?void 0:$e.regularRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Overtime Rate"}),e.jsx(p,{...ce("payDetails.overTimeRate"),placeholder:"Overtime Rate",type:"number",step:"0.1",disabled:!C}),((Ge=_.payDetails)==null?void 0:Ge.overTimeRate)&&e.jsx("label",{style:{color:"red"},children:(hs=_.payDetails)==null?void 0:hs.overTimeRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{children:["Double Time Rate"," ",e.jsx("span",{className:"california-text",children:"(California only)"})]}),e.jsx(p,{...ce("payDetails.doubleTimeRate"),placeholder:"Double Time Rate",type:"number",step:"0.1",disabled:!C}),((os=_.payDetails)==null?void 0:os.doubleTimeRate)&&e.jsx("label",{style:{color:"red"},children:(j=_.payDetails)==null?void 0:j.doubleTimeRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Holiday Rate"}),e.jsx(p,{...ce("payDetails.holidayRate"),placeholder:"Holiday Rate",type:"number",step:"0.1",disabled:!C}),((G=_.payDetails)==null?void 0:G.holidayRate)&&e.jsx("label",{style:{color:"red"},children:(oe=_.payDetails)==null?void 0:oe.holidayRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Charge Rate"}),e.jsx(p,{...ce("payDetails.chargeRate"),placeholder:"Charge Rate",type:"number",step:"0.1",disabled:!C}),((Re=_.payDetails)==null?void 0:Re.chargeRate)&&e.jsx("label",{style:{color:"red"},children:(De=_.payDetails)==null?void 0:De.chargeRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"On-Call Rate"}),e.jsx(p,{...ce("payDetails.onCallRate"),placeholder:"On-Call Rate",type:"number",step:"0.1",disabled:!C}),((ze=_.payDetails)==null?void 0:ze.onCallRate)&&e.jsx("label",{style:{color:"red"},children:(Ye=_.payDetails)==null?void 0:Ye.onCallRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Travel Reimbursement"}),e.jsx(p,{...ce("payDetails.travelReimbursement"),placeholder:"Travel Reimbursement",type:"number",step:"0.1",disabled:!C}),((We=_.payDetails)==null?void 0:We.travelReimbursement)&&e.jsx("label",{style:{color:"red"},children:(bs=_.payDetails)==null?void 0:bs.travelReimbursement.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{children:["Housing Stipend ",e.jsx("span",{className:"california-text",children:"(Daily)"})]}),e.jsx(p,{...ce("payDetails.callBackRate"),placeholder:"CallBack Rate",type:"number",step:"0.1",disabled:!C}),((vs=_.payDetails)==null?void 0:vs.callBackRate)&&e.jsx("label",{style:{color:"red"},children:(Ss=_.payDetails)==null?void 0:Ss.callBackRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{children:["Meals & Incidentals Stipend"," ",e.jsx("span",{className:"california-text",children:"(Daily)"})]}),e.jsx(p,{...ce("payDetails.mealsAndIncidentals"),placeholder:"Meals & Incidentals Stipend",type:"number",step:"0.1",disabled:!C}),((Cs=_.payDetails)==null?void 0:Cs.mealsAndIncidentals)&&e.jsx("label",{style:{color:"red"},children:(Ds=_.payDetails)==null?void 0:Ds.mealsAndIncidentals.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Housing Stipend(Daily)"}),e.jsx(p,{...ce("payDetails.housingStipend"),placeholder:"Housing Stipend",type:"number",step:"0.1",disabled:!C}),((Rs=_.payDetails)==null?void 0:Rs.housingStipend)&&e.jsx("label",{style:{color:"red"},children:(Es=_.payDetails)==null?void 0:Es.housingStipend.message})]})]}),e.jsx("div",{children:e.jsx("h6",{children:"Billing Details"})}),e.jsxs(ge,{children:[e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Bill Rate"}),e.jsx(p,{...ce("billingDetails.billRate"),placeholder:"Bill Rate",type:"number",step:"0.1",disabled:!C}),((Ts=_.billingDetails)==null?void 0:Ts.billRate)&&e.jsx("label",{style:{color:"red"},children:(Is=_.billingDetails)==null?void 0:Is.billRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Overtime Bill Rate"}),e.jsx(p,{...ce("billingDetails.overTimeBillRate"),placeholder:"Overtime Bill Rate",type:"number",step:"0.1",disabled:!C}),((ks=_.billingDetails)==null?void 0:ks.overTimeBillRate)&&e.jsx("label",{style:{color:"red"},children:(ws=_.billingDetails)==null?void 0:ws.overTimeBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{children:["Double Time Bill Rate"," ",e.jsx("span",{className:"california-text",children:"(California only)"})]}),e.jsx(p,{...ce("billingDetails.doubleTimeBillRate"),placeholder:"Double Time Rate",type:"number",step:"0.1",disabled:!C}),((Fs=_.billingDetails)==null?void 0:Fs.doubleTimeBillRate)&&e.jsx("label",{style:{color:"red"},children:(Bs=_.billingDetails)==null?void 0:Bs.doubleTimeBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Holiday Bill Rate"}),e.jsx(p,{...ce("billingDetails.holidayBillRate"),placeholder:"Holiday Bill Rate",type:"number",step:"0.1",disabled:!C}),((Ms=_.billingDetails)==null?void 0:Ms.holidayBillRate)&&e.jsx("label",{style:{color:"red"},children:(Os=_.billingDetails)==null?void 0:Os.holidayBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Charge Bill Rate"}),e.jsx(p,{...ce("billingDetails.chargeBillRate"),placeholder:"Charge Bill Rate",type:"number",step:"0.1",disabled:!C}),((Js=_.billingDetails)==null?void 0:Js.chargeBillRate)&&e.jsx("label",{style:{color:"red"},children:(te=_.billingDetails)==null?void 0:te.chargeBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"On-Call Bill Rate"}),e.jsx(p,{...ce("billingDetails.onCallBillRate"),placeholder:"On-Call Bill Rate",type:"number",step:"0.1",disabled:!C}),((Ue=_.billingDetails)==null?void 0:Ue.onCallBillRate)&&e.jsx("label",{style:{color:"red"},children:(Ve=_.billingDetails)==null?void 0:Ve.onCallBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"CallBack Rate"}),e.jsx(p,{...ce("billingDetails.callBackBillRate"),placeholder:"CallBack Bill Rate",type:"number",step:"0.1",disabled:!C}),((X=_.billingDetails)==null?void 0:X.callBackBillRate)&&e.jsx("label",{style:{color:"red"},children:(Ke=_.billingDetails)==null?void 0:Ke.callBackBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Cost Center(If applicable)"}),e.jsx(p,{...ce("costCenter"),placeholder:"Cost Center",type:"text",disabled:!C}),_.costCenter&&e.jsx("label",{style:{color:"red"},children:_.costCenter.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Client Req ID #(If applicable)"}),e.jsx(p,{placeholder:"Client Req ID",type:"text",...ce("reqId"),disabled:!C})]})]}),C&&e.jsx("div",{style:{marginLeft:"0px"},children:e.jsx(le,{className:"primary-btn ms-0",type:"submit",onClick:xe(Ae),disabled:o===!0,children:"Update"})})]})})]})},Yi=({isOpen:l,toggle:s,jobId:t,jobApplicationId:h,facilityId:y,professionalId:c,fetchDocuments:N,fetchList:g})=>{const[i,o]=r.useState("idle"),[n,b]=r.useState([]),[S,a]=r.useState(null),x=async()=>{try{o("loading");const C=await at();o("idle"),b(C.data.data)}catch(C){console.error(C),o("error"),E("error",C.response.message||"Something went wrong")}},d=async()=>{o("loading");try{if(S===null){E("error","Please select document");return}const C=await as.addNewDocument({jobId:t,professionalId:c,facilityId:y,jobApplicationId:h,documentMasterId:S.value});C.status===200&&(o("idle"),E("success",C.data.message),N(),g(),s())}catch(C){console.error(C),o("error"),E("error",C.response.data.message||"Something went wrong")}};return r.useEffect(()=>{x()},[]),e.jsxs(e.Fragment,{children:[i==="loading"&&e.jsx(de,{}),e.jsxs(we,{isOpen:l,toggle:s,centered:!0,children:[e.jsx(Be,{toggle:s,children:"Add New Documents "}),e.jsx(Fe,{children:e.jsxs(Ze,{children:[e.jsx(ge,{children:e.jsxs(m,{md:"12",className:"col-group",children:[e.jsx(u,{children:"Select Documents"}),e.jsx(_e,{id:"document-master-id",name:"document-master",noOptionsMessage:()=>"No Documents Found",options:n.map(C=>({label:z(C.Type),value:C.Id})),onChange:C=>{a(C)},value:S,placeholder:"Select Documents"})]})}),e.jsxs("div",{className:"btn-wrapper",children:[e.jsx(le,{className:"primary-btn",onClick:d,children:"Save"}),e.jsx(le,{className:"secondary-btn",onClick:s,children:"Cancel"})]})]})})]})]})},Ui=({documentId:l,jobId:s,facilityId:t,professionalId:h,jobApplicationId:y,fetchDocuments:c,name:N,fetchList:g})=>{const[i,o]=r.useState("idle"),n=(S,a)=>{const x=S.name.split(".").pop(),d=`${a}.${x}`;return new File([S],d,{type:S.type})},b=async S=>{var C,f,O,M;const a=(C=S.target.files)==null?void 0:C[0];if(!a){E("error","No file selected"),o("idle");return}const x=2;if(a&&(a==null?void 0:a.size)/1048576>x)return E("error",`File size exceeds the maximum limit of ${x} MB`);const d=n(a,N);o("loading");try{if(((f=S.target.files)==null?void 0:f.length)===1){const k=await as.uploadOnboardingDocument({jobId:s,professionalId:h,facilityId:t,jobApplicationId:y,documentId:l,document:d});k.status===200&&(c(),g(),o("idle"),E("success",k.data.message||"Submission document uploaded successfully."))}}catch(k){o("error"),E("error",((M=(O=k==null?void 0:k.response)==null?void 0:O.data)==null?void 0:M.message)||"Something went wrong"),console.error(k)}};return e.jsxs(e.Fragment,{children:[i==="loading"&&e.jsx(de,{}),e.jsx("div",{className:"view-file-wrapper bg-white border-0 p-0 mt-3",children:e.jsx(vl,{children:e.jsxs("div",{className:"file-picker-wrapper",children:[e.jsx("div",{className:"file-picker-label-wrapper",children:e.jsx(u,{for:`file-picker-${l}`,className:"file-picker-label",children:"Upload File"})}),e.jsx("p",{className:"file-para",children:"Supported Formats: doc, docx, pdf, jpg, jpeg, png, heic up to 2 MB"}),e.jsx("input",{id:`file-picker-${l}`,name:`file-picker-${l}`,className:"custom-input",accept:".pdf, .doc, .docx, .jpg, .jpeg, .png, .heic",type:"file",style:{display:"none"},onChange:S=>{b(S)}})]})})})]})},Gi=({isOpen:l,toggle:s,facilityId:t,jobId:h,professionalId:y,jobApplicationId:c,document:N,fetchDocuments:g,fetchList:i})=>{const[o,n]=r.useState("idle"),[b,S]=r.useState(""),a=d=>{S(d)},x=async()=>{if(b.length===0)return E("error","Please add a note");n("loading");try{const d=await as.verifyJobComplianceDocument({jobId:h,facilityId:t,professionalId:y,jobApplicationId:c,documentId:N.Id,data:{approved:!1,rejectionNotes:b}});d.status===200&&(E("success",d.data.message||"Document approved successfully"),g(),i(),n("idle"),s())}catch(d){console.error(d),n("error"),E("error",d.response.data.message||"Something went wrong")}};return e.jsxs(e.Fragment,{children:[o==="loading"&&e.jsx(de,{}),e.jsxs(we,{isOpen:l,toggle:s,centered:!0,children:[e.jsx(Be,{toggle:s,children:" Add Note For Rejection "}),e.jsx(Fe,{children:e.jsxs(Ze,{children:[e.jsx(ge,{children:e.jsxs(m,{md:"12",className:"col-group",children:[e.jsx(u,{children:"Add Note"}),e.jsx(ps,{disabled:!1,id:"noteTextArea",className:"height-textarea",placeholder:"Note",value:b,onChange:d=>a(d.target.value)})]})}),e.jsxs("div",{className:"btn-wrapper",children:[e.jsx(le,{className:"primary-btn",onClick:x,children:"Save"}),e.jsx(le,{className:"secondary-btn",onClick:s,children:"Cancel"})]})]})})]})]})},zi=({isOpen:l,toggle:s,facilityId:t,jobId:h,professionalId:y,jobApplicationId:c,document:N,fetchDocuments:g,fetchList:i})=>{const[o,n]=r.useState("idle"),[b,S]=r.useState(null),[a,x]=r.useState(),d=f=>{S(f)},C=async()=>{if(!b)return E("error","Please select a date");if(N.IsRequired===!1&&!a)return E("error","Please add expiry days");n("loading");try{const f=await as.verifyJobComplianceDocument({jobId:h,facilityId:t,professionalId:y,jobApplicationId:c,documentId:N.Id,data:{approved:!0,effectiveApprovalDate:b?Ce(b==null?void 0:b.toString()):"",expiryDays:N.IsRequired===!1?a:void 0}});f.status===200&&(E("success",f.data.message||"Document approved successfully"),g(),i(),n("idle"),s())}catch(f){console.error(f),n("error"),E("error",f.response.data.message||"Something went wrong")}};return e.jsxs(e.Fragment,{children:[o==="loading"&&e.jsx(de,{}),e.jsx(we,{isOpen:l,toggle:s,centered:!0,style:{width:"25%"},children:e.jsx(Fe,{style:{display:"flex",justifyContent:"center"},children:e.jsxs(Ze,{children:[e.jsx(ge,{children:e.jsx(m,{md:"12",className:"col-group",children:e.jsxs("div",{className:"modal-content-center",children:[e.jsx("h5",{className:"text-center mb-3",style:{textAlign:"center",marginTop:"10px"},children:"Confirm Approval"}),e.jsx("p",{className:"edu-card-content text-gery",children:"Add effective date to approve this document."}),e.jsx("div",{className:"date-range",children:e.jsx(Ie,{minDate:new Date,dateFormat:"dd-MM-yyyy",isClearable:!0,placeholderText:"--",onChange:d,selected:b,customInput:e.jsxs("div",{className:"custom-calendar-wrapper",children:[e.jsx(p,{placeholder:"Select Date",value:b&&b?Te(b==null?void 0:b.toString()):""}),!b&&e.jsx("img",{src:ke,className:"calendar-icon"})]})})}),N.IsRequired===!1&&e.jsx("div",{className:"date-range mt-4",children:e.jsx(p,{type:"number",placeholder:"Expiry Days",value:a,onChange:f=>x(f.target.value)})})]})})}),e.jsxs("div",{style:{marginBottom:" 10px"},children:[e.jsxs(le,{className:"primary-btn",onClick:C,children:["Confirm"," "]}),e.jsx(le,{className:"secondary-btn",onClick:s,children:"Cancel"})]})]})})})]})},Wi=(l,s)=>{const t=l.name.split(".").pop(),h=`${s}.${t}`;return new File([l],h,{type:l.type})},Vi=({facilityId:l,jobId:s,professionalId:t,jobApplicationId:h,fetchList:y,fetchDocuments:c,onboardingDocument:N})=>{var q,H,Q;const[g,i]=r.useState(),[o,n]=r.useState("idle"),[b,S]=r.useState(!1),[a,x]=r.useState(!1),d=()=>{if(!N.ExpiryDate)return!1;const B=ne(N.ExpiryDate),R=ne();return B.isSameOrBefore(R,"day")},C=async B=>{n("loading");try{const R=await as.removeDocument({jobId:s,facilityId:l,professionalId:t,jobApplicationId:h,documentId:B});R.status===200&&(E("success",R.data.message||"Document removed"),y(),c(),n("idle"))}catch(R){console.error(R),n("error"),E("error",R.response.data.message||"An error occurred")}},f=async B=>{n("loading");try{const R=await as.deleteDocument({jobId:s,facilityId:l,professionalId:t,jobApplicationId:h,documentId:B});R.status===200&&(E("success",R.data.message||"Document deleted"),y(),c(),n("idle"))}catch(R){console.error(R),n("error"),E("error",R.response.data.message||"An error occurred")}},O=async(B,R)=>{n("loading");try{const $=await as.downloadDocument({jobId:s,facilityId:l,professionalId:t,jobApplicationId:h,documentId:B});if($.status===200){const D=window.URL.createObjectURL(new Blob([$.data])),T=document.createElement("a");T.href=D,T.setAttribute("download",R||"file"),document.body.appendChild(T),T.click(),n("idle")}}catch($){console.error($),n("error"),E("error",$.response.data.message||"An error occurred")}},M=()=>S(!b),k=()=>x(!a),w=B=>{var $;const R=($=B.target.files)==null?void 0:$[0];R&&i(R)},F=async({name:B,docId:R})=>{var T,v;if(!g)return E("error","Please select a file");const $=2;if(g&&(g==null?void 0:g.size)/1048576>$)return E("error",`File size exceeds the maximum limit of ${$} MB`);const D=Wi(g,B);n("loading");try{const U=await as.uploadOnboardingDocument({jobId:s,professionalId:t,facilityId:l,jobApplicationId:h,documentId:R,document:D});U.status===200&&(y(),c(),n("idle"),E("success",U.data.message||"Submission document uploaded successfully."))}catch(U){n("error"),E("error",((v=(T=U==null?void 0:U.response)==null?void 0:T.data)==null?void 0:v.message)||"Something went wrong"),console.error(U)}};return e.jsxs(e.Fragment,{children:[o==="loading"&&e.jsx(de,{}),e.jsxs("div",{children:[e.jsxs(e.Fragment,{children:[e.jsxs("h6",{className:"heading-margin mt-0",children:[z(N.DocumentMaster.Type),N.IsRequired?e.jsx("span",{className:"asterisk",children:"*"}):e.jsx("button",{style:{marginLeft:"10px"},className:"remove-button",onClick:()=>f(N.Id),children:"Remove"})]}),N.ProfessionalDocument===null&&((q=N.JobSuggestedDocCount)==null?void 0:q.Count)>0&&e.jsx(tt,{facilityId:l,jobId:s,professionalId:t,jobApplicationId:h,jobComplianceId:N.Id,documentId:N.DocumentMaster.Id,fetchDocuments:()=>{y(),c()},type:"facility",DocCount:(H=N.JobSuggestedDocCount)!=null&&H.Count?(Q=N.JobSuggestedDocCount)==null?void 0:Q.Count:0}),N.ProfessionalDocument!==null&&d()?e.jsxs("div",{className:"view-file-wrapper onboarding-wrapper mb-3",style:{border:"1px solid",borderColor:"#E1BAAA",backgroundColor:"rgba(231, 76, 60, 0.06)",padding:"10px"},children:[e.jsx("div",{className:"d-flex align-items-center justify-content-between flex-wrap",style:{gap:"8px"},children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"d-flex hover:border-blue",style:{height:"50px",width:"50px",border:"1px solid",borderColor:"#DDDDEA",borderRadius:"5px",justifyContent:"center",alignItems:"center",backgroundColor:"#fff",marginRight:"10px"},onClick:()=>{var B,R;O(N.Id,(B=N.ProfessionalDocument)!=null&&B.FileName?(R=N.ProfessionalDocument)==null?void 0:R.FileName:"document.pdf")},children:e.jsx("img",{src:As,style:{height:"32px",width:"32px"}})}),e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("p",{className:"file-name",style:{marginBottom:"0px",marginRight:"10px"},children:z(N.DocumentMaster.Type)}),e.jsx("span",{className:"remove-button",onClick:()=>C(N.Id),children:"Remove"})]}),e.jsx("div",{className:"file-content",children:e.jsxs("p",{style:{marginBottom:"0px"},className:"d-flex flex-wrap",children:[e.jsxs("div",{className:"me-2",children:[e.jsx("span",{className:"onboard-title",children:"Uploaded On:"}),e.jsx("span",{className:"onboard-info-content",children:Ce(N.ProfessionalDocument.CreatedOn)})]}),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"me-2",children:[e.jsxs("span",{className:"onboard-title",children:["Effective Date:"," "]}),e.jsx("span",{className:"onboard-info-content",children:ne(N.EffectiveDate?N.EffectiveDate:"").format("MM-DD-YYYY")})]}),e.jsxs("div",{style:{color:"#E74C3C"},children:[e.jsxs("span",{style:{fontSize:"14px",fontWeight:"500",fontStyle:"normal",lineHeight:"11px"},children:["Expiry Date:"," "]}),e.jsx("span",{style:{fontSize:"14px",fontWeight:"400",fontStyle:"normal",lineHeight:"11px"},children:N.ExpiryDate})]})]})]})})]})]})}),e.jsx("div",{className:"view-file-wrapper bg-white border-0 p-0 mt-3",children:e.jsx(vl,{children:e.jsxs("div",{className:"file-picker-wrapper d-flex p-2 px-4",style:{alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx(u,{for:`file-picker-${N.ProfessionalDocument.Id}`,className:"file-picker-label-small",children:"Upload File"}),e.jsxs("div",{children:[g&&e.jsx("p",{className:"file-name",children:g.name}),e.jsx("p",{className:"file-para",children:"Supported Formats: doc, docx, pdf, jpg, jpeg, png, heic up to 2 MB"})]}),e.jsx("input",{id:`file-picker-${N.ProfessionalDocument.Id}`,name:`file-picker-${N.ProfessionalDocument.Id}`,className:"custom-input",accept:".pdf, .doc, .docx, .jpg, .jpeg, .png, .heic",type:"file",style:{display:"none"},onChange:B=>{w(B)}})]}),e.jsx("div",{children:e.jsx(le,{className:"primary-btn",onClick:()=>{F({name:N.DocumentMaster.Type,docId:N.Id})},children:"Save & Upload"})})]})})})]}):N.ProfessionalDocument!==null?e.jsx("div",{className:"view-file-wrapper onboarding-wrapper mb-3",children:e.jsxs("div",{className:"d-flex align-items-center view-file-info-section justify-content-between pb-3 pt-3 flex-wrap",style:{gap:"8px"},children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"file-img d-flex",onClick:()=>{var B,R;O(N.Id,(B=N.ProfessionalDocument)!=null&&B.FileName?(R=N.ProfessionalDocument)==null?void 0:R.FileName:"document.pdf")},children:e.jsx("img",{src:As,className:""})}),e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("p",{className:"file-name",style:{marginBottom:"0px",marginRight:"10px"},children:z(N.DocumentMaster.Type)}),e.jsx("span",{className:"remove-button",onClick:()=>C(N.Id),children:"Remove"})]}),!N.IsApproved&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"onboard-title",children:"Uploaded On:"}),e.jsx("span",{className:"onboard-info-content",style:{marginRight:"15px"},children:Ce(N.ProfessionalDocument.CreatedOn)})]}),e.jsx("div",{className:"file-content",children:e.jsxs("p",{style:{marginBottom:"0px"},children:[N.IsInternalUse&&e.jsxs(e.Fragment,{children:[e.jsx("img",{src:it,className:""}),e.jsx("span",{className:"onboard-title text-red mx-2",children:"Internal Use Only"})]}),N.IsApproved&&e.jsxs("div",{children:[e.jsxs("div",{className:"me-2",children:[e.jsx("span",{className:"onboard-title",children:"Uploaded On:"}),e.jsx("span",{className:"onboard-info-content",style:{marginRight:"15px"},children:Ce(N.ProfessionalDocument.CreatedOn)}),e.jsxs("span",{className:"onboard-title",children:["Effective Date:"," "]}),e.jsx("span",{className:"onboard-info-content",style:{marginRight:"15px"},children:ne(N.EffectiveDate?N.EffectiveDate:"").format("MM-DD-YYYY")}),e.jsxs("span",{className:"onboard-title",children:["Expiry Date:"," "]}),e.jsx("span",{className:"onboard-info-content",children:N.ExpiryDate})]}),e.jsxs("p",{style:{marginBottom:"0px"},className:"d-flex",children:[e.jsxs("div",{className:"me-2",children:[e.jsxs("span",{className:"onboard-title",children:[e.jsx("img",{src:ct})," Approved By:"," "]}),e.jsx("span",{className:"onboard-info-content",children:N.ApprovedByUser?`${z(N.ApprovedByUser.FirstName)}  ${z(N.ApprovedByUser.LastName)}`:""})]}),e.jsxs("div",{className:"me-2",children:[e.jsxs("span",{className:"onboard-title",children:["Approved On:"," "]}),e.jsx("span",{className:"onboard-info-content",style:{marginRight:"15px"},children:Ce(N.ApprovedOn?N.ApprovedOn:"")})]})]})]})]})})]})]}),!N.IsApproved&&e.jsxs("div",{className:"d-flex",children:[e.jsx("button",{className:"approve-button",onClick:()=>{k()},children:"Approve"}),e.jsx("button",{className:" onboarding-remove-button Onboarding-button-text-color hover:bg-white",onClick:()=>{M()},children:"Reject"})]})]})}):e.jsx(Ui,{name:z(N.DocumentMaster.Type),documentId:N.Id,jobId:s,facilityId:l,professionalId:t,jobApplicationId:h,fetchDocuments:y,fetchList:y},N.Id)]}),b&&e.jsx(Gi,{isOpen:b,toggle:M,facilityId:l,jobId:s,professionalId:t,jobApplicationId:h,document:N,fetchDocuments:y,fetchList:y}),a&&e.jsx(zi,{isOpen:a,toggle:k,facilityId:l,jobId:s,professionalId:t,jobApplicationId:h,document:N,fetchDocuments:y,fetchList:y})]})]})},Qi=({facilityId:l,jobId:s,professionalId:t,jobApplicationId:h,fetchList:y})=>{const[c,N]=r.useState("idle"),[g,i]=r.useState([]),[o,n]=r.useState(!1),b=()=>{n(!o)},S=r.useCallback(async()=>{N("loading");try{const a=await as.fetchOnboardingDocuments({jobId:s,facilityId:l,professionalId:t,jobApplicationId:h});a.status===200&&(i(a.data.data),N("idle"))}catch(a){console.error(a),E("error",a.response.data.message||"An error occurred")}},[l,s,t,h]);return r.useEffect(()=>{S()},[S]),e.jsxs(e.Fragment,{children:[c==="loading"&&e.jsx(de,{}),e.jsxs("div",{className:"offer-wrapper p-3",style:{boxShadow:"0px 2px 2px 0px #00000026"},children:[g.map(a=>e.jsx(e.Fragment,{children:e.jsx(Vi,{onboardingDocument:a,facilityId:l,jobId:s,professionalId:t,jobApplicationId:h,fetchDocuments:S,fetchList:y},a.Id)})),e.jsx("div",{className:"right-buttons text-start justify-content-start mt-4",children:e.jsx(le,{className:"professional-button text-nowrap",onClick:()=>n(!0),children:"Add new Documents"})}),o&&e.jsx(Yi,{isOpen:o,toggle:b,facilityId:l,jobId:s,professionalId:t,jobApplicationId:h,fetchDocuments:S,fetchList:y})]})]})},Xi=({activeTab:l,toggleTab:s})=>{const t=[{Id:1,Category:"Profile Details"},{Id:2,Category:"Onboarding Documents"},{Id:3,Category:"Assignment Details"}];return e.jsx("div",{className:"facility-header-wrap no-shadow",children:e.jsx("div",{className:"tab-wrapper ",children:e.jsx(ml,{tabs:!0,children:t.map(h=>e.jsx(ul,{className:"nav-item",children:e.jsx(hl,{className:` ${l===h.Id?"show":""}`,onClick:()=>s(h.Id),to:"",children:h.Category})},h.Id))})})})},Zi=({jobId:l,professionalId:s,isOpen:t,toggle:h,currentApplicantId:y,currentAssignmentId:c,status:N,fetchList:g,row:i})=>{const[o,n]=r.useState("loading"),[b,S]=r.useState(1),[a,x]=r.useState(null),d=He(),C=r.useCallback(async()=>{n("loading");try{const O=await rt({jobId:l,professionalId:s,facilityId:Number(d.Id)});x(O.data.data[0]),n("idle")}catch(O){n("error"),console.error(O)}},[l,d.Id,s]);r.useEffect(()=>{C()},[C]);const f=O=>{b!==O&&S(O)};return e.jsxs(e.Fragment,{children:[o==="loading"&&a===null&&e.jsx(de,{}),e.jsxs(we,{isOpen:t,toggle:h,centered:!0,size:"xl",className:"onboard-modal",children:[e.jsxs(Be,{toggle:h,children:[a?`${z(a.FirstName)} ${z(a.LastName)}`:"","’s Profile"]}),e.jsx(Fe,{children:e.jsx("div",{className:"view-file-wrapper",children:e.jsxs("div",{children:[e.jsx("div",{className:"header-wrap",style:{position:"sticky",top:"0px",zIndex:"9999"},children:e.jsx(Xi,{activeTab:b,toggleTab:f})}),e.jsxs(al,{activeTab:b,children:[e.jsxs(Ls,{tabId:1,children:[e.jsx("div",{children:e.jsx(Ws,{status:N,professionalId:s,currentProfessional:a})}),e.jsx(qi,{jobId:l,facilityId:Number(d.Id),professionalId:s,toggle:h,toggleTab:f})]}),e.jsxs(Ls,{tabId:2,children:[e.jsx("div",{children:e.jsx(Ws,{status:N,professionalId:s,currentProfessional:a})}),e.jsx(Qi,{facilityId:Number(d.Id),jobId:l,professionalId:s,jobApplicationId:y,fetchList:g})]}),e.jsxs(Ls,{tabId:3,children:[e.jsx("div",{className:"mb-2",children:e.jsx(Ws,{status:N,professionalId:s,currentProfessional:a})}),a&&e.jsx($i,{reqId:i.JobApplication.JobAssignments[0].ReqId,professionalId:s,jobId:l,facilityId:Number(d.Id),jobApplicationId:y,jobAssignmentId:c,currentProfessional:a,toggle:h,fetchList:g})]})]})]})})})]})]})},Ki=({row:l})=>{var g,i,o;const s=(g=l.JobApplication)==null?void 0:g.JobComplianceDocuments;function t(n){return n===100?"percentage-above-50":"percentage-below-50"}const h=n=>{const b=ne(n),S=ne();return b.isSameOrBefore(S,"day")},y=s.filter(n=>n.ProfessionalDocument&&!h(n.ExpiryDate)),c=t((((i=l.JobApplication)==null?void 0:i.UploadedDocCount)??0)/(((o=l.JobApplication)==null?void 0:o.DocCount)??1)*100),N=n=>{const b=s.filter(S=>!S.ProfessionalDocument||S.ExpiryDate&&h(S.ExpiryDate));return e.jsx(Tl,{id:"tooltip",className:"custom-onboard-tooltip",...n,children:e.jsxs("div",{className:"custom-onboard-tooltip",style:{display:"flex",flexDirection:"column"},children:[e.jsx("h6",{children:"Document Status"}),e.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"1rem"},children:[e.jsx("div",{style:{display:"flex",flexDirection:"column"},children:y.map((S,a)=>e.jsxs("div",{className:"doc-item doc-check",children:[e.jsx("img",{src:nt,className:"doc-img",alt:"check"}),e.jsx("span",{className:"doc-type",children:z(S.DocumentMaster.Type)})]},a))}),e.jsx("div",{style:{display:"flex",flexDirection:"column"},children:b.map((S,a)=>e.jsxs("div",{className:"doc-item",children:[e.jsx("img",{src:dt,className:"doc-img",alt:"cancel"}),e.jsx("span",{className:"doc-type",children:z(S.DocumentMaster.Type)})]},a))})]})]})})};return e.jsxs(e.Fragment,{children:[e.jsx(Il,{placement:"left",trigger:["hover","focus"],overlay:N,children:e.jsxs("span",{className:`doc-status ${c}`,style:{color:"white"},children:[(y.length/s.length*100).toFixed(0),"%"]})}),e.jsx("span",{children:`
                ${y.length}/${s.length}
            `})]})},_i=()=>{const l=gs(),s=({facilityId:J,jobId:V})=>{l(`/view/facility/${J}/job/${V}`)},[t,h]=r.useState(!1),[y,c]=r.useState(!1),N=He(),[g,i]=r.useState(""),[o,n]=r.useState("idle"),[b,S]=r.useState([]),[a,x]=r.useState(null),[d,C]=r.useState(null),[f,O]=r.useState(null),[M,k]=r.useState(null),[w,F]=r.useState(null),[q,H]=r.useState(""),[Q,B]=r.useState(!1),R=new AbortController,$=r.useCallback(xs(async()=>{n("loading");try{const J=await as.getFacilityOnboarding({id:Number(N.Id),search:g.length>0?g:void 0,abortController:R});J.status===200&&(n("idle"),S(J.data.data))}catch(J){if(R.signal.aborted){B(!0);return}n("error"),console.error(J)}},300),[N.Id,g,Q]),D=xs(async()=>{n("loading");try{const J=await as.getFacilityOnboardingPdf(Number(N.Id));J.status===200&&(E("success",J.data.message||"Facility onboarding PDF request sent succesfully"),n("idle"))}catch(J){console.error(J),n("error"),E("error",J.response.data.message||"An error occurred")}},1e3);r.useEffect(()=>($(),()=>R.abort()),[$,Q]);const T=()=>{c(!y)},v=()=>{h(!0)},U=()=>{h(!1)},Y=[{name:"Job ID",cell:J=>e.jsxs("div",{className:"center-align roster-jobid",onClick:()=>{s({facilityId:Number(N.Id),jobId:J.JobId})},children:["JID-",J.JobId]}),minWidth:"100px"},{name:"Client Req ID",cell:J=>e.jsx("span",{className:"row-user-name",children:J!=null&&J.JobApplication.JobAssignments[0].ReqId?J==null?void 0:J.JobApplication.JobAssignments[0].ReqId.toUpperCase():"-"}),minWidth:"120px"},{name:"Professional Name",minWidth:"250px",cell:J=>e.jsxs("div",{className:"table-username",onClick:()=>{x(J==null?void 0:J.JobApplication.Professional.Id),O(J==null?void 0:J.JobApplication.Id),k(J==null?void 0:J.JobApplication.JobAssignments[0].Id),C(J.JobId),H(J==null?void 0:J.JobApplication.JobAssignments[0].JobApplicationStatus.Status),F(J),c(!0)},children:[e.jsxs("p",{style:{marginRight:"5px"},className:"name-logo",children:[z(J==null?void 0:J.JobApplication.Professional.FirstName[0]),z(J==null?void 0:J.JobApplication.Professional.LastName[0])]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsxs("span",{className:"center-align text-align",children:[z(J==null?void 0:J.JobApplication.Professional.FirstName)," ",z(J==null?void 0:J.JobApplication.Professional.LastName)]}),e.jsx("span",{className:"text-color",children:J==null?void 0:J.JobApplication.Professional.Email})]})]})},{name:"Start Date & End Date",minWidth:"200px",cell:J=>{var V,A;return e.jsxs("div",{className:"center-align",children:[(V=J==null?void 0:J.JobApplication)!=null&&V.JobAssignments?Te(J==null?void 0:J.JobApplication.JobAssignments[0].StartDate).replace(/-/g,"/"):"-","-"," ",(A=J==null?void 0:J.JobApplication)!=null&&A.JobAssignments?Te(J==null?void 0:J.JobApplication.JobAssignments[0].EndDate).replace(/-/g,"/"):"-"]})}},{name:"Profession",minWidth:"150px",cell:J=>e.jsx("div",{className:"center-align",children:J==null?void 0:J.JobApplication.JobAssignments[0].JobProfession.Profession})},{name:"Unit",minWidth:"100px",cell:J=>e.jsx("div",{className:"center-align",children:J==null?void 0:J.JobApplication.JobAssignments[0].Unit})},{name:"Compliance Due",minWidth:"150px",cell:J=>e.jsx("div",{className:"center-align",children:J==null?void 0:J.JobApplication.JobAssignments[0].ComplianceDueDate})},{name:"Document Status",minWidth:"180px",cell:J=>e.jsx(e.Fragment,{children:e.jsx(Ki,{professionalId:J==null?void 0:J.JobApplication.Professional.Id,jobId:J.JobId,jobApplicationId:J==null?void 0:J.JobApplication.Id,facilityId:Number(N.Id),row:J,documentStatusData:b})})}];return e.jsxs(e.Fragment,{children:[o==="loading"&&e.jsx(de,{}),e.jsxs(ys,{children:[e.jsx("h2",{className:"page-content-header",children:"Onboarding Professionals"}),e.jsxs("div",{className:"d-flex justify-content-space-between align-items-center mb-3 gap-2",children:[e.jsxs("div",{className:"search-bar-wrapper flex-grow-1 me-0",children:[e.jsx(p,{placeholder:"Search Here",value:g,onChange:J=>i(J.target.value)}),e.jsx("img",{src:Hs,alt:"search"})]}),e.jsxs("button",{className:"note-right-button button-text-color document-btn",onMouseEnter:v,onMouseLeave:U,color:t?"#FFF":"",disabled:b.length===0,onClick:D,children:[e.jsx(ot,{color:t?"#fff":"#7F47DD"})," ","Document Status"]})]}),e.jsx("div",{className:"datatable-wrapper facility-onboarding-datatable",children:b.length!==0&&e.jsx(Ps,{columns:Y,data:b})})]}),y&&w&&a&&d&&f&&M&&q&&e.jsx(Zi,{row:w,professionalId:a,jobId:d,status:q,isOpen:y,toggle:T,currentApplicantId:f,currentAssignmentId:M,fetchList:$})]})},Ai=({isOpen:l,toggle:s,facilityId:t,professionalId:h,jobApplicationId:y,jobAssignmentId:c,jobId:N,currentStatus:g,fetchRosterData:i})=>{const[o,n]=r.useState(!1),[b,S]=r.useState(!0);return e.jsxs(e.Fragment,{children:[e.jsxs(we,{isOpen:l,toggle:s,centered:!0,className:"extension-modal",children:[e.jsx(Be,{toggle:s,children:" Service Extension Request "}),e.jsx(Fe,{style:{width:"75%"},children:e.jsx(Ze,{children:e.jsxs(ge,{className:"justify-content-center",children:[e.jsx("span",{className:"extension-radio purple-radio-extension",children:e.jsx(Fl,{name:"extensionradio",disabled:!1,options:[{label:"Request Extension with Client",value:"true"},{label:"Send Extension Offer to Professional",value:"false"}],selected:b?"true":"false",onChange:()=>{S(!b)},className:"custom-radio-style"})}),e.jsx(m,{md:"12",className:"col-group",children:e.jsxs("div",{className:" extension-btn-wrapper",children:[e.jsx(le,{className:"primary-btn",style:{marginLeft:"0px!important"},onClick:()=>{n(!0)},children:"Proceed"}),e.jsx(le,{className:"secondary-btn",onClick:s,children:"Cancel"})]})})]})})})]}),o&&e.jsx(Da,{isEmail:b,facilityId:t,professionalId:h,jobId:N,jobApplicationId:y,jobAssignmentId:c,currentStatus:g,isOpen:o,toggle:()=>{n(!1)},toggleParent:s,fetchRoster:i})]})};class ec{constructor(){ss(this,"fetchProfessionalDetails",async({facilityId:s,jobId:t,professionalId:h})=>await pe.get(`/api/v1/protected/submodules/facilities/${s}/gighistory/job/${t}/professional/${h}/details`));ss(this,"fetchProfessionalWorkHistory",async({facilityId:s,jobId:t,professionalId:h})=>await pe.get(`/api/v1/protected/submodules/facilities/${s}/gighistory/job/${t}/professional/${h}/work-history`));ss(this,"fetchProfessionalReferences",async({facilityId:s,jobId:t,professionalId:h})=>await pe.get(`/api/v1/protected/submodules/facilities/${s}/gighistory/job/${t}/professional/${h}/references`));ss(this,"fetchProfessionalEducation",async({facilityId:s,jobId:t,professionalId:h})=>await pe.get(`/api/v1/protected/submodules/facilities/${s}/gighistory/job/${t}/professional/${h}/education`));ss(this,"fetchProfessionalLicenses",async({facilityId:s,jobId:t,professionalId:h})=>await pe.get(`/api/v1/protected/submodules/facilities/${s}/gighistory/job/${t}/professional/${h}/licenses`));ss(this,"fetchProfessionalCertifications",async({facilityId:s,jobId:t,professionalId:h})=>await pe.get(`/api/v1/protected/submodules/facilities/${s}/gighistory/job/${t}/professional/${h}/certifications`));ss(this,"fetchProfessionalDocuments",async({facilityId:s,jobId:t,professionalId:h,page:y,size:c})=>{const N=new URLSearchParams;return N.append("page",y.toString()),N.append("size",c.toString()),await pe.get(`/api/v1/protected/submodules/facilities/${s}/gighistory/job/${t}/professional/${h}/documents?${N}`)});ss(this,"downloadProfessionalDocument",async({facilityId:s,jobId:t,professionalId:h,docId:y})=>await pe.get(`/api/v1/protected/submodules/facilities/${s}/gighistory/job/${t}/professional/${h}/document/download/${y}`));ss(this,"fetchSubmissionDocuments",async({facilityId:s,jobId:t,professionalId:h,jobApplicationId:y})=>await pe.get(`/api/v1/protected/submodules/facilities/${s}/gighistory/job/${t}/professional/${h}/job-applications/${y}/documents/submission`));ss(this,"fetchJobAssignment",async({facilityId:s,jobId:t,professionalId:h,jobApplicationId:y,jobAssignmentId:c})=>await pe.get(`/api/v1/protected/submodules/facilities/${s}/gighistory/job/${t}/professional/${h}/job-applications/${y}/job-assignment/${c}`));ss(this,"declineAssignment",({facilityId:s,jobId:t,professionalId:h,jobApplicationId:y,jobAssignmentId:c,value:N})=>pe.put(`/api/v1/protected/submodules/facilities/${s}/gighistory/job/${t}/professional/${h}/job-applications/${y}/job-assignment/${c}/decline`,{status:N}));ss(this,"declineApplication",({facilityId:s,jobId:t,professionalId:h,jobApplicationId:y,value:c})=>pe.put(`/api/v1/protected/submodules/facilities/${s}/gighistory/job/${t}/professional/${h}/job-applications/${y}/decline`,{status:c}));ss(this,"extensionPlacement",async({facilityId:s,jobId:t,professionalId:h,jobApplicationId:y,jobAssignmentId:c})=>await pe.put(`/api/v1/protected/submodules/facilities/${s}/gighistory/job/${t}/professional/${h}/job-applications/${y}/job-assignment/${c}/extension/placement`));ss(this,"approveExtension",async({facilityId:s,jobId:t,professionalId:h,jobApplicationId:y,jobAssignmentId:c})=>await pe.put(`/api/v1/protected/submodules/facilities/${s}/gighistory/job/${t}/professional/${h}/job-applications/${y}/job-assignment/${c}/extension/approve`));ss(this,"placeJobAssignment",async({facilityId:s,jobId:t,professionalId:h,jobApplicationId:y,jobAssignmentId:c})=>await pe.put(`/api/v1/protected/submodules/facilities/${s}/gighistory/job/${t}/professional/${h}/job-applications/${y}/job-assignment/${c}/placement`));ss(this,"fetchSubmissionPdf",({facilityId:s,jobId:t,professionalId:h,jobApplicationId:y})=>pe.get(`/api/v1/protected/submodules/facilities/${s}/gighistory/job/${t}/professional/${h}/job-applications/${y}/submission/pdf`,{responseType:"blob"}));ss(this,"editAssignment",({facilityId:s,jobId:t,professionalId:h,jobApplicationId:y,jobAssignmentId:c,data:N})=>pe.put(`/api/v1/protected/submodules/facilities/${s}/gighistory/job/${t}/professional/${h}/job-applications/${y}/job-assignment/${c}/edit`,N))}async getFacilityGigHistory({facilityId:s,size:t,page:h,search:y,startDate:c,endDate:N,abortController:g}){const i=new URLSearchParams;t&&i.append("size",t.toString()),h&&i.append("page",h.toString()),y&&i.append("search",y),c&&i.append("startDate",c),N&&i.append("endDate",N);const o=i.toString();return await pe.get(`/api/v1/protected/submodules/facilities/${s}/gighistory/list${o?`?${o}`:""}`,{signal:g==null?void 0:g.signal})}async getJobAssignment({professionalId:s,facilityId:t,jobId:h,jobApplicationId:y,jobAssignmentId:c}){return await pe.get(`/api/v1/protected/submodules/facilities/${t}/gighistory/job/${h}/professional/${s}/job-applications/${y}/job-assignment/${c}`)}async fetchJobSubmission({facilityId:s,jobId:t,professionalId:h,jobApplicationId:y}){return await pe.get(`/api/v1/protected/submodules/facilities/${s}/gighistory/job/${t}/professional/${h}/job-applications/${y}/submission`)}}const Oe=new ec,sc=({jobId:l,professionalId:s,facilityId:t,jobApplicationId:h,toggle:y,toggleTab:c})=>{const[N,g]=r.useState("idle"),[i,o]=r.useState([]),n=r.useCallback(async()=>{g("loading");try{const b=await Oe.fetchSubmissionDocuments({jobApplicationId:h,jobId:l,professionalId:s,facilityId:t});b.status===200&&(o(b.data.data),g("idle"))}catch(b){console.error(b),g("error")}},[h,t,l,s]);return r.useEffect(()=>{n()},[n]),e.jsxs(e.Fragment,{children:[N==="loading"&&e.jsx(de,{}),e.jsxs("div",{className:"offer-wrapper",children:[e.jsx("h5",{children:e.jsx("p",{children:"Onboarding Documents"})}),e.jsx("div",{style:{display:"flex",flexDirection:"row",flex:"1 50%",flexWrap:"wrap",gap:"10px"},children:i&&i.filter(b=>b.ProfessionalDocument!==null).map(b=>e.jsx(xt,{ApplicantDocumentObject:b,jobId:l,professionalId:s,facilityId:t,currentApplicantId:h}))}),e.jsxs("div",{className:"mt-4",children:[e.jsx(le,{className:"primary-btn ms-0",onClick:()=>{c(3)},children:"Next"}),e.jsx(le,{className:"secondary-btn",onClick:y,children:"Cancel"})]})]})]})},lc=({professionalId:l,jobId:s,facilityId:t,toggle:h,toggleTab:y})=>{const[c,N]=r.useState([]),[g,i]=r.useState([]),[o,n]=r.useState([]),[b,S]=r.useState([]),[a,x]=r.useState([]),[d,C]=r.useState([]),[f,O]=r.useState(1),[M,k]=r.useState(10),[w,F]=r.useState(0),[q,H]=r.useState(0),[Q,B]=r.useState("idle"),R=r.useCallback(async()=>{var D,T;B("loading");try{const v=await Oe.fetchProfessionalDocuments({facilityId:t,jobId:s,professionalId:l,size:M,page:f});v.status===200&&(F((D=v.data.data[0])==null?void 0:D.count),H(Math.ceil(((T=v.data.data[0])==null?void 0:T.count)/M)),C(v.data.data[0].rows),B("idle"))}catch(v){E("Error fetching documents",v),console.error("Error fetching documents:",v)}},[t,s,l,f,M]);r.useEffect(()=>{R()},[R]),r.useEffect(()=>{B("loading");const D=async(U,Y)=>{try{const J=await U();Y(J.data.data)}catch(J){E("Error fetching data",J),console.error("Error fetching data:",J)}},T=[Oe.fetchProfessionalWorkHistory,Oe.fetchProfessionalReferences,Oe.fetchProfessionalEducation,Oe.fetchProfessionalLicenses,Oe.fetchProfessionalCertifications],v=[N,i,n,S,x];Promise.allSettled(T.map((U,Y)=>D(()=>U({jobId:s,professionalId:l,facilityId:t}),v[Y]))).then(()=>B("idle"))},[t,s,l]);const $=async D=>{O(D)};return e.jsxs(e.Fragment,{children:[Q==="loading"&&e.jsx(de,{}),e.jsxs("div",{style:{marginTop:"10px",marginBottom:"20px"},children:[e.jsxs("div",{className:"facility-header-wrap",children:[c.length>0&&e.jsx("div",{style:{borderRadius:"4px",background:"#fff",boxShadow:"0px 2px 2px 0px rgba(0, 0, 0, 0.25)",marginTop:"10px",marginBottom:"10px"},children:e.jsxs("div",{className:"facility-header-wrap",style:{padding:"10px 0px"},children:[e.jsx("span",{className:"section-header",style:{marginLeft:"20px"},children:"Work History"}),e.jsx("div",{style:{padding:"0px 20px"},children:c.map(D=>e.jsx(yl,{fetch:()=>{},workHistory:D,professionalId:1,isReadOnly:!0}))})]})}),g.length>0&&e.jsx("div",{style:{borderRadius:"4px",background:"#fff",boxShadow:"0px 2px 2px 0px rgba(0, 0, 0, 0.25)",marginTop:"10px",marginBottom:"10px"},children:e.jsxs("div",{className:"facility-header-wrap",style:{padding:"10px 0px"},children:[e.jsx("span",{className:"section-header",style:{marginLeft:"20px"},children:"References"}),g.map(D=>e.jsx(jl,{reference:D}))]})})]}),o.length>0&&e.jsx("div",{style:{borderRadius:"4px",background:"#fff",boxShadow:"0px 2px 2px 0px rgba(0, 0, 0, 0.25)",marginTop:"10px",marginBottom:"10px"},children:e.jsxs("div",{className:"facility-header-wrap",style:{padding:"0px 0px"},children:[e.jsx("span",{className:"section-header",style:{marginLeft:"20px"},children:"Education"}),o.map(D=>e.jsx(Nl,{education:D}))]})}),(b.length>0||a.length>0)&&e.jsx("div",{style:{borderRadius:"4px",background:"#fff",boxShadow:"0px 2px 2px 0px rgba(0, 0, 0, 0.25)",marginTop:"10px",marginBottom:"10px"},children:e.jsxs("div",{className:"facility-header-wrap",style:{padding:"10px 0px"},children:[e.jsx("span",{className:"section-header",style:{padding:"10px 21px"},children:"Professional Information"}),e.jsx("div",{className:"wrapper",children:e.jsxs("div",{className:"details-wrapper",children:[b.length>0&&e.jsx("span",{className:"prof-card-header",children:"Licenses"}),b.map(D=>e.jsx(ba,{license:D})),a.length>0&&e.jsx("span",{className:"prof-card-header",style:{marginTop:"10px",marginBottom:"0px"},children:"Certifications"}),a.map(D=>e.jsx(va,{certificate:D}))]})})]})}),d.length>0&&e.jsx("div",{style:{borderRadius:"4px",background:"#fff",boxShadow:"0px 2px 2px 0px rgba(0, 0, 0, 0.25)",marginTop:"10px",marginBottom:"10px"},children:e.jsxs("div",{className:"facility-header-wrap",style:{padding:"10px 10px"},children:[e.jsx("span",{className:"section-header",style:{padding:"10px"},children:"Documents"}),d.map(D=>e.jsx(fl,{doc:D,facilityId:t,jobId:s,professionalId:l})),e.jsx("div",{style:{marginTop:"auto",margin:"0px 10px"},children:e.jsx(_s,{currentPage:f,totalPages:q,onPageChange:$,onPageSizeChange:k,entriesPerPage:M,totalRows:w,setPage:O})})]})})]}),e.jsxs("div",{className:"mt-4 mb-4",children:[e.jsx(le,{className:"primary-btn ms-0",onClick:()=>{y(2)},children:"Next"}),e.jsx(le,{className:"secondary-btn",onClick:h,children:"Cancel"})]})]})},ac=({jobApplicationId:l,facilityId:s,jobId:t,professionalId:h,toggle:y,professionalDetails:c})=>{var b,S;const[N,g]=r.useState("idle"),[i,o]=r.useState(null),n=r.useCallback(async()=>{g("loading");try{const a=await Oe.fetchJobSubmission({facilityId:s,jobId:t,professionalId:h,jobApplicationId:l});a.status===200&&(o(a.data.data[0]),g("idle"))}catch(a){console.error(a)}},[s,t,h,l]);return r.useEffect(()=>{n()},[n]),e.jsxs(e.Fragment,{children:[c===null&&N==="loading"&&e.jsx(de,{}),e.jsxs("div",{className:"offer-wrapper",children:[e.jsxs(Ze,{children:[e.jsxs(ge,{children:[e.jsx("h5",{children:"Candidate Information"}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"First Name"}),e.jsx(p,{value:z(c!=null&&c.FirstName?c==null?void 0:c.FirstName:""),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Last Name"}),e.jsx(p,{value:z(c!=null&&c.LastName?c==null?void 0:c.LastName:""),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Phone Number"}),e.jsx(p,{disabled:!0,value:is(c!=null&&c.Phone?c==null?void 0:c.Phone:"")})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Email Address"}),e.jsx(p,{value:c!=null&&c.Email?c==null?void 0:c.Email:"",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"SSN#"}),e.jsx(p,{value:c!=null&&c.Ssn?c==null?void 0:c.Ssn:"",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Date Of Birth"}),e.jsx(ts,{value:c!=null&&c.Dob?Ce(c==null?void 0:c.Dob):"",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Address"}),e.jsx(p,{className:"text-capitalize",value:c!=null&&c.Address?c==null?void 0:c.Address:"",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"2",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"State"}),e.jsx(p,{value:c!=null&&c.State?c==null?void 0:c.State.State:"",disabled:!0})]}),e.jsxs(m,{xxl:"2",xl:"2",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"City"}),e.jsx(p,{value:c!=null&&c.City?c==null?void 0:c.City.City:"",disabled:!0})]}),e.jsxs(m,{xxl:"2",xl:"2",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Zip Code"}),e.jsx(p,{value:c!=null&&c.ZipCode?c==null?void 0:c.ZipCode.ZipCode:"",disabled:!0})]}),e.jsx("h6",{children:"Submission Information"}),e.jsxs(m,{xxl:"8",xl:"8",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Facility Submitting To"}),e.jsx(p,{disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Unit"}),e.jsx(p,{className:"text-capitalize",value:i!=null&&i.Unit?i==null?void 0:i.Unit:"",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Available Start Date"}),e.jsx(p,{value:i!=null&&i.AvailableStartDate&&(i!=null&&i.AvailableStartDate)?ne((b=i==null?void 0:i.AvailableStartDate)==null?void 0:b.toString()).format("MM-DD-YYYY"):"",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Shift"}),e.jsx(p,{value:i!=null&&i.JobShift?i==null?void 0:i.JobShift.Shift:"",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Requesting Time Off"}),e.jsx(p,{value:i!=null&&i.JobRequestingTimeOffs&&(i==null?void 0:i.JobRequestingTimeOffs.length)>0?(S=i==null?void 0:i.JobRequestingTimeOffs)==null?void 0:S.map(a=>ne(a.Date).format("MM-DD-YYYY")):"",disabled:!0})]}),e.jsx("h6",{children:"Candidate Summary"}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Total Years of Experience"}),e.jsx(p,{value:i!=null&&i.TotalYoe?i==null?void 0:i.TotalYoe:"",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Years of Experience in Unit Submitting"}),e.jsx(p,{value:i!=null&&i.TotalYoeInUnit?i==null?void 0:i.TotalYoeInUnit:"",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Travel Experience"}),e.jsx(rl,{isDisabled:!0,id:"travel-experience",name:"travel-experience",options:[{value:!0,label:"Yes"},{value:!1,label:"No"}],placeholder:"",value:i!=null&&i.TravelExperience?{value:!0,label:"Yes"}:{value:!1,label:"No"},onChange:a=>console.log(a),noOptionsMessage:()=>"No Category Found"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Trauma Experience"}),e.jsx(rl,{isDisabled:!0,id:"trauma-experience",name:"trauma-experience",options:[{value:!0,label:"Yes"},{value:!1,label:"No"}],placeholder:"",value:i!=null&&i.TraumeExperience?{value:!0,label:"Yes"}:{value:!1,label:"No"},onChange:a=>console.log(a),noOptionsMessage:()=>"No Category Found"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Teaching Hospital Experience"}),e.jsx(rl,{isDisabled:!0,id:"teaching-hospital-experience",name:"teaching-hospital-experience",options:[{value:!0,label:"Yes"},{value:!1,label:"No"}],placeholder:"",value:i!=null&&i.TeachingHospitalExperience?{value:!0,label:"Yes"}:{value:!1,label:"No"},onChange:a=>console.log(a),noOptionsMessage:()=>"No Category Found"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"EMR Experience"}),e.jsx(rl,{isDisabled:!0,id:"emr-experience",name:"emr-experience",options:[{value:!0,label:"Yes"},{value:!1,label:"No"}],placeholder:"",value:i!=null&&i.EmrExperience?{value:!0,label:"Yes"}:{value:!1,label:"No"},onChange:a=>console.log(a),noOptionsMessage:()=>"No Category Found"})]})]}),e.jsx("div",{children:e.jsx("h6",{children:"Additional Notes"})}),e.jsx(ge,{children:e.jsxs(m,{xxl:"12",xl:"12",lg:"12",className:"col-group",children:[e.jsx(u,{className:"",children:"Notes"}),e.jsx(ps,{className:"text-capitalize",disabled:!0,value:i!=null&&i.Notes?i==null?void 0:i.Notes:""})]})})]}),e.jsx("div",{style:{marginLeft:"0px"},children:e.jsx(le,{className:"secondary-btn",onClick:y,children:"Cancel"})})]})]})},tc=({jobId:l,professionalId:s,isOpen:t,toggle:h,jobApplicationId:y})=>{const[c,N]=r.useState("loading"),[g,i]=r.useState(1),[o,n]=r.useState(null),b=He(),S=r.useCallback(async()=>{N("loading");try{const x=await Oe.fetchProfessionalDetails({jobId:l,professionalId:s,facilityId:Number(b.Id)});n(x.data.data[0]),N("idle")}catch(x){N("error"),console.error(x)}},[l,b.Id,s]);r.useEffect(()=>{S()},[S]);const a=x=>{g!==x&&i(x)};return e.jsxs(e.Fragment,{children:[c==="loading"&&o===null&&e.jsx(de,{}),e.jsxs(we,{isOpen:t,toggle:h,centered:!0,size:"xl",className:"onboard-modal",children:[e.jsxs(Be,{toggle:h,children:[o?`${z(o.FirstName)} ${z(o.LastName)}`:"","’s Profile"]}),e.jsx(Fe,{children:e.jsx("div",{className:"view-file-wrapper",children:e.jsxs("div",{children:[e.jsx("div",{className:"header-wrap",style:{position:"sticky",top:"0px",zIndex:"9999"},children:e.jsx(mt,{activeTab:g,toggleTab:a})}),e.jsxs(al,{activeTab:g,children:[e.jsxs(Ls,{tabId:1,children:[e.jsx("div",{children:e.jsx(Ws,{professionalId:s,currentProfessional:o})}),e.jsx(lc,{professionalId:s,jobId:l,facilityId:Number(b.Id),toggle:h,toggleTab:a})]}),e.jsxs(Ls,{tabId:2,children:[e.jsx("div",{children:e.jsx(Ws,{professionalId:s,currentProfessional:o})}),e.jsx(sc,{jobApplicationId:y,jobId:l,facilityId:Number(b.Id),professionalId:s,toggle:h,toggleTab:a})]}),e.jsxs(Ls,{tabId:3,children:[e.jsx("div",{className:"mb-2",children:e.jsx(Ws,{status,professionalId:s,currentProfessional:o})}),o&&e.jsx(ac,{professionalId:s,jobId:l,facilityId:Number(b.Id),jobApplicationId:y,professionalDetails:o,toggle:h})]})]})]})})})]})]})},ic=({isOpen:l,toggle:s,facilityId:t,jobId:h,jobApplicationId:y,jobAssignmentId:c,professionalId:N,fetchRoster:g})=>{const[i,o]=r.useState("idle"),[n,b]=r.useState(null),S=f=>{b(f)},[a,x]=r.useState(""),d=[{value:1,label:"Facility Termination"},{value:2,label:"Professional Termination"},{value:3,label:"Gig Termination"}],C=async()=>{if(n){if(a.length===0){E("error","Notes is required");return}o("loading");try{(await Le.terminateJobAssignment({facilityId:t,jobId:h,professionalId:N,jobApplicationId:y,jobAssignmentId:c,data:{status:n==null?void 0:n.label,notes:a}})).status===200&&(o("idle"),g(),s())}catch(f){o("error"),console.error(f)}}};return e.jsxs(e.Fragment,{children:[i==="loading"&&e.jsx(de,{}),e.jsxs(we,{isOpen:l,toggle:s,centered:!0,size:"md",onClosed:s,children:[e.jsx(Be,{toggle:s,children:"Termination"}),e.jsx(Fe,{children:e.jsxs(Ze,{children:[e.jsx(ge,{children:e.jsxs(m,{md:"12",className:"col-group",children:[e.jsx(u,{children:"Select Termination By"}),e.jsx(_e,{id:"termination",styles:bl,name:"termination",placeholder:"Select",noOptionsMessage:()=>"No Category Found",isClearable:!0,isSearchable:!0,options:d,onChange:S,value:n})]})}),e.jsx(ge,{children:e.jsxs(m,{md:"12",className:"col-group mb-0",children:[e.jsx(u,{children:"Notes"}),e.jsx(ps,{value:a,onChange:f=>x(f.target.value),id:"notesTextArea",placeholder:"Notes"})]})})]})}),e.jsx(fs,{className:"justify-content-start",children:e.jsxs("div",{className:"btn-wrapper mb-2",children:[e.jsx(le,{className:"primary-btn ms-0",onClick:C,children:"Save"}),e.jsx(le,{className:"secondary-btn",onClick:s,children:"Cancel"})]})})]})]})},cc=({toggle:l,facilityId:s,professionalId:t,jobApplicationId:h,jobAssignmentId:y,jobId:c,fetchRosterData:N,professional:g,jobDetails:i,jobAssignment:o,row:n,isReadOnly:b})=>{var d,C,f,O,M;const[S,a]=r.useState("idle"),x=async()=>{a("loading");try{const k=await Oe.approveExtension({facilityId:s,jobId:c,professionalId:t,jobApplicationId:h,jobAssignmentId:y});k.status===200&&(E(k.data.message||"Extension Approved Successfully","success"),a("idle"),N(),l())}catch(k){console.error(k),a("error"),E("error",k.response.data.message||"Something went wrong")}};return e.jsxs(e.Fragment,{children:[S==="loading"&&e.jsx(de,{}),e.jsx("div",{className:"offer-wrapper",children:e.jsxs(Ze,{children:[e.jsxs(ge,{children:[e.jsx("h5",{children:"Candidate Information"}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Professional Name"}),e.jsx(p,{value:`${z(g!=null&&g.FirstName?g==null?void 0:g.FirstName:"")} ${z(g!=null&&g.LastName?g==null?void 0:g.LastName:"")}`,disabled:!0})]}),e.jsxs(m,{xxl:"8",xl:"8",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Job Title"}),e.jsx(p,{value:i!=null&&i.Title?z(i==null?void 0:i.Title):"",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Specialty"}),e.jsx(p,{disabled:!0,value:g!=null&&g.JobSpeciality?g==null?void 0:g.JobSpeciality.Speciality:""})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Profession"}),e.jsx(p,{disabled:!0,value:g!=null&&g.JobProfession?g==null?void 0:g.JobProfession.Profession:""})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Unit"}),e.jsx(p,{className:"text-capitalize",value:o!=null&&o.Unit?o==null?void 0:o.Unit:"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Shift"}),e.jsx(p,{value:z(o.JobShift.Shift?o.JobShift.Shift:"-"),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Service Start Date"}),e.jsx("div",{className:"date-range",style:{backgroundColor:"#F7F8F3"},children:e.jsx(Ie,{dateFormat:"MM/dd/yyyy",isClearable:!0,disabled:!0,onChange:()=>{},placeholderText:"----",customInput:e.jsxs("div",{className:"calendar-wrapper",children:[e.jsx(p,{value:(d=n.JobAssignments[0])!=null&&d.StartDate?Te((C=n.JobAssignments[0])==null?void 0:C.StartDate).replace(/-/g,"/"):"-",disabled:!0}),e.jsx("img",{src:ke,className:"calendar-icon"})]})})})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Service End Date"}),e.jsx("div",{className:"date-range",style:{backgroundColor:"#F7F8F3"},children:e.jsx(Ie,{dateFormat:"MM/dd/yyyy",isClearable:!0,disabled:!0,onChange:()=>{},placeholderText:"----",customInput:e.jsxs("div",{className:"calendar-wrapper",children:[e.jsx(p,{value:(f=n.JobAssignments[0])!=null&&f.EndDate?Te((O=n.JobAssignments[0])==null?void 0:O.EndDate).replace(/-/g,"/"):"-",disabled:!0}),e.jsx("img",{src:ke,className:"calendar-icon"})]})})})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Extension Start Date",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx("div",{className:"date-range",style:{backgroundColor:"#F7F8F3"},children:e.jsx(Ie,{dateFormat:"MM/dd/yyyy",isClearable:!0,disabled:!0,onChange:()=>{},placeholderText:"----",customInput:e.jsxs("div",{className:"calendar-wrapper",children:[e.jsx(p,{value:o!=null&&o.StartDate?Te(o==null?void 0:o.StartDate).replace(/-/g,"/"):"-",disabled:!0}),e.jsx("img",{src:ke,className:"calendar-icon"})]})})})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Extension End Date",e.jsx("span",{className:"asterisk",children:"*"})]}),e.jsx("div",{className:"date-range",style:{backgroundColor:"#F7F8F3"},children:e.jsx(Ie,{dateFormat:"MM/dd/yyyy",isClearable:!0,disabled:!0,onChange:()=>{},placeholderText:"----",customInput:e.jsxs("div",{className:"calendar-wrapper",children:[e.jsx(p,{value:o!=null&&o.EndDate?Te(o==null?void 0:o.EndDate).replace(/-/g,"/"):"-",disabled:!0}),e.jsx("img",{src:ke,className:"calendar-icon"})]})})})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Approved Time Off"}),e.jsx("div",{className:"date-range",style:{backgroundColor:"#F7F8F3"},children:e.jsx(Ie,{dateFormat:"MM/dd/yyyy",isClearable:!0,disabled:!0,onChange:()=>{},placeholderText:"----",customInput:e.jsxs("div",{className:"calendar-wrapper",children:[e.jsx(p,{value:o!=null&&o.JobRequestingTimeOffs?(M=o==null?void 0:o.JobRequestingTimeOffs)==null?void 0:M.map(k=>ne(k.Date).format("MM-DD-YYYY")):"-",disabled:!0}),e.jsx("img",{src:ke,className:"calendar-icon"})]})})})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Total Hours (weekly)"}),e.jsx(p,{placeholder:"",disabled:!0,value:o!=null&&o.TotalHrs?o==null?void 0:o.TotalHrs:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Guaranteed Hours"}),e.jsx(p,{value:o!=null&&o.GauranteedHrs?o==null?void 0:o.GauranteedHrs:"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Compliance Due Date"}),e.jsx("div",{className:"date-range",style:{backgroundColor:"#F7F8F3"},children:e.jsx(Ie,{dateFormat:"MM/dd/yyyy",isClearable:!0,disabled:!0,onChange:()=>{},placeholderText:"----",customInput:e.jsxs("div",{className:"calendar-wrapper",children:[e.jsx(p,{value:o!=null&&o.ComplianceDueDate?Te(o==null?void 0:o.ComplianceDueDate).replace(/-/g,"/"):"-",disabled:!0}),e.jsx("img",{src:ke,className:"calendar-icon"})]})})})]}),e.jsxs(m,{xxl:"12",xl:"12",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Additional Notes"}),e.jsx(p,{disabled:!0,className:"text-capitalize",value:o!=null&&o.Notes?o==null?void 0:o.Notes:"-"})]}),e.jsx("h6",{children:"Pay Details"}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Regular Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:o!=null&&o.RegularRate?`${o==null?void 0:o.RegularRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Overtime Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:o.OvertimeRate?`${o==null?void 0:o.OvertimeRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Double Time Rate"," ",e.jsx("span",{className:"california-text",children:"(California Only)"})]}),e.jsx(p,{placeholder:"",disabled:!0,value:o!=null&&o.DoubleTimeRate?`${o==null?void 0:o.DoubleTimeRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Holiday Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:o!=null&&o.HolidayRate?`${o==null?void 0:o.HolidayRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Charge Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:o!=null&&o.ChargeRate?`${o==null?void 0:o.ChargeRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"On-Call Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:o!=null&&o.OnCallRate?`${o==null?void 0:o.OnCallRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Callback Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:o!=null&&o.CallbackRate?`${o==null?void 0:o.CallbackRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Meals & Incidentals Stipend (weekly)"}),e.jsx(p,{placeholder:"",disabled:!0,value:o!=null&&o.MealsAndIncidentials?`${o==null?void 0:o.MealsAndIncidentials}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Housing Stipend (weekly)"}),e.jsx(p,{placeholder:"",disabled:!0,value:o!=null&&o.HousingStipend?`${o==null?void 0:o.HousingStipend}`:"-"})]}),e.jsx("h6",{children:"Billing Details"}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Bill Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:o!=null&&o.BillRate?`${o==null?void 0:o.BillRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Overtime Bill Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:o!=null&&o.OvertimeBillRate?`${o==null?void 0:o.OvertimeBillRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Double Time Bill Rate"," ",e.jsx("span",{className:"california-text",children:"(California Only)"})]}),e.jsx(p,{placeholder:"",disabled:!0,value:o!=null&&o.DoubleTimeBillRate?`${o==null?void 0:o.DoubleTimeBillRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Holiday Bill Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:o!=null&&o.HolidayBillRate?`${o==null?void 0:o.HolidayBillRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Charge Bill Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:o!=null&&o.ChargeBillRate?`${o==null?void 0:o.ChargeBillRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"On-Call Bill Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:o!=null&&o.OnCallBillRate?`${o==null?void 0:o.OnCallBillRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Callback Bill Rate"}),e.jsx(p,{placeholder:"",disabled:!0,value:o!=null&&o.CallbackBillRate?`${o==null?void 0:o.CallbackBillRate}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Cost Center"," ",e.jsx("span",{className:"california-text",children:"(If applicable)"})]}),e.jsx(p,{className:"text-capitalize",placeholder:"",disabled:!0,value:o!=null&&o.CostCenter?`${o==null?void 0:o.CostCenter}`:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Client Req ID #"," ",e.jsx("span",{className:"california-text",children:"(If applicable)"})]}),e.jsx(p,{placeholder:"",disabled:!0,value:n.JobAssignments[0].ReqId?n.JobAssignments[0].ReqId.toUpperCase():"-"})]})]}),b===!1&&e.jsxs("div",{className:"btn-wrapper",children:[e.jsx(le,{className:"primary-btn",onClick:x,children:"Approve Extension"}),e.jsx(le,{className:"secondary-btn",children:"Cancel"})]})]})})]})},rc=({row:l,isOpen:s,toggle:t,jobApplicationId:h,jobAssignmentId:y,jobId:c,professionalId:N,facilityId:g,fetchRosterData:i,currentStatus:o,isReadOnly:n})=>{const[b,S]=r.useState("idle"),[a,x]=r.useState(null),[d,C]=r.useState(null),[f,O]=r.useState(null),M=r.useCallback(async()=>{S("loading");const k=async(H,Q,B=!1)=>{try{const R=await H();Q(B?R.data.data[0]:R.data.data)}catch(R){const $=R.response?R.response.data.message:R.message;E("Error fetching data",$),console.error("Error fetching data:",R)}},w=[()=>Le.getJobDetails({facilityId:g,jobId:c}),()=>Oe.fetchProfessionalDetails({facilityId:g,professionalId:N,jobId:c}),()=>Oe.getJobAssignment({facilityId:g,jobId:c,professionalId:N,jobApplicationId:h,jobAssignmentId:y})],F=[O,C,x],q=[!0,!0,!0];(async()=>{await Promise.allSettled(w.map((H,Q)=>k(H,F[Q],q[Q]))),S("idle")})().catch(H=>{E("error","Error fetching data"),console.error("Error fetching data:",H),S("error")})},[g,c,h,y,N]);return r.useEffect(()=>{M()},[M]),e.jsxs(e.Fragment,{children:[b==="loading"&&e.jsx(de,{}),e.jsxs(we,{isOpen:s,toggle:t,centered:!0,size:"xl",className:"onboard-modal",children:[e.jsx(Be,{toggle:t,style:{background:"#FFF"},children:"Service Extension Details"}),e.jsx(Fe,{style:{pointerEvents:n?"none":"auto"},children:e.jsxs("div",{className:"view-file-wrapper",children:[d&&a&&f&&e.jsx(Al,{professional:d,professionalId:N,jobDetails:f,currentStatus:o}),d&&f&&a&&e.jsx(cc,{row:l,toggle:t,professional:d,professionalId:N,jobDetails:f,jobAssignment:a,jobApplicationId:h,jobAssignmentId:y,jobId:c,facilityId:g,fetchRosterData:i,isReadOnly:n})]})})]})]})},nc=({isOpen:l,toggle:s,professionalId:t,jobApplicationId:h,jobAssignmentId:y,slot:c,fetchJobAssignments:N,facilityId:g,jobId:i})=>{var M,k,w,F;const[o,n]=r.useState(!1),[b,S]=r.useState(null),[a,x]=r.useState(null),[d,C]=r.useState(null),f=r.useCallback(async()=>{n(!0);const[q,H,Q]=await Promise.all([Oe.fetchProfessionalDetails({facilityId:Number(g),jobId:Number(i),professionalId:t}),Wl(Number(g),Number(i)),Oe.getJobAssignment({facilityId:Number(g),jobId:Number(i),professionalId:t,jobApplicationId:h,jobAssignmentId:y})]);x(q.data.data[0]),S(H.data.data[0]),C(Q.data.data[0]),n(!1)},[g,i,t,h,y]);r.useEffect(()=>{f()},[f]);const O=async()=>{n(!0);try{(await Oe.placeJobAssignment({facilityId:Number(g),jobId:Number(i),professionalId:t,jobApplicationId:h,jobAssignmentId:y})).status===200&&(n(!1),N(),s())}catch(q){console.error(q)}};return e.jsxs(e.Fragment,{children:[o&&e.jsx(de,{}),e.jsxs(we,{isOpen:l,toggle:s,centered:!0,size:"xl",onClosed:s,children:[e.jsx(Be,{toggle:s,children:"Finalize Offer"}),e.jsxs(Fe,{className:"viewProfile",style:{height:"600px",overflow:"auto"},children:[e.jsx("div",{className:"facility-header-wrap p-2 mb-3",children:e.jsx("div",{children:e.jsxs("div",{className:"View-profile-section",children:[e.jsxs("div",{className:"d-flex",children:[e.jsx("img",{src:a!=null&&a.ProfileImage?a==null?void 0:a.ProfileImage:$s,style:{borderRadius:"50%",height:"4rem",width:"4rem",backgroundColor:"#f4f4f4"}}),e.jsxs("div",{className:"first-section-content",children:[e.jsxs("h1",{className:"hospital-name text-nowrap",children:[z(a!=null&&a.FirstName?a==null?void 0:a.FirstName:"")," ",z(a!=null&&a.LastName?a==null?void 0:a.LastName:"")]}),e.jsx(p,{placeholder:"",disabled:!0,value:`PID-${t.toString()}`,className:"in-width input",style:{marginRight:"10px"}}),e.jsx(p,{placeholder:"",disabled:!0,value:`Job ID: ${i}`,className:"in-width input",style:{marginRight:"10px"}}),c.ReqId&&e.jsx(p,{placeholder:"",disabled:!0,value:`Client Req ID: ${c.ReqId.toUpperCase()}`,className:"in-width input",style:{marginRight:"10px"}})]})]}),e.jsxs("div",{className:"application-wrapper d-flex align-items-center select-view",children:[e.jsx("span",{style:{marginRight:"5px"},className:"text-nowrap",children:"Application Status:"}),e.jsx("span",{style:{color:ls(c.JobApplicationStatus.Status),borderColor:ls(c.JobApplicationStatus.Status),marginLeft:"10px",border:"1px solid",padding:"0.8rem 0.5rem",borderRadius:"5px",backgroundColor:"#fafafa"},children:c.JobApplicationStatus.Status})]})]})})}),e.jsx("div",{className:"facility-header-wrap p-3",style:{},children:e.jsxs(Gs,{children:[e.jsx("div",{children:e.jsx("h6",{children:"Job Shared Details"})}),e.jsxs(ge,{children:[e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Facility Name"}),e.jsx(p,{disabled:!0,value:z(b!=null&&b.Facility.Name?b.Facility.Name:"Facility Name")})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Facility Location"}),e.jsx(p,{disabled:!0,value:z(b!=null&&b.Facility.State.State?b.Facility.State.State:"Facility Location")})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Facility Address"}),e.jsx(p,{value:z(b!=null&&b.Facility.Address?b.Facility.Address:"Facility Address"),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Program Manager"}),e.jsx(p,{disabled:!0,value:a!=null&&a.ProgramManager?z((a==null?void 0:a.ProgramManager.FirstName)+" "+(a==null?void 0:a.ProgramManager.LastName)):"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Employment Expert"}),e.jsx(p,{value:a!=null&&a.EmploymentExpert?z((a==null?void 0:a.EmploymentExpert.FirstName)+" "+(a==null?void 0:a.EmploymentExpert.LastName)):"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Professional Name"}),e.jsx(p,{value:z(a!=null&&a.FirstName?(a==null?void 0:a.FirstName)+" "+(a==null?void 0:a.LastName):""),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Professional Phone Number"}),e.jsx(p,{value:a!=null&&a.Phone?is(a==null?void 0:a.Phone):"",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Professional Email Address"}),e.jsx(p,{value:a!=null&&a.Email?a==null?void 0:a.Email:"",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Job Title"}),e.jsx(p,{value:z(b!=null&&b.Title?b==null?void 0:b.Title:""),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Specialty"}),e.jsx(p,{value:z((a==null?void 0:a.JobSpeciality.Speciality)??"-"),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Profession"}),e.jsx(p,{value:z((a==null?void 0:a.JobProfession.Profession)??"-"),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Unit"}),e.jsx(p,{value:z(d!=null&&d.Unit?d==null?void 0:d.Unit:"-"),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Shift"}),e.jsx(p,{value:z((M=d==null?void 0:d.JobShift)!=null&&M.Shift?(k=d==null?void 0:d.JobShift)==null?void 0:k.Shift:"-"),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Start Date"}),e.jsx(ts,{value:d!=null&&d.StartDate?ne(d==null?void 0:d.StartDate).format("MM-DD-YYYY"):"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"End Date"}),e.jsx(ts,{value:d!=null&&d.EndDate?ne(d==null?void 0:d.EndDate).format("MM-DD-YYYY"):"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Approved Time Off"}),e.jsx(ts,{value:d!=null&&d.JobRequestingTimeOffs?(w=d==null?void 0:d.JobRequestingTimeOffs)==null?void 0:w.map(q=>ne(q.Date).format("MM-DD-YYYY")):"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Regular Hours"}),e.jsx(p,{value:d!=null&&d.RegularHrs?d==null?void 0:d.RegularHrs:"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Overtime Hours"}),e.jsx(p,{value:d!=null&&d.OverTimeHrs?d==null?void 0:d.OverTimeHrs:"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{children:["Total Hours"," ",e.jsx("span",{className:"california-text",children:"(Weekly)"})]}),e.jsx(p,{value:d!=null&&d.TotalHrs?d==null?void 0:d.TotalHrs:"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Total Days on Assignment"}),e.jsx(p,{value:d!=null&&d.TotalDaysOnAssignment?d==null?void 0:d.TotalDaysOnAssignment:"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Guaranteed Hours"}),e.jsx(p,{value:d!=null&&d.GauranteedHrs?d==null?void 0:d.GauranteedHrs:"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Compliance Due Date"}),e.jsx(ts,{value:d!=null&&d.ComplianceDueDate?ne(d==null?void 0:d.ComplianceDueDate).format("MM-DD-YYYY"):"-",disabled:!0})]}),e.jsxs(m,{xxl:"8",xl:"8",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Notes"}),e.jsx(p,{value:d!=null&&d.Notes?d==null?void 0:d.Notes:"-",disabled:!0})]})]}),e.jsx("div",{children:e.jsx("h6",{children:"Pay Details"})}),e.jsxs(ge,{children:[e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Regular Rate"}),e.jsx(p,{value:d!=null&&d.RegularRate?d==null?void 0:d.RegularRate:"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Overtime Rate"}),e.jsx(p,{disabled:!0,value:d!=null&&d.OvertimeRate?d==null?void 0:d.OvertimeRate:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{children:["Double Time Rate"," ",e.jsx("span",{className:"california-text",children:"(California only)"})]}),e.jsx(p,{disabled:!0,value:d!=null&&d.DoubleTimeRate?d==null?void 0:d.DoubleTimeRate:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Holiday Rate"}),e.jsx(p,{disabled:!0,value:d!=null&&d.HolidayRate?d==null?void 0:d.HolidayRate:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Charge Rate"}),e.jsx(p,{disabled:!0,value:d!=null&&d.ChargeRate?d==null?void 0:d.ChargeRate:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"On-Call Rate"}),e.jsx(p,{disabled:!0,value:d!=null&&d.OnCallRate?d==null?void 0:d.OnCallRate:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"CallBack Rate"}),e.jsx(p,{disabled:!0,value:d!=null&&d.CallbackRate?d==null?void 0:d.CallbackRate:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Travel Reimbursement"}),e.jsx(p,{disabled:!0,value:d!=null&&d.TravelReimbursement?d==null?void 0:d.TravelReimbursement:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{children:["Housing Stipend"," ",e.jsx("span",{className:"california-text",children:"(Daily)"})]}),e.jsx(p,{disabled:!0,value:d!=null&&d.HousingStipend?d==null?void 0:d.HousingStipend:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{children:["Meals & Incidentals Stipend"," ",e.jsx("span",{className:"california-text",children:"(Daily)"})]}),e.jsx(p,{disabled:!0,value:d!=null&&d.MealsAndIncidentials?d==null?void 0:d.MealsAndIncidentials:"-"})]})]}),e.jsx("div",{children:e.jsx("h6",{children:"Billing Details"})}),e.jsxs(ge,{children:[e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Bill Rate"}),e.jsx(p,{disabled:!0,value:d!=null&&d.BillRate?d==null?void 0:d.BillRate:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Overtime Bill Rate"}),e.jsx(p,{disabled:!0,value:d!=null&&d.OvertimeBillRate?d==null?void 0:d.OvertimeBillRate:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{children:["Double Time Rate"," ",e.jsx("span",{className:"california-text",children:"(California only)"})]}),e.jsx(p,{disabled:!0,value:d!=null&&d.DoubleTimeBillRate?d==null?void 0:d.DoubleTimeBillRate:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Holiday Bill Rate"}),e.jsx(p,{disabled:!0,value:d!=null&&d.HolidayBillRate?d==null?void 0:d.HolidayBillRate:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Charge Bill Rate"}),e.jsx(p,{disabled:!0,value:d!=null&&d.ChargeBillRate?d==null?void 0:d.ChargeBillRate:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"On-Call Bill Rate"}),e.jsx(p,{disabled:!0,value:d!=null&&d.OnCallBillRate?d==null?void 0:d.OnCallBillRate:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"CallBack Rate"}),e.jsx(p,{disabled:!0,value:d!=null&&d.CallbackBillRate?d==null?void 0:d.CallbackBillRate:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{children:["Cost Center"," ",e.jsx("span",{className:"california-text",children:"(If Applicable)"})]}),e.jsx(p,{disabled:!0,value:d!=null&&d.CostCenter?d==null?void 0:d.CostCenter:"-"})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{children:["Client Req ID #"," ",e.jsx("span",{className:"california-text",children:"(If Applicable)"})]}),e.jsx(p,{disabled:!0,value:(F=c.ReqId)==null?void 0:F.toUpperCase()})]})]})]})})]}),e.jsx(fs,{className:"justify-content-start",children:e.jsxs("div",{style:{marginLeft:"0px"},children:[e.jsx(le,{className:"primary-btn",style:{marginLeft:"0px"},onClick:O,children:"Finalize Offer"}),e.jsx(le,{className:"secondary-btn",onClick:s,children:"Cancel"})]})})]})]})},dc=({professionalId:l,currentProfessional:s,isReadOnly:t,status:h})=>{const y=gs(),c=xs(async g=>{var i,o;try{const n=await Hl(l,g);E("success","Professional activation changed successfully")}catch(n){console.error(n),E("error",((o=(i=n==null?void 0:n.response)==null?void 0:i.data)==null?void 0:o.message)||"Something went wrong")}},200),N=()=>{y(`/professionals/edit/${l}`)};return e.jsxs("div",{className:"facility-header-wrap professional-header mt-3",style:{paddingTop:"12px",paddingBottom:"12px",pointerEvents:t?"none":"auto"},children:[s===null&&e.jsx(de,{}),e.jsx("div",{className:"content-wrapper align-items-center",children:e.jsx("img",{src:s!=null&&s.ProfileImage?s==null?void 0:s.ProfileImage:$s,style:{borderRadius:"50%",height:"8rem",width:"8rem",position:"relative",backgroundColor:"#f4f4f4"}})}),e.jsx("div",{className:"details-wrapper",children:e.jsxs("div",{className:"header-wrapper",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"first-section-content",children:[e.jsxs("h1",{className:"hospital-name",children:[z(s!=null&&s.FirstName?s==null?void 0:s.FirstName:"")," ",z(s!=null&&s.LastName?s==null?void 0:s.LastName:"")]}),e.jsx(p,{placeholder:"",disabled:!0,value:`PID-${l}`,className:"in-width",style:{marginRight:"10px"}}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("span",{className:"text-nowrap",children:"Account Status:"}),e.jsx("span",{className:"toggle-position",style:{marginLeft:"5px"},children:e.jsx(Jl,{onStateChange:g=>c(g),checked:s==null?void 0:s.ActivationStatus,allow:!0})}),e.jsx("span",{style:{marginLeft:"10px"},children:e.jsx(Ns,{onEdit:()=>N()})})]})]}),e.jsxs("div",{className:"application-wrapper d-flex align-items-center select-view",children:[e.jsx("span",{style:{marginRight:"5px"},className:"text-nowrap",children:"Application Status:"}),e.jsx("span",{style:{color:h?ls(h):"#000",borderColor:h?ls(h):"#000",marginLeft:"10px",border:"1px solid",padding:"0.8rem 0.5rem",borderRadius:"5px",backgroundColor:"#fafafa"},children:h})]})]}),e.jsxs("div",{className:"second-section-content d-flex align-items-center",children:[e.jsxs("div",{children:[e.jsx("span",{className:"main-text",children:"Phone:"}),e.jsx("span",{children:is(s!=null&&s.Phone?s==null?void 0:s.Phone:"")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"main-text",children:"Email:"}),e.jsx("span",{children:s!=null&&s.Email?s==null?void 0:s.Email:""})]})]}),e.jsx("div",{className:"second-section-content",children:e.jsxs("span",{children:[e.jsx("span",{className:"main-text",children:"Address:"}),s!=null&&s.Address?s==null?void 0:s.Address:""]})}),e.jsxs("div",{className:"second-section-content",children:[e.jsx("span",{className:"main-text",children:"Preferred Job Location:"}),s==null?void 0:s.PreferredLocations.map((g,i)=>e.jsxs("span",{children:[g.State.State,i<(s==null?void 0:s.PreferredLocations.length)-1?", ":""]},i))]}),e.jsxs("div",{className:"second-section-content",children:[e.jsxs("span",{children:[e.jsx("span",{className:"main-text",children:"Profession:"}),s!=null&&s.JobProfession.Profession?s==null?void 0:s.JobProfession.Profession:e.jsx("span",{children:"None"})]}),e.jsx("span",{className:"main-text",children:"Speciality:"}),e.jsx("span",{children:s!=null&&s.JobSpeciality.Speciality?s==null?void 0:s.JobSpeciality.Speciality:e.jsx("span",{children:"None"})}),e.jsx("span",{className:"main-text",children:"Experience:"}),e.jsxs("span",{children:[s!=null&&s.Experience?s==null?void 0:s.Experience:"None"," ","Years"]})]})]})})]})},oc=({professionalId:l,jobId:s,facilityId:t})=>{const[h,y]=r.useState([]),[c,N]=r.useState([]),[g,i]=r.useState([]),[o,n]=r.useState([]),[b,S]=r.useState([]),[a,x]=r.useState([]),[d,C]=r.useState(1),[f,O]=r.useState(10),[M,k]=r.useState(0),[w,F]=r.useState(0),[q,H]=r.useState("idle"),Q=async R=>{C(R)},B=r.useCallback(async()=>{var R,$;H("loading");try{const D=await Oe.fetchProfessionalDocuments({facilityId:t,jobId:s,professionalId:l,size:f,page:d});D.status===200&&(k((R=D.data.data[0])==null?void 0:R.count),F(Math.ceil((($=D.data.data[0])==null?void 0:$.count)/f)),x(D.data.data[0].rows),H("idle"))}catch(D){E("Error fetching documents",D),console.error("Error fetching documents:",D)}},[t,s,l,d,f]);return r.useEffect(()=>{B()},[B]),r.useEffect(()=>{H("loading");const R=async(T,v)=>{try{const U=await T();v(U.data.data)}catch(U){E("Error fetching data",U),console.error("Error fetching data:",U)}},$=[Oe.fetchProfessionalWorkHistory,Oe.fetchProfessionalReferences,Oe.fetchProfessionalEducation,Oe.fetchProfessionalLicenses,Oe.fetchProfessionalCertifications],D=[y,N,i,n,S];Promise.allSettled($.map((T,v)=>R(()=>T({jobId:s,professionalId:l,facilityId:t}),D[v]))).then(()=>H("idle"))},[t,s,l]),e.jsxs(e.Fragment,{children:[q==="loading"&&e.jsx(de,{}),e.jsxs("div",{style:{marginTop:"10px",marginBottom:"20px"},children:[e.jsxs("div",{className:"facility-header-wrap",style:{padding:"10px 10px"},children:[h.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"section-header",children:"Work History"}),e.jsx("div",{children:h.map(R=>e.jsx(yl,{fetch:()=>{},workHistory:R,professionalId:1,isReadOnly:!0}))})]}),c.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"details-header section-header",style:{padding:"10px 21px"},children:"References"}),c.map(R=>e.jsx(jl,{reference:R}))]})]}),g.length>0&&e.jsx("div",{style:{borderRadius:"4px",background:"#fff",boxShadow:"0px 2px 2px 0px rgba(0, 0, 0, 0.25)",marginTop:"10px",marginBottom:"10px"},children:e.jsxs("div",{className:"facility-header-wrap",style:{padding:"10px 10px"},children:[e.jsx("span",{className:"section-header",style:{marginLeft:"20px"},children:"Education"}),g.map(R=>e.jsx(Nl,{education:R}))]})}),(o.length>0||b.length>0)&&e.jsx("div",{style:{borderRadius:"4px",background:"#fff",boxShadow:"0px 2px 2px 0px rgba(0, 0, 0, 0.25)",marginTop:"10px",marginBottom:"10px"},children:e.jsxs("div",{className:"facility-header-wrap",style:{padding:"10px 10px"},children:[e.jsx("span",{className:"section-header",style:{padding:"10px 21px"},children:"Professional Information"}),e.jsx("div",{className:"wrapper",children:e.jsxs("div",{className:"details-wrapper",children:[o.length>0&&e.jsx("span",{className:"prof-card-header",children:"Licenses"}),o.map(R=>e.jsx(Ea,{license:R})),b.length>0&&e.jsx("span",{className:"prof-card-header",style:{marginTop:"10px",marginBottom:"0px"},children:"Certifications"}),b.map(R=>e.jsx(Ra,{certificate:R}))]})})]})}),a.length>0&&e.jsx("div",{style:{borderRadius:"4px",background:"#fff",boxShadow:"0px 2px 2px 0px rgba(0, 0, 0, 0.25)",marginTop:"10px",marginBottom:"10px"},children:e.jsxs("div",{className:"facility-header-wrap",style:{padding:"10px 10px"},children:[e.jsx("span",{className:"section-header",style:{padding:"10px"},children:"Documents"}),a.map(R=>e.jsx(fl,{doc:R,facilityId:t,jobId:s,professionalId:l})),e.jsx("div",{style:{marginTop:"auto",margin:"0px 10px"},children:e.jsx(_s,{currentPage:d,totalPages:w,onPageChange:Q,onPageSizeChange:O,entriesPerPage:f,totalRows:M,setPage:C})})]})})]})]})},xc=({isOpen:l,toggle:s,currentJobId:t,currentProfessionalId:h,currentStatus:y})=>{const[c,N]=r.useState("idle"),[g,i]=r.useState(null),o=He(),n=r.useCallback(async()=>{N("loading");const[b,S]=await Promise.all([Oe.fetchProfessionalDetails({facilityId:Number(o.Id),jobId:t,professionalId:h}),Oe.fetchProfessionalWorkHistory({facilityId:Number(o.Id),jobId:t,professionalId:h})]);b.status===200&&S.status===200&&(N("idle"),i(b.data.data[0]))},[o.Id,t,h]);return r.useEffect(()=>{n()},[n]),e.jsxs(e.Fragment,{children:[c==="loading"&&e.jsx(de,{}),e.jsxs(we,{isOpen:l,toggle:s,centered:!0,size:"xl",className:"onboard-modal",children:[e.jsxs(Be,{toggle:s,style:{position:"sticky",top:"0px",zIndex:"9999",background:"#FFF"},children:[g?`${z(g.FirstName)} ${z(g.LastName)}`:"","’s Profile"]}),e.jsx(Fe,{children:e.jsx("div",{className:"view-file-wrapper",children:e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(dc,{professionalId:h,currentProfessional:g,status:y})}),e.jsx(oc,{facilityId:Number(o.Id),jobId:t,professionalId:h})]})})})]})]})},mc=({toggle:l,facilityId:s,professionalId:t,jobApplicationId:h,jobId:y,fetchRosterData:c,professional:N,jobDetails:g,jobAssignment:i,currentAssignmentRow:o,edit:n})=>{var qe,I,W,L,Z,Ee,Me,$e,Ge,hs,os,j,G,oe,Re,De,ze,Ye,We,bs,vs,Ss,Cs,Ds,Rs,Es,Ts,Is,ks,ws,Fs,Bs,Ms,Os,Js;const[b,S]=r.useState(!1),a=Ll(),[x,d]=r.useState(null),[C,f]=r.useState(null),[O,M]=r.useState([]),[k,w]=r.useState(null),[F,q]=r.useState(null),[H,Q]=r.useState(null),B=ds(Pl),R=ds(ql),$=ds($l),[D,T]=r.useState(null),[v,U]=r.useState(null),[Y,J]=r.useState(null),[V,A]=r.useState(),[P,se]=r.useState(null),[ve,ye]=r.useState([]),ce=r.useCallback(async()=>{var te,Ue,Ve,X,Ke;try{if(S(!0),(i==null?void 0:i.JobProfession.Id)===void 0){S(!1);return}const[ee,K,ie]=await Promise.all([Yl(),Vs(i.JobProfession.Id),gl()]);a(Ul((te=ee.data)==null?void 0:te.data)),a(Qs((Ue=K.data)==null?void 0:Ue.data)),a(Gl((Ve=ie.data)==null?void 0:Ve.data)),S(!1)}catch(ee){console.error(ee),S(!1),E("error",((Ke=(X=ee==null?void 0:ee.response)==null?void 0:X.data)==null?void 0:Ke.message)||"Something went wrong")}},[i==null?void 0:i.JobProfession.Id,a]),{register:xe,handleSubmit:Ne,setValue:_,formState:{errors:re}}=ms({resolver:us(zl)}),cs=te=>{q(te)},Je=te=>{Q(te)},be=te=>{J(te)},Ae=(te,Ue)=>{if(Ue.isTyping)M([]);else if(te.length<=10){const Ve=te==null?void 0:te.map(X=>ne(`${X.year}-${X.month.number}-${X.day}`).format("MM-DD-YYYY"));M(Ve)}else{const Ve=O.slice(0,10);M(Ve),E("error","Maximum 10 days can be selected")}};r.useEffect(()=>{ce()},[ce]),r.useEffect(()=>{o.ReqId&&_("reqId",o.ReqId),i&&(T({value:i==null?void 0:i.JobSpeciality.Id,label:i==null?void 0:i.JobSpeciality.Speciality}),U({value:i==null?void 0:i.JobProfession.Id,label:i==null?void 0:i.JobProfession.Profession}),se({value:i==null?void 0:i.JobProfession.JobProfessionCategory.Id,label:i==null?void 0:i.JobProfession.JobProfessionCategory.Category}),J({value:i==null?void 0:i.JobShift.Id,label:i==null?void 0:i.JobShift.Shift}),d(new Date(i==null?void 0:i.StartDate)),f(new Date(i==null?void 0:i.EndDate)),q({value:i==null?void 0:i.ShiftStartTime,label:i==null?void 0:i.ShiftStartTime}),Q({value:i==null?void 0:i.ShiftEndTime,label:i==null?void 0:i.ShiftEndTime}),i!=null&&i.JobRequestingTimeOffs&&M(i==null?void 0:i.JobRequestingTimeOffs.map(te=>ne(te.Date).format("MM-DD-YYYY"))),w(new Date(i==null?void 0:i.ComplianceDueDate)),f(new Date(i==null?void 0:i.EndDate)),_("unit",i!=null&&i.Unit?i==null?void 0:i.Unit:""),_("regularHrs",i==null?void 0:i.RegularHrs),_("overtimeHrs",i==null?void 0:i.OverTimeHrs),_("totalHrsWeekly",i==null?void 0:i.TotalHrs),_("totalDaysOnAssignment",i==null?void 0:i.TotalDaysOnAssignment),_("gauranteedHours",i==null?void 0:i.GauranteedHrs),_("notes",i==null?void 0:i.Notes),_("payDetails.regularRate",i==null?void 0:i.RegularRate),_("payDetails.overTimeRate",i==null?void 0:i.OvertimeRate),_("payDetails.doubleTimeRate",i==null?void 0:i.DoubleTimeRate),_("payDetails.holidayRate",i==null?void 0:i.HolidayRate),_("payDetails.chargeRate",i==null?void 0:i.ChargeRate),_("payDetails.onCallRate",i==null?void 0:i.OnCallRate),_("payDetails.callBackRate",i==null?void 0:i.CallbackRate),_("payDetails.travelReimbursement",i==null?void 0:i.TravelReimbursement),_("payDetails.travelReimbursement",i==null?void 0:i.TravelReimbursement),_("payDetails.mealsAndIncidentals",i==null?void 0:i.MealsAndIncidentials),_("payDetails.housingStipend",i==null?void 0:i.HousingStipend),_("costCenter",i==null?void 0:i.CostCenter),_("billingDetails.billRate",i==null?void 0:i.BillRate),_("billingDetails.overTimeBillRate",i==null?void 0:i.OvertimeBillRate),_("billingDetails.doubleTimeBillRate",i==null?void 0:i.DoubleTimeBillRate),_("billingDetails.holidayBillRate",i==null?void 0:i.HolidayBillRate),_("billingDetails.chargeBillRate",i==null?void 0:i.ChargeBillRate),_("billingDetails.onCallBillRate",i==null?void 0:i.OnCallBillRate),_("billingDetails.callBackBillRate",i==null?void 0:i.CallbackBillRate))},[i,o,_]);const he=async te=>{var Ue,Ve;if(!x){E("error","Please select start date");return}if(!C){E("error","Please select end date");return}if(!F){E("error","Please select shift start time");return}if(!H){E("error","Please select shift end time");return}if(F&&H&&F.value>H.value){E("error","Shift end time cannot be less than shift start time");return}if(!k){E("error","Please select compliance due date");return}if(!(D!=null&&D.value)){E("error","Please select speciality");return}if(!(v!=null&&v.value)){E("error","Please select profession");return}if(!Y){E("error","Please select shift");return}if(O&&O.length>0&&O.some(X=>ne(X)<ne(x)))return E("error","Time off request dates cannot be before the start date");try{const X={facilityId:Number(s),jobId:Number(y),professionalId:t,jobAssignmentId:i.Id,jobApplicationId:h,data:{...te,startDate:Ce(x==null?void 0:x.toDateString()),endDate:Ce(C==null?void 0:C.toDateString()),shiftStartTime:F==null?void 0:F.label,shiftEndTime:H==null?void 0:H.label,shiftId:Y==null?void 0:Y.value,specialityId:D==null?void 0:D.value,professionId:v==null?void 0:v.value,complianceDueDate:Ce(k==null?void 0:k.toDateString()),reqId:te.reqId}};O.length>0?X.data.approvedTimeOff=O==null?void 0:O.map(ee=>ne(ee).format("YYYY-MM-DD")):X.data.approvedTimeOff=[];const Ke=await Oe.editAssignment(X);Ke.status===200&&(E("success",Ke.data.message||"Offer made successfully"),c(),l())}catch(X){console.error(X),E("error",((Ve=(Ue=X==null?void 0:X.response)==null?void 0:Ue.jobAssignment)==null?void 0:Ve.message)||"Something went wrong")}},ae=te=>{U({value:te.Id,label:te.Profession}),T(null),A(te.Id)},me=r.useCallback(async()=>{var te;try{const Ue=B==null?void 0:B.length;if(Ue>0){const Ve=[];for(let X=1;X<=Ue;X++){const Ke=await Vl(X);Ve.push((te=Ke.data)==null?void 0:te.data)}ye(Ve)}}catch(Ue){console.error(Ue)}},[B]),Xe=r.useCallback(async()=>{var te;try{if(V){const Ue=await Vs(V);a(Qs((te=Ue.data)==null?void 0:te.data))}}catch(Ue){console.error(Ue)}},[a,V]),Pe=te=>{T(te)};return r.useEffect(()=>{me()},[me,B.length]),r.useEffect(()=>{Xe()},[Xe,V]),e.jsxs(e.Fragment,{children:[b&&e.jsx(de,{}),e.jsx("div",{className:"offer-wrapper px-4 py-3",children:e.jsx(Ze,{children:e.jsxs(Ze,{children:[e.jsx("div",{className:"d-flex align-items-center gap-2",children:e.jsx("h6",{children:"Job Shared Details"})}),e.jsxs(ge,{children:[e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Professional Name"}),e.jsx(p,{value:z(N!=null&&N.FirstName?(N==null?void 0:N.FirstName)+" "+(N==null?void 0:N.LastName):""),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Professional Phone Number"}),e.jsx(p,{value:N!=null&&N.Phone?is(N==null?void 0:N.Phone):"",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Professional Email Address"}),e.jsx(p,{value:N!=null&&N.Email?N==null?void 0:N.Email:"",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Job Title"}),e.jsx(p,{value:z(g!=null&&g.Title?g==null?void 0:g.Title:""),disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"col-label",children:["Select Profession ",e.jsx("span",{className:"asterisk",children:"*"})]}),n?e.jsxs(e.Fragment,{children:[e.jsx(Ql,{menuButton:e.jsx(p,{style:{cursor:"pointer",caretColor:"transparent"},type:"text",value:v!=null&&v.label?v==null?void 0:v.label:"Select Profession"}),children:B==null?void 0:B.map((te,Ue)=>{var Ve;return e.jsx(Xl,{label:te.Category,className:"sub-menu",children:ve&&((Ve=ve[Ue])==null?void 0:Ve.map(X=>e.jsx(Zl,{dir:"top",onClick:()=>ae(X),children:e.jsx(Kl,{value:X.Profession,className:"sub-menu-item",children:X.Profession})},X.Id)))},te.Id)})}),e.jsx("img",{src:_l,alt:"DropdownImage",className:"submenu-dropdown"})]}):e.jsx(p,{value:v==null?void 0:v.label,disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsxs(u,{className:"",children:["Speciality",e.jsx("span",{className:"asterisk",children:"*"})]}),n?e.jsx(_e,{id:"specialities",name:"specialities",options:R==null?void 0:R.map(te=>({value:te==null?void 0:te.Id,label:te==null?void 0:te.Speciality})),value:D,placeholder:"Select Speciality",noOptionsMessage:()=>"No Speciality Found",onChange:te=>Pe(te),isClearable:!0,isSearchable:!0,isDisabled:!P}):e.jsx(p,{value:D==null?void 0:D.label,disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Unit"}),e.jsx(p,{disabled:!n,...xe("unit")})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Shift"}),e.jsx(_e,{options:$.map(te=>({value:te.Id,label:te.Shift})),value:Y||null,isClearable:!0,isSearchable:!0,noOptionsMessage:()=>"No Shift Found",placeholder:"Select Shift",id:"shift",name:"shift",onChange:be,isDisabled:!n})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Start Date"}),n?e.jsx(Ie,{selected:x,minDate:ne(x).subtract(7,"days").toDate(),maxDate:ne(x).add(7,"days").toDate(),onChange:te=>d(te),timeIntervals:15,dateFormat:"h:mm aa",className:"custom-select-picker-all contract-select",customInput:e.jsxs("div",{className:"custom-calendar-wrapper",children:[e.jsx(p,{value:x?Ce(x.toDateString()):"",placeholder:"Start Date"}),e.jsx("img",{src:ke,className:"calendar-icon"})]})}):e.jsx(ts,{value:i!=null&&i.StartDate?i==null?void 0:i.StartDate:"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"End Date"}),n?e.jsx(Ie,{selected:C,minDate:ne(x).add(1,"days").toDate(),maxDate:ne(x).add(7,"days").toDate(),onChange:te=>f(te),className:"custom-select-picker-all contract-select",customInput:e.jsxs("div",{className:"custom-calendar-wrapper",children:[e.jsx(p,{value:C?Ce(C.toDateString()):"",placeholder:"Select Date"}),e.jsx("img",{src:ke,className:"calendar-icon"})]})}):e.jsx(ts,{value:i!=null&&i.EndDate?i==null?void 0:i.EndDate:"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Start Time"}),e.jsx(Xs,{styles:Zs,className:"custom-select-picker-all contract-select",placeholder:"Shift Start Time",options:Ks,value:F||null,onChange:te=>cs(te),isClearable:!0,isSearchable:!0,noOptionsMessage:()=>"No Start Time Found",isDisabled:!n})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"End Time"}),e.jsx(Xs,{styles:Zs,className:"custom-select-picker-all contract-select",placeholder:"Shift End Time",options:Ks,value:H||null,onChange:te=>Je(te),isClearable:!0,isSearchable:!0,noOptionsMessage:()=>"No Start Time Found",isDisabled:!n})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Approved Time Off"}),n?e.jsx(pl,{onChangeDate:Ae,value:O?O==null?void 0:O.map(te=>te):"-",minDate:x}):e.jsx(ts,{value:i!=null&&i.JobRequestingTimeOffs?(qe=i==null?void 0:i.JobRequestingTimeOffs)==null?void 0:qe.map(te=>ne(te.Date).format("MM-DD-YYYY")):"-",disabled:!0})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Regular Hours"}),e.jsx(p,{...xe("regularHrs"),placeholder:"Regular Hours",type:"number",step:"0.1",disabled:!n}),re.regularHrs&&e.jsx("label",{style:{color:"red"},children:re.regularHrs.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Overtime Hours"}),e.jsx(p,{...xe("overtimeHrs"),placeholder:"Overtime Hours",type:"number",step:"0.1",disabled:!n}),re.overtimeHrs&&e.jsx("label",{style:{color:"red"},children:re.overtimeHrs.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Total Hours (weekly)"}),e.jsx(p,{...xe("totalHrsWeekly"),placeholder:"Total Hours (weekly)",type:"number",disabled:!n}),re.totalHrsWeekly&&e.jsx("label",{style:{color:"red"},children:re.totalHrsWeekly.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Total Days on Assignment"}),e.jsx(p,{...xe("totalDaysOnAssignment"),placeholder:"Total Days on Assignment",type:"number",disabled:!n}),re.totalDaysOnAssignment&&e.jsx("label",{style:{color:"red"},children:re.totalDaysOnAssignment.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Guaranteed Hours"}),e.jsx(p,{...xe("gauranteedHours"),placeholder:"Guaranteed Hours",type:"number",disabled:!n}),re.gauranteedHours&&e.jsx("label",{style:{color:"red"},children:re.gauranteedHours.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{children:"Compliance Due Date"}),n?e.jsx(Ie,{selected:i!=null&&i.ComplianceDueDate?new Date(i==null?void 0:i.ComplianceDueDate):k,onChange:te=>w(te),className:"custom-select-picker-all contract-select",customInput:e.jsxs("div",{className:"custom-calendar-wrapper",children:[e.jsx(p,{value:i!=null&&i.ComplianceDueDate?Ce(i==null?void 0:i.ComplianceDueDate):k?Ce(k.toDateString()):"",placeholder:"Select Date"}),e.jsx("img",{src:ke,className:"calendar-icon"})]}),disabled:!0}):e.jsx(ts,{value:i!=null&&i.ComplianceDueDate?i==null?void 0:i.ComplianceDueDate:"-",disabled:!0})]}),e.jsxs(m,{className:"col-group",children:[e.jsx(u,{className:"",children:"Notes"}),e.jsx(p,{...xe("notes"),placeholder:"Notes",type:"textarea",disabled:!n}),re.notes&&e.jsx("label",{style:{color:"red"},children:re.notes.message})]})]}),e.jsx("div",{children:e.jsx("h6",{children:"Pay Details"})}),e.jsxs(ge,{children:[e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Regular Rate"}),e.jsx(p,{...xe("payDetails.regularRate"),placeholder:"Regular Rate",type:"number",step:"0.1",disabled:!n}),((I=re.payDetails)==null?void 0:I.regularRate)&&e.jsx("label",{style:{color:"red"},children:(W=re.payDetails)==null?void 0:W.regularRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Overtime Rate"}),e.jsx(p,{...xe("payDetails.overTimeRate"),placeholder:"Overtime Rate",type:"number",step:"0.1",disabled:!n}),((L=re.payDetails)==null?void 0:L.overTimeRate)&&e.jsx("label",{style:{color:"red"},children:(Z=re.payDetails)==null?void 0:Z.overTimeRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Double Time Rate(california only)"}),e.jsx(p,{...xe("payDetails.doubleTimeRate"),placeholder:"Double Time Rate",type:"number",step:"0.1",disabled:!n}),((Ee=re.payDetails)==null?void 0:Ee.doubleTimeRate)&&e.jsx("label",{style:{color:"red"},children:(Me=re.payDetails)==null?void 0:Me.doubleTimeRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Holiday Rate"}),e.jsx(p,{...xe("payDetails.holidayRate"),placeholder:"Holiday Rate",type:"number",step:"0.1",disabled:!n}),(($e=re.payDetails)==null?void 0:$e.holidayRate)&&e.jsx("label",{style:{color:"red"},children:(Ge=re.payDetails)==null?void 0:Ge.holidayRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Charge Rate"}),e.jsx(p,{...xe("payDetails.chargeRate"),placeholder:"Charge Rate",type:"number",step:"0.1",disabled:!n}),((hs=re.payDetails)==null?void 0:hs.chargeRate)&&e.jsx("label",{style:{color:"red"},children:(os=re.payDetails)==null?void 0:os.chargeRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"On-Call Rate"}),e.jsx(p,{...xe("payDetails.onCallRate"),placeholder:"On-Call Rate",type:"number",step:"0.1",disabled:!n}),((j=re.payDetails)==null?void 0:j.onCallRate)&&e.jsx("label",{style:{color:"red"},children:(G=re.payDetails)==null?void 0:G.onCallRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"CallBack Rate"}),e.jsx(p,{...xe("payDetails.callBackRate"),placeholder:"CallBack Rate",type:"number",step:"0.1",disabled:!n}),((oe=re.payDetails)==null?void 0:oe.callBackRate)&&e.jsx("label",{style:{color:"red"},children:(Re=re.payDetails)==null?void 0:Re.callBackRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Travel Reimbursement"}),e.jsx(p,{...xe("payDetails.travelReimbursement"),placeholder:"Travel Reimbursement",type:"number",step:"0.1",disabled:!n}),((De=re.payDetails)==null?void 0:De.travelReimbursement)&&e.jsx("label",{style:{color:"red"},children:(ze=re.payDetails)==null?void 0:ze.travelReimbursement.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Meals & Incidentals Stipend(Daily)"}),e.jsx(p,{...xe("payDetails.mealsAndIncidentals"),placeholder:"Meals & Incidentals Stipend",type:"number",step:"0.1",disabled:!n}),((Ye=re.payDetails)==null?void 0:Ye.mealsAndIncidentals)&&e.jsx("label",{style:{color:"red"},children:(We=re.payDetails)==null?void 0:We.mealsAndIncidentals.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Housing Stipend(Daily)"}),e.jsx(p,{...xe("payDetails.housingStipend"),placeholder:"Housing Stipend",type:"number",step:"0.1",disabled:!n}),((bs=re.payDetails)==null?void 0:bs.housingStipend)&&e.jsx("label",{style:{color:"red"},children:(vs=re.payDetails)==null?void 0:vs.housingStipend.message})]})]}),e.jsx("div",{children:e.jsx("h6",{children:"Billing Details"})}),e.jsxs(ge,{children:[e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Bill Rate"}),e.jsx(p,{...xe("billingDetails.billRate"),placeholder:"Bill Rate",type:"number",step:"0.1",disabled:!n}),((Ss=re.billingDetails)==null?void 0:Ss.billRate)&&e.jsx("label",{style:{color:"red"},children:(Cs=re.billingDetails)==null?void 0:Cs.billRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Overtime Bill Rate"}),e.jsx(p,{...xe("billingDetails.overTimeBillRate"),placeholder:"Overtime Bill Rate",type:"number",step:"0.1",disabled:!n}),((Ds=re.billingDetails)==null?void 0:Ds.overTimeBillRate)&&e.jsx("label",{style:{color:"red"},children:(Rs=re.billingDetails)==null?void 0:Rs.overTimeBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Double Time Bill Rate(California only)"}),e.jsx(p,{...xe("billingDetails.doubleTimeBillRate"),placeholder:"Double Time Rate",type:"number",step:"0.1",disabled:!n}),((Es=re.billingDetails)==null?void 0:Es.doubleTimeBillRate)&&e.jsx("label",{style:{color:"red"},children:(Ts=re.billingDetails)==null?void 0:Ts.doubleTimeBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Holiday Bill Rate"}),e.jsx(p,{...xe("billingDetails.holidayBillRate"),placeholder:"Holiday Bill Rate",type:"number",step:"0.1",disabled:!n}),((Is=re.billingDetails)==null?void 0:Is.holidayBillRate)&&e.jsx("label",{style:{color:"red"},children:(ks=re.billingDetails)==null?void 0:ks.holidayBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Charge Bill Rate"}),e.jsx(p,{...xe("billingDetails.chargeBillRate"),placeholder:"Charge Bill Rate",type:"number",step:"0.1",disabled:!n}),((ws=re.billingDetails)==null?void 0:ws.chargeBillRate)&&e.jsx("label",{style:{color:"red"},children:(Fs=re.billingDetails)==null?void 0:Fs.chargeBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"On-Call Bill Rate"}),e.jsx(p,{...xe("billingDetails.onCallBillRate"),placeholder:"On-Call Bill Rate",type:"number",step:"0.1",disabled:!n}),((Bs=re.billingDetails)==null?void 0:Bs.onCallBillRate)&&e.jsx("label",{style:{color:"red"},children:(Ms=re.billingDetails)==null?void 0:Ms.onCallBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"CallBack Rate"}),e.jsx(p,{...xe("billingDetails.callBackBillRate"),placeholder:"CallBack Bill Rate",type:"number",step:"0.1",disabled:!n}),((Os=re.billingDetails)==null?void 0:Os.callBackBillRate)&&e.jsx("label",{style:{color:"red"},children:(Js=re.billingDetails)==null?void 0:Js.callBackBillRate.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Cost Center(If applicable)"}),e.jsx(p,{...xe("costCenter"),placeholder:"Cost Center",type:"text",disabled:!n}),re.costCenter&&e.jsx("label",{style:{color:"red"},children:re.costCenter.message})]}),e.jsxs(m,{xxl:"4",xl:"4",lg:"6",md:"6",className:"col-group",children:[e.jsx(u,{className:"",children:"Client Req ID #(If applicable)"}),e.jsx(p,{placeholder:"Client Req ID",type:"text",...xe("reqId"),disabled:!n})]})]}),n&&e.jsxs("div",{style:{marginLeft:"0px"},children:[e.jsx(le,{className:"primary-btn ms-0",type:"submit",onClick:Ne(he),disabled:b===!0,children:"Update"}),e.jsx(le,{className:"secondary-btn",onClick:l,children:"Cancel"})]})]})})})]})},uc=({row:l,isOpen:s,toggle:t,jobApplicationId:h,jobAssignmentId:y,jobId:c,professionalId:N,facilityId:g,fetchRosterData:i,currentStatus:o,currentAssignmentRow:n})=>{const[b,S]=r.useState(!1),[a,x]=r.useState("idle"),[d,C]=r.useState(null),[f,O]=r.useState(null),[M,k]=r.useState(null),w=r.useCallback(async()=>{x("loading");const F=async(B,R,$=!1)=>{try{const D=await B();R($?D.data.data[0]:D.data.data)}catch(D){const T=D.response?D.response.data.message:D.message;E("Error fetching data",T),console.error("Error fetching data:",D)}},q=[()=>Le.getJobDetails({facilityId:g,jobId:c}),()=>Oe.fetchProfessionalDetails({facilityId:g,professionalId:N,jobId:c}),()=>Oe.getJobAssignment({facilityId:g,jobId:c,professionalId:N,jobApplicationId:h,jobAssignmentId:y})],H=[k,O,C],Q=[!0,!0,!0];(async()=>{await Promise.allSettled(q.map((B,R)=>F(B,H[R],Q[R]))),x("idle")})().catch(B=>{E("error","Error fetching data"),console.error("Error fetching data:",B),x("error")})},[g,c,h,y,N]);return r.useEffect(()=>{w()},[w]),e.jsxs(e.Fragment,{children:[a==="loading"&&e.jsx(de,{}),e.jsxs(we,{isOpen:s,toggle:t,centered:!0,size:"xl",className:"onboard-modal",children:[e.jsx(Be,{toggle:t,style:{background:"#FFF"},children:"Service Extension Details"}),e.jsx(Fe,{children:e.jsxs("div",{className:"view-file-wrapper",children:[f&&d&&M&&e.jsx(Al,{edit:b,setEdit:S,professional:f,professionalId:N,jobDetails:M,currentStatus:o}),f&&M&&d&&n&&e.jsx(mc,{edit:b,row:l,toggle:t,professional:f,professionalId:N,jobDetails:M,jobAssignment:d,jobApplicationId:h,jobAssignmentId:y,jobId:c,facilityId:g,fetchRosterData:i,currentAssignmentRow:n})]})})]})]})},hc=()=>{const l=gs(),s=({facilityId:j,jobId:G})=>{l(`/view/facility/${j}/job/${G}`)},[t,h]=r.useState(!1),[y,c]=r.useState(!1),[N,g]=r.useState(!1),[i,o]=r.useState(!1),[n,b]=r.useState(!1),[S,a]=r.useState(!1),x=He(),[d,C]=r.useState(1),[f,O]=r.useState(10),[M,k]=r.useState([]),[w,F]=r.useState("idle"),[q,H]=r.useState(""),[Q,B]=r.useState(0),[R,$]=r.useState(0),[D,T]=r.useState(1),[v,U]=r.useState(null),[Y,J]=r.useState(null),[V,A]=r.useState(!1),[P,se]=r.useState(null),[ve,ye]=r.useState(!1),[ce,xe]=r.useState(null),[Ne,_]=r.useState(!1),[re,cs]=r.useState(null),[Je,be]=r.useState(!1),Ae=new AbortController,he=r.useCallback(xs(async()=>{var j,G,oe,Re;F("loading");try{const De=await Oe.getFacilityGigHistory({facilityId:Number(x.Id),size:f,page:d,search:q.length>0?q:void 0,startDate:v?Ce(v.toString()):void 0,endDate:Y?Ce(Y.toString()):void 0,abortController:Ae});De.status===200&&(B((j=De.data.data[0])==null?void 0:j.count),$(Math.ceil(((G=De.data.data[0])==null?void 0:G.count)/f)),k(De==null?void 0:De.data.data[0].rows),F("idle"),cs(null))}catch(De){if(Ae.signal.aborted){ye(!0);return}console.error(De),F("error"),E("error",((Re=(oe=De==null?void 0:De.response)==null?void 0:oe.data)==null?void 0:Re.message)||"Something went wrong")}},300),[Y,d,x.Id,q,f,v,ve]),ae=j=>{H(j),T(1)},me=async j=>{q?T(j):C(j)};r.useEffect(()=>(he(),()=>Ae.abort()),[he,d,ve]);const Xe=()=>{h(!t)},Pe=()=>{c(!y)},qe=()=>{b(!0)},I=()=>{b(!1)},W=j=>{cs(G=>G===j.Id?null:j.Id)},L=async({value:j,professionalId:G,jobApplicationId:oe,jobId:Re,jobAssignmentId:De})=>{var ze,Ye;F("loading");try{(await Oe.declineAssignment({facilityId:Number(x.Id),jobId:Re,professionalId:G,jobApplicationId:oe,jobAssignmentId:De,value:j})).status===200&&(he(),F("idle"))}catch(We){console.error("error",We),F("error"),E("error",((Ye=(ze=We==null?void 0:We.response)==null?void 0:ze.data)==null?void 0:Ye.message)||"Something went wrong")}},Z=async({value:j,professionalId:G,jobApplicationId:oe,jobId:Re})=>{var De,ze;F("loading");try{(await Oe.declineApplication({facilityId:Number(x.Id),jobId:Re,professionalId:G,jobApplicationId:oe,value:j})).status===200&&(he(),F("idle"))}catch(Ye){console.error("error",Ye),F("error"),E("error",((ze=(De=Ye==null?void 0:Ye.response)==null?void 0:De.data)==null?void 0:ze.message)||"Something went wrong")}},Ee=async({facilityId:j,professionalId:G,jobApplicationId:oe,jobId:Re,jobAssignmentId:De})=>{var ze,Ye;F("loading");try{(await Oe.extensionPlacement({facilityId:j,professionalId:G,jobApplicationId:oe,jobId:Re,jobAssignmentId:De})).status===200&&(he(),F("idle"))}catch(We){console.error("error",We),F("error"),E("error",((Ye=(ze=We==null?void 0:We.response)==null?void 0:ze.data)==null?void 0:Ye.message)||"Something went wrong")}},Me={Offered:[{label:"Placement",style:{color:"#5E9B2D"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&(se(j),xe(G),_(!0))}},{label:"Decline By Gig",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Gig",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}},{label:"Decline By Client",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Facility",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}},{label:"Decline By Professional",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Professional",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}}],Placement:[{label:"Terminate",style:{color:"red"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&(se(j),xe(G),g(!0))}}],Submitted:[{label:"Decline By Gig",style:{color:"#717B9E"},onClick:({slot:j})=>{j&&Z({value:"Declined by Gig",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId})}},{label:"Decline By Client",style:{color:"#717B9E"},onClick:({slot:j})=>{j&&Z({value:"Declined by Facility",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId})}},{label:"Decline By Professional",style:{color:"#717B9E"},onClick:({slot:j})=>{j&&Z({value:"Declined by Professional",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId})}}],"Extension Placement":[{label:"Terminate",style:{color:"red"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&(se(j),xe(G),g(!0))}}],"Extension Requested":[{label:"Approve",style:{color:"#5E9B2D"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&(se(j),xe(G),be(!0))}},{label:"Decline By Gig",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Gig",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}},{label:"Decline By Client",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Facility",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}},{label:"Decline By Professional",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Professional",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}}],"Extension Offered":[{label:"Extension Placement",style:{color:"#5E9B2D"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&Ee({facilityId:Number(x.Id),professionalId:j.Professional.Id,jobApplicationId:j.Id,jobAssignmentId:G.Id,jobId:j.JobId})}},{label:"Decline By Gig",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Gig",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}},{label:"Decline By Client",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Facility",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}},{label:"Decline By Professional",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Professional",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}}],Applied:[{label:"Decline By Gig",style:{color:"#717B9E"},onClick:({slot:j})=>{j&&Z({value:"Declined by Gig",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId})}},{label:"Decline By Client",style:{color:"#717B9E"},onClick:({slot:j})=>{j&&Z({value:"Declined by Facility",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId})}},{label:"Decline By Professional",style:{color:"#717B9E"},onClick:({slot:j})=>{j&&Z({value:"Declined by Facility",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId})}}],"Pending Placement":[{label:"Placement",style:{color:"#5E9B2D"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&(se(j),xe(G),_(!0))}},{label:"Decline By Gig",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Gig",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}},{label:"Decline By Client",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Facility",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}},{label:"Decline By Professional",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Professional",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}}],"Pending Extension Placement":[{label:"Extension Placement",style:{color:"#5E9B2D"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&Ee({facilityId:Number(x.Id),professionalId:j.Professional.Id,jobApplicationId:j.Id,jobAssignmentId:G.Id,jobId:j.JobId})}},{label:"Decline By Gig",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Gig",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}},{label:"Decline By Client",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Facility",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}},{label:"Decline By Professional",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Professional",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}}],"Pending Declination":[{label:"Placement",style:{color:"#5E9B2D"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&(se(j),xe(G),_(!0))}},{label:"Decline By Gig",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Gig",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}},{label:"Decline By Client",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Facility",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}},{label:"Decline By Professional",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Professional",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}}],"Pending Extension Declination":[{label:"Extension Placement",style:{color:"#5E9B2D"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&Ee({facilityId:Number(x.Id),professionalId:j.Professional.Id,jobApplicationId:j.Id,jobAssignmentId:G.Id,jobId:j.JobId})}},{label:"Decline By Gig",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Gig",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}},{label:"Decline By Client",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Facility",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}},{label:"Decline By Professional",style:{color:"#717B9E"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&L({value:"Declined by Professional",professionalId:j.Professional.Id,jobApplicationId:j.Id,jobId:j.JobId,jobAssignmentId:G.Id})}}],"Pending Updated Placement":[{label:"Placement",style:{color:"#5E9B2D"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&(se(j),xe(G),_(!0))}},{label:"Terminate",style:{color:"red"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&(se(j),xe(G),g(!0))}}],"Pending Updated Extension Placement":[{label:"Extension Placement",style:{color:"#5E9B2D"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&Ee({facilityId:Number(x.Id),professionalId:j.Professional.Id,jobApplicationId:j.Id,jobAssignmentId:G.Id,jobId:j.JobId})}},{label:"Terminate",style:{color:"red"},onClick:({slot:j,jobAssignmentRow:G})=>{j&&G&&(se(j),xe(G),g(!0))}}]},$e=r.useCallback(async({professionalId:j,currentApplicantId:G,jobId:oe})=>{F("loading");try{if(j&&G){const Re=await Oe.fetchSubmissionPdf({facilityId:Number(x==null?void 0:x.Id),jobId:oe,professionalId:j,jobApplicationId:G});if(Re.status===200){const De=new Blob([Re.data],{type:Re.headers["content-type"]}),ze=window.URL.createObjectURL(De);window.open(ze,"_blank")}F("idle")}}catch(Re){console.error(Re),F("error")}},[x==null?void 0:x.Id]),Ge=()=>a(!0),hs=()=>a(!1),os=[{name:"",cell:j=>e.jsx("div",{className:"d-flex",children:j.JobAssignments.length>0&&e.jsx("div",{className:"d-flex align-items-center",onClick:()=>W(j),children:re===j.Id?e.jsx(ua,{}):e.jsx(ha,{})})})},{name:"Job ID",cell:j=>e.jsxs("div",{className:"center-align roster-jobid",onClick:()=>{s({facilityId:Number(x.Id),jobId:j.JobId})},children:["JID-",j.JobId]})},{name:"Client Req ID",cell:()=>e.jsx("span",{children:"-"})},{name:"Professional Name",cell:j=>e.jsxs("div",{className:"table-username justify-content-start",onClick:()=>{j.JobApplicationStatus.Status==="Applied"?(se(j),Pe()):(se(j),xe(j==null?void 0:j.JobAssignments[0]),h(!0))},children:[e.jsxs("p",{style:{marginRight:"5px"},className:"name-logo",children:[z(j==null?void 0:j.Professional.FirstName[0]),z(j==null?void 0:j.Professional.LastName[0])]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsxs("span",{className:"center-align text-align",children:[z(j==null?void 0:j.Professional.FirstName)," ",z(j==null?void 0:j.Professional.LastName)]}),e.jsx("span",{className:"text-color",children:j==null?void 0:j.Professional.Email})]})]})},{name:"Start Date & End Date",cell:j=>e.jsx(e.Fragment,{children:j.JobAssignments.length!==0?e.jsx("div",{children:j.JobSubmission&&j.JobSubmission.AvailableStartDate?Te(j.JobSubmission.AvailableStartDate).replace(/-/g,"/"):j.AvailableStartDate?Te(j.AvailableStartDate).replace(/-/g,"/"):"-"}):e.jsx("div",{className:"center-align",children:j.JobSubmission&&j.JobSubmission.AvailableStartDate?Te(j.JobSubmission.AvailableStartDate).replace(/-/g,"/"):j.AvailableStartDate?Te(j.AvailableStartDate).replace(/-/g,"/"):"-"})})},{name:"Profession",cell:j=>e.jsx(e.Fragment,{children:j.JobAssignments.length!==0?e.jsx("div",{className:"center-align align-self-center",children:j.Job.JobProfession?j.Job.JobProfession.Profession:"-"}):e.jsx("div",{className:"center-align align-self-center",children:j.Job.JobProfession?j.Job.JobProfession.Profession:"-"})})},{name:"Unit",cell:j=>e.jsx("div",{className:"center-align",children:j.JobAssignments.length!==0?e.jsx("div",{className:"center-align align-self-center",children:j.JobSubmission&&(j!=null&&j.JobSubmission.Unit)?j==null?void 0:j.JobSubmission.Unit.toUpperCase():j.Job&&j.Job.DeptUnit?j.Job.DeptUnit.toUpperCase():"-"}):e.jsx("div",{className:"center-align align-self-center",children:j.JobSubmission&&(j!=null&&j.JobSubmission.Unit)?j==null?void 0:j.JobSubmission.Unit.toUpperCase():j.Job&&j.Job.DeptUnit?j.Job.DeptUnit.toUpperCase():"-"})})},{name:"Application Status",cell:j=>{var G;return e.jsx("div",{className:"opening-assignment-select",children:j.JobApplicationStatus.Status==="Declined by Professional"||j.JobApplicationStatus.Status==="Declined by Facility"||j.JobApplicationStatus.Status==="Declined by Gig"||j.JobApplicationStatus.Status==="Facility Termination"||j.JobApplicationStatus.Status==="Professional Termination"||j.JobApplicationStatus.Status==="Gig Termination"||j.JobAssignments.length!==0?e.jsx(e.Fragment,{children:j.JobAssignments.length>0?"-":e.jsx("span",{style:{fontWeight:"600",color:ls(j.JobApplicationStatus.Status)},children:j.JobApplicationStatus.Status})}):e.jsx(dl,{children:Me[j.JobApplicationStatus.Status]?e.jsxs(e.Fragment,{children:[e.jsx(el,{caret:!0,style:{color:ls(j.JobApplicationStatus.Status)},children:j.JobApplicationStatus.Status}),e.jsx(sl,{children:(G=Me[j.JobApplicationStatus.Status])==null?void 0:G.map((oe,Re)=>e.jsx(ol,{onClick:()=>{oe.onClick({slot:j})},style:oe.style,children:oe.label},Re))})]}):e.jsx("span",{style:{fontWeight:"600",color:ls(j.JobApplicationStatus.Status)},children:j.JobApplicationStatus.Status})})})}},{name:"",cell:j=>e.jsxs("div",{className:"d-flex center-align custom-article-btn justify-content-center",children:[e.jsx("div",{className:"d-flex justify-content-center",children:j.JobAssignments.length!==0||j.JobApplicationStatus.Status==="Submitted"?e.jsx(Bl,{title:"Download PDF",id:`pdf-${j.Id}`,onDownload:()=>{$e({professionalId:j.Professional.Id,currentApplicantId:j.Id,jobId:j.JobId})}}):e.jsx("div",{style:{marginRight:"40px"}})}),e.jsx("div",{className:" note-wrapper ms-1",children:e.jsx("button",{className:"note-right-button  document-btn roster-btn",onMouseEnter:qe,onMouseLeave:I,color:n?"#FFF":"",onClick:()=>{j.JobApplicationStatus.Status==="Applied"?(se(j),Pe()):(se(j),xe(j==null?void 0:j.JobAssignments[0]),h(!0))},children:"View Profile"})})]})}];return e.jsxs(e.Fragment,{children:[w==="loading"&&e.jsx(de,{}),e.jsxs(ys,{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"},children:[e.jsxs("div",{children:[e.jsx("h2",{className:"page-content-header",children:"Gig History"}),e.jsxs("div",{className:"d-flex",children:[e.jsxs("div",{className:"search-bar-wrapper w-100 mb-3",children:[e.jsx(p,{placeholder:"Search Here",value:q,onChange:j=>ae(j.target.value)}),e.jsx("img",{src:Hs,alt:"search"})]}),e.jsxs("div",{className:"date-range-input search-date-margin roaster-datepicker",children:[e.jsx(Ie,{dateFormat:"dd-MM-yyyy",isClearable:!0,placeholderText:"--",onChange:j=>{U(j)},selected:v,customInput:e.jsxs("div",{className:"custom-calendar-wrapper",children:[e.jsx(p,{placeholder:v?Te(v.toDateString()):"Start Date",value:null}),!v&&e.jsx("img",{src:ke,className:"calendar-icon"})]})}),e.jsx(Ie,{dateFormat:"dd-MM-yyyy",isClearable:!0,onChange:j=>{J(j)},placeholderText:"----",minDate:v?new Date(v.getTime()+24*60*60*1e3):new Date,selected:Y,customInput:e.jsxs("div",{className:"custom-calendar-wrapper",children:[e.jsx(p,{placeholder:Y?Te(Y.toDateString()):"End Date",value:null}),!Y&&e.jsx("img",{src:ke,className:"calendar-icon"})]})}),e.jsx("div",{onMouseEnter:Ge,onMouseLeave:hs,className:"header-search-icon",children:e.jsx(ea,{color:S?"#FFF":"#717B9E"})})]})]})]}),e.jsx("div",{children:M.length===0?e.jsx("div",{className:"no-data-found text-center",children:"There are no records to display."}):e.jsx("div",{className:"roaster-main-table w-100",children:e.jsxs(ma,{children:[e.jsx("thead",{children:e.jsx("tr",{children:os.map((j,G)=>e.jsx("th",{style:{fontWeight:"600",fontSize:"14px"},children:j.name},G))})}),e.jsx("tbody",{children:M.map((j,G)=>e.jsxs(e.Fragment,{children:[e.jsx("tr",{children:os.map((oe,Re)=>e.jsx(e.Fragment,{children:e.jsx("td",{style:{fontSize:"14px"},children:oe.cell&&oe.cell(j,G,oe,Re)},Re)}))},G),re===j.Id&&e.jsx(e.Fragment,{children:j.JobAssignments.map(oe=>{var Re,De,ze;return e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"25px 10px"}}),e.jsx("td",{style:{padding:"25px 10px"}}),e.jsx("td",{style:{padding:"25px 10px"},children:oe.ReqId?e.jsx("span",{children:oe.ReqId.toUpperCase()}):"-"}),e.jsx("td",{style:{padding:"25px 10px"}}),e.jsxs("td",{style:{padding:"25px 10px"},children:[oe.StartDate?Te(oe.StartDate).replace(/-/g,"/"):"-","-",oe?Te(oe.EndDate).replace(/-/g,"/"):"-"]}),e.jsx("td",{style:{padding:"25px 10px"},children:(Re=oe.JobProfession)!=null&&Re.Profession?(De=oe.JobProfession)==null?void 0:De.Profession:"-"}),e.jsx("td",{style:{padding:"25px 10px"},children:oe.Unit?oe.Unit.toUpperCase():"-"}),e.jsx("td",{style:{padding:"25px 10px"},children:e.jsx("div",{className:"opening-assignment-select",children:oe.JobApplicationStatus.Status==="Declined by Professional"||oe.JobApplicationStatus.Status==="Declined by Facility"||oe.JobApplicationStatus.Status==="Declined by Gig"||oe.JobApplicationStatus.Status==="Facility Termination"||oe.JobApplicationStatus.Status==="Professional Termination"||oe.JobApplicationStatus.Status==="Gig Termination"?e.jsx("span",{style:{fontWeight:"600",color:ls(oe.JobApplicationStatus.Status)},children:oe.JobApplicationStatus.Status}):e.jsx(dl,{children:Me[oe.JobApplicationStatus.Status]?e.jsxs(e.Fragment,{children:[e.jsx(el,{caret:!0,style:{color:ls(oe.JobApplicationStatus.Status)},children:oe.JobApplicationStatus.Status}),e.jsx(sl,{children:(ze=Me[oe.JobApplicationStatus.Status])==null?void 0:ze.map((Ye,We)=>e.jsx(ol,{onClick:()=>{Ye.onClick({slot:j,jobAssignmentRow:oe})},style:Ye.style,children:Ye.label},We))})]}):e.jsx("span",{style:{fontWeight:"600",color:ls(oe.JobApplicationStatus.Status)},children:oe.JobApplicationStatus.Status})})})}),e.jsx("td",{style:{padding:"25px 10px"},children:e.jsxs("div",{className:"d-flex center-align custom-article-btn justify-content-center",children:[e.jsx("div",{children:e.jsx(kl,{onEye:()=>{se(j),xe(oe),A(!0)}})}),e.jsx("div",{className:" note-wrapper ms-1",children:e.jsx("button",{className:"note-right-button  document-btn roster-btn",onMouseEnter:qe,onMouseLeave:I,color:n?"#FFF":"",onClick:()=>{se(j),xe(oe),h(!0)},children:"View Profile"})})]})})]})})})]}))})]})})}),e.jsx("div",{style:{marginTop:"auto"},children:e.jsx(_s,{currentPage:q?D:d,totalPages:R,onPageChange:me,onPageSizeChange:O,entriesPerPage:f,totalRows:Q,setPage:C})})]}),N&&P&&ce&&e.jsx(ic,{jobId:P.JobId,professionalId:P.Professional.Id,facilityId:Number(x.Id),jobApplicationId:P.Id,jobAssignmentId:ce.Id,isOpen:N,toggle:()=>g(!1),fetchRoster:he}),V&&P&&ce&&e.jsx(uc,{row:P,fetchRosterData:he,isOpen:V,toggle:()=>{A(!1)},currentAssignmentRow:ce,facilityId:Number(x.Id),professionalId:P.Professional.Id,jobId:P.JobId,jobApplicationId:P.Id,jobAssignmentId:ce.Id,currentStatus:ce.JobApplicationStatus.Status}),i&&P&&ce&&e.jsx(Ai,{isOpen:i,facilityId:Number(x.Id),professionalId:P.Professional.Id,jobId:P.JobId,jobApplicationId:P.Id,jobAssignmentId:ce.Id,currentStatus:P.JobApplicationStatus.Status,toggle:()=>o(!1),fetchRosterData:he}),Je&&P&&ce&&e.jsx(rc,{row:P,fetchRosterData:he,isOpen:Je,toggle:()=>{be(!1)},facilityId:Number(x.Id),professionalId:P.Professional.Id,jobId:P.JobId,jobApplicationId:P.Id,jobAssignmentId:ce.Id,currentStatus:ce.JobApplicationStatus.Status,isReadOnly:!1}),t&&P&&e.jsx(tc,{isOpen:t,toggle:Xe,professionalId:P.Professional.Id,jobId:P.JobId,jobApplicationId:P.Id,fetchList:he}),y&&P&&e.jsx(xc,{isOpen:y,toggle:Pe,currentProfessionalId:P==null?void 0:P.Professional.Id,currentJobId:P==null?void 0:P.JobId,currentStatus:P==null?void 0:P.JobApplicationStatus.Status}),Ne&&P&&ce&&e.jsx(nc,{facilityId:Number(x.Id),jobId:P.JobId,jobApplicationId:P.Id,jobAssignmentId:ce.Id,professionalId:P.Professional.Id,isOpen:Ne,slot:ce,toggle:()=>_(!1),fetchJobAssignments:he})]})},jc=()=>{const{activeComponent:l,setActiveComponent:s}=r.useContext(ut),t=He(),[h,y]=r.useState(),[c,N]=r.useState(!0),[g,i]=r.useState(""),o=gs(),n={"Facility Details":e.jsx(St,{}),"Facility Locations":e.jsx(Vt,{}),Contacts:e.jsx(si,{}),"Job Templates":e.jsx(bi,{}),Jobs:e.jsx(Di,{}),Compliance:e.jsx(Ft,{}),Onboarding:e.jsx(_i,{}),Roster:e.jsx(zt,{}),"Contract Terms":e.jsx(Dt,{}),"Notes & Activity":e.jsx(Pi,{}),"Facility Documents":e.jsx(di,{}),"FAQ's":e.jsx(Ni,{}),"Gig History":e.jsx(hc,{})},b=()=>{o("/facility"),ja()},S=async()=>{var a,x,d,C;try{const f=await da(Number(t==null?void 0:t.Id));y((a=f==null?void 0:f.data)==null?void 0:a.data[0]);const O=(x=f==null?void 0:f.data)==null?void 0:x.data[0].ImageUrl;O?(i(O),N(!1)):(i($s),N(!1))}catch(f){console.error(f),E("error",((C=(d=f==null?void 0:f.response)==null?void 0:d.data)==null?void 0:C.message)||"Something went wrong")}};return r.useEffect(()=>{S()},[t==null?void 0:t.Id]),e.jsxs("div",{children:[e.jsxs("div",{className:"navigate-wrapper",children:[e.jsx(Us,{to:"",onClick:b,className:"link-btn",children:"Facilities"}),e.jsx("span",{children:" / "}),e.jsx("span",{children:z((h==null?void 0:h.Name)??"--")})]}),e.jsxs("div",{className:"sidebar-section-wrapper template-sidebar",children:[e.jsx("div",{className:"leftside",children:e.jsx(vt,{setActiveComponent:s,activeComponent:l})}),e.jsxs("div",{className:"rightside",children:[e.jsx(bt,{data:h,imageLoading:c,imageURL:g}),e.jsx("div",{className:"facility-listing-wrapper main-section",children:n[l]})]})]})]})};export{jc as default};
